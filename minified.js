var e,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function ba(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ca=ba(this);
function da(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];if(!(f in c))break a;c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}da("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}});da("Math.log2",function(a){return a?a:function(b){return Math.log(b)/Math.LN2}});
da("Math.log10",function(a){return a?a:function(b){return Math.log(b)/Math.LN10}});
var u=function(){function a(l,m){l=287867*(l%2147483648^1147483648^m)&2147483647;l^=1111111111;l=287867*l&2147483647;return l/2147483648}function b(l,m){m-=(""+l).length;if(0>=m)return l;for(var q="",y=0;y<m;y++)q+="0";return q+l}function c(l,m){d()&&(window.localStorage[m]=l?l:"")}function d(){try{return"localStorage"in window&&null!==window.localStorage}catch(l){return!1}}function f(l,m){history&&history.replaceState?m?history.replaceState(void 0,void 0,"#"+l+"="+m):window.location.hash&&history.replaceState(void 0,
void 0,"#"):m?window.location.hash="#"+l+"="+m:window.location.hash&&(window.location.hash="")}function g(l){if(null==l||"object"!=typeof l)return l;if(l instanceof Array){for(var m=[],q=0,y=l.length;q<y;q++)m[q]=g(l[q]);return m}if(l instanceof Object){m=new l.constructor;for(q in l)l.hasOwnProperty(q)&&(m[q]=g(l[q]));return m}throw Error("Cloning this object not supported.");}function h(l,m){var q=Array.prototype.slice.call(arguments,1);return function(){return l.apply(this,q.concat(Array.prototype.slice.call(arguments)))}}
function k(l,m,q,y,A,B){l=p(l,B);l.style.position="absolute";l.style.left=m&&m.length&&"%"==m[m.length-1]?m:Math.floor(m)+"px";l.style.top=q&&q.length&&"%"==q[q.length-1]?q:Math.floor(q)+"px";l.style.width=y&&y.length&&"%"==y[y.length-1]?y:Math.floor(y)+"px";l.style.height=A&&A.length&&"%"==A[A.length-1]?A:Math.floor(A)+"px";return l}function p(l,m){m=m||document.body;l=document.createElement(l);"doNotAddToParent"!=m&&m.appendChild(l);return l}var n={Te:"doNotAddToParent"};n.Cc=p;n.Ge=function(l){l=
p("span",l);l.style.position="absolute";l.style.left="0px";l.style.top="0px";return l};n.jd=k;n.Pa=function(l){if(l){var m=l.parentNode;m&&m.contains(l)&&m.removeChild(l)}};n.Fe=function(l,m,q,y,A){return k("div",l,m,q,y,A)};n.bind=h;n.clone=g;n.df=function(l,m,q){return l.substr(m,q.length)==q};n.Ye=function(l,m){l=g(l);for(var q in m)m.hasOwnProperty(q)&&(l[q]=m[q]);return l};n.Ue=function(l,m){m=m||window.location.href;l=l.replace(/[\[\]]/g,"\\$&");return(l=(new RegExp("[?&]"+l+"(=([^&#]*)|&|#|$)")).exec(m))?
l[2]?decodeURIComponent(l[2].replace(/\+/g," ")):"":null};n.Ve=function(l,m){m=m||window.location.href;l=l.replace(/[\[\]]/g,"\\$&");return(l=(new RegExp("[#&]"+l+"(=([^&#]*)|&|#|$)")).exec(m))?l[2]?decodeURIComponent(l[2].replace(/\+/g," ")):"":null};n.af=f;n.Oe=function(){f("",null)};n.We=function(){var l=window.location.href,m=l.indexOf("?");0<=m&&(l=l.substr(0,m));m=l.indexOf("#");0<=m&&(l=l.substr(0,m));return l};n.Qe=function(){document.selection?document.selection.empty():window.getSelection&&
window.getSelection().removeAllRanges()};n.Xe=d;n.cb=c;n.Ea=function(l,m){return d()&&void 0!=window.localStorage[l]?window.localStorage[l]:m};n.Xa=function(l){d()&&c(void 0,l)};n.Ie=function(l){function m(){l();requestAnimationFrame(function(){window.setTimeout(m,333)})}window.setTimeout(m,333)};n.Pe=function(l){l()};n.bf=function(l,m){var q=(new Date).getTime(),y=!1;requestAnimationFrame(function(){y||(m-=(new Date).getTime()-q,0<m?window.setTimeout(function(){y||l()},m):l())});return function(){y=
!0}};n.Re=function(l){l()};n.Ee=function(l){var m=.35;"black"==l&&(l="#000000");"white"==l&&(l="#ffffff");"red"==l&&(l="#ff0000");"green"==l&&(l="#00ff00");"blue"==l&&(l="#0000ff");"yellow"==l&&(l="#00ffff");4==l.length&&(l="#"+l[1]+l[1]+l[2]+l[2]+l[3]+l[3]);l=[parseInt(l.substr(1,2),16),parseInt(l.substr(3,2),16),parseInt(l.substr(5,2),16)];l[0]=Math.floor(l[0]*m);l[1]=Math.floor(l[1]*m);l[2]=Math.floor(l[2]*m);m=l[0].toString(16);var q=l[1].toString(16);l=l[2].toString(16);1==m.length&&(m="0"+m);
1==q.length&&(q="0"+q);1==l.length&&(l="0"+l);return"#"+m+q+l};n.F=function(l,m,q,y){function A(){return""==K?"":" "}q=q||3;if(Infinity==l)return"Infinity "+(m?"s":" seconds");var B=l;l=Math.floor(l);var E=0,I=0,L=0,ha=0,Aa=0,Ma=0,Ia=0,Ta=0;!(y&&9>q)&&31556952E9<=l&&(E=Math.floor(l/31556952E9),l-=31556952E9*E);!(y&&8>q)&&31556952E6<=l&&(I=Math.floor(l/31556952E6),l-=31556952E6*I);!(y&&7>q)&&31556952E3<=l&&(L=Math.floor(l/31556952E3),l-=31556952E3*L);!(y&&6>q)&&31557600<=l&&(ha=Math.floor(l/31557600),
l-=31557600*ha);!(y&&5>q)&&2635200<=l&&(Aa=Math.floor(l/2635200),l-=2635200*Aa);!(y&&4>q)&&86400<=l&&(Ma=Math.floor(l/86400),l-=86400*Ma);!(y&&3>q)&&3600<=l&&(Ia=Math.floor(l/3600),l-=3600*Ia);!(y&&2>q)&&60<=l&&(Ta=Math.floor(l/60),l-=60*Ta);var Y=m?"Ga Ma mm Y M d h m s".split(" "):" Ga; Ma; millenium; year; month; day; hour; minute; second".split(";");m=m?"Ga Ma mm Y M d h m s".split(" "):" Ga; Ma; millenia; years; months; days; hours; minutes; seconds".split(";");var K="";if(y)0<E&&(K+=A()+E+Y[0]),
0<I&&(K+=A()+I+Y[1]),0<L&&(K+=A()+L+Y[2]),0<ha&&(K+=A()+ha+Y[3]),0<Aa&&(K+=A()+Aa+Y[4]),0<Ma&&(K+=A()+Ma+Y[5]),0<Ia&&(K+=A()+Ia+Y[6]),0<Ta&&(K+=A()+Ta+Y[7]),0<l&&(K+=A()+l+Y[8]);else if(y=0,100<E&&++y,10<E&&++y,0<E&&(K+=E+Y[0],++y>=q)||0<I&&(K+=A()+I+Y[1],++y>=q)||0<L&&(K+=A()+L+(1==L?Y[2]:m[2]),++y>=q)||0<ha&&(K+=A()+ha+(1==ha?Y[3]:m[3]),++y>=q)||0<Aa&&(K+=A()+Aa+(1==Aa?Y[4]:m[4]),++y>=q)||0<Ma&&(K+=A()+Ma+(1==Ma?Y[5]:m[5]),++y>=q)||0<Ia&&(K+=A()+Ia+(1==Ia?Y[6]:m[6]),++y>=q)||0<Ta&&(K+=A()+Ta+(1==
Ta?Y[7]:m[7]),++y>=q)||0<l&&(K+=A()+l+(1==l?Y[8]:m[8]),++y>=q))return K;""==K&&(K=B.toFixed(3)+m[8]);return K};n.zb=function(l,m){l=new Date(1E3*l);var q=""+b(l.getFullYear(),4);m||(q+="-");q+=b(l.getMonth()+1,2);m||(q+="-");q+=b(l.getDate(),2);q=q+(m?"T":" ")+b(l.getHours(),2);m||(q+=":");q+=b(l.getMinutes(),2);m||(q+=":");return q+=b(l.getSeconds(),2)};var r=["","M","MM","MMM"],t=" C CC CCC CD D DC DCC DCCC CM".split(" "),x=" X XX XXX XL L LX LXX LXXX XC".split(" "),v=" I II III IV V VI VII VIII IX".split(" ");
n.la=function(l){return 1>l||3999<l?l.toString():r[Math.floor(l/1E3)]+t[Math.floor(l/100)%10]+x[Math.floor(l/10)%10]+v[l%10]};n.Yd=function(l,m,q){var y=0==m;if(2047==m)return l?q?NaN:-Infinity:q?NaN:Infinity;m-=1023;y&&m++;q/=Math.pow(2,52);y||(q+=1);m=q*Math.pow(2,m);l&&(m=-m);return m};n.Zd=function(l){var m=0;0>l&&(l=-l,m=1);if(Infinity==l)return[m,2047,0];if(isNaN(l))return[m,2047,1];if(0==l)return 0>1/l&&(m=1),[m,0,0];for(var q=0;2<=l;)l/=2,q++;for(;1>l;)l*=2,q--;q+=1023;if(1>q)return l=Math.floor(l*
Math.pow(2,52+q-1)),[m,0,l];if(2047<=q)return[m,2047,0];l=Math.floor((l-1)*Math.pow(2,52));return[m,q,l]};n.getTime=function(){return Date.now()/1E3};n.Ze=a;n.ge=function(l,m,q){return a(((m+128&32767)<<15)+(l+128&32767),q)};n.$e=function(l,m,q,y){return a(((q+128&1023)<<20)+((m+128&1023)<<10)+(l+128&1023),y)};n.T=function(l){l&&0<l.length&&(l=l[0].toUpperCase()+l.substr(1));return l};n.xe=function(l,m,q){l.sc||(l.sc={});l.sc[m]||(l.sc[m]=[]);if(16<l.sc[m].length)throw"excessive amount of events added, there may be a bug where something keeps adding the same one";
l.sc[m].push(q);l[m]=h(function(y,A){for(var B=0;B<y.length;B++)y[B](A)},l.sc[m])};return n}(),w=u.bind,ea=u.Fe,fa=u.xe;function ia(a){var b=a.clientHeight;a.style.textAlign="center";a.style.verticalAlign="middle";a.style.lineHeight=b+"px";a.g=a}function ja(a){a.innerHTML="";var b=u.Cc("div",a);b.style.display="table";b.style.width="100%";b.style.height="100%";b=u.Cc("div",b);b.style.display="table-cell";b.style.verticalAlign="middle";b.style.textAlign="center";a.g=b}
function ka(a){a.style.cursor="pointer";a.style.userSelect="none";a.g&&(a.g.style.userSelect="none");a.style.backgroundColor?(fa(a,"onmouseover",function(){a.style.filter="brightness(0.93)"}),fa(a,"onmouseout",function(){a.style.filter=""})):(fa(a,"onmouseover",function(){a.style.backgroundColor="#0002"}),fa(a,"onmouseout",function(){a.style.backgroundColor=""}))}
function z(a,b){a.Ud=b?"#fee":"#bbb";a.Vd=b?"#edd":"#aaa";a.ze="#aaa";a.Ae="#bbb";a.Be="#eee";a.Ce="#ddd";a.color=a.Ud;a.Ad=a.Vd;a.style.backgroundColor=a.color;a.g=a;ja(a);a.style.border="1px solid black";ka(a)}function la(a){a.style.boxSizing="border-box";a.style.border="1px solid black";var b=ea("0%","0%","100%","100%",a);b.style.backgroundColor="red";a.style.display="none";a.style.backgroundColor="#ddd";a.visible=!1;a.Sd=b}
function ma(a,b,c){if(0>b)a.visible&&(a.style.display="none",a.visible=!1);else{1<b&&(b=1);var d=a.Sd;a.visible||(a.style.display="",a.visible=!0);d.style.width=100*b+"%";c&&a.De!=c&&(a.Sd.style.backgroundColor=c,a.De=c)}}var na=void 0,oa=0,pa=[],qa=[];
function C(a,b,c,d,f,g){oa++;ra();var h=0==a?new D(sa,.05,.25,.95,.75):2==a?new D(sa,.05,.05,.95,.9):new D(sa,.05,.12,.95,.9);pa.push(h);a=h.a;a.style.backgroundColor="#ddd";a.style.border="1px solid black";a.style.zIndex=""+(10*oa+5);var k=0;if(b){var p=(new D(h,[1,-.3*(k+1)],[1,-.12],[1,-.01-.3*k],[1,-.01],1)).a;p.style.fontWeight="bold";k++;z(p);p.g.innerText=c||"ok";p.onclick=function(r){b(r)}}f&&(p=(new D(h,[1,-.3*(k+1)],[1,-.12],[1,-.01-.3*k],[1,-.01],1)).a,p.style.fontWeight="bold",k++,z(p),
p.g.innerText=g||"extra",p.onclick=function(r){f(r)});a.Ja=function(){na=void 0;ta(h);u.Pa(n);for(var r=0;r<pa.length;r++)if(pa[r]==h){pa.splice(r,1);break}for(r=0;r<qa.length;r++)if(qa[r]==n){qa.splice(r,1);break}oa--;ra()};h.Ja=a.Ja;p=(new D(h,[1,-.3*(k+1)],[1,-.12],[1,-.01-.3*k],[1,-.01],1)).a;k++;z(p);p.g.innerText=d||(b?"cancel":"back");p.onclick=a.Ja;var n=ea(0,0,window.innerWidth,window.innerHeight);qa.push(n);n.style.width="100%";n.style.height="100%";n.style.backgroundColor="rgba(0, 0, 0, 0.5)";
n.style.position="fixed";n.style.zIndex=""+10*oa;n.onclick=a.Ja;return h}function ua(){na=void 0;for(var a=0;a<pa.length;a++)ta(pa[a]);for(a=0;a<qa.length;a++)u.Pa(qa[a]);pa=[];qa=[];oa=0;ra()}document.addEventListener("keyup",function(a){27==a.keyCode&&ua()});var va,wa=void 0;
function F(a,b,c,d){"string"!=typeof b&&b||(b=w(function(p){return p},b));var f=void 0,g="ontouchstart"in window||0<navigator.Me||0<navigator.msMaxTouchPoints;if(g)ra();else{var h=function(p,n){if(0==G.Ia)ra();else if(!f||f!=va)if(va&&(u.Pa(va),wa=va=void 0),p){var r=a.getBoundingClientRect(),t=r.y,x=n.clientX+20;r=Math.max(n.clientY+20,r.y+r.height);f=document.createElement("div");f.style.position="fixed";va=f;1==G.Ia?(f.style.backgroundColor="#840e",f.style.color="#fff",f.style.border="2px solid #fff"):
2==G.Ia?(f.style.backgroundColor="#ccce",f.style.color="#000",f.style.border="1px solid #000"):(f.style.backgroundColor="#0008",f.style.color="#fff",f.style.border="");f.style.padding="4px";f.style.zIndex="999";f.style.lineHeight="normal";f.style.textAlign="left";f.style.verticalAlign="top";f.style.fontSize="";var v=u.Ge(f);v.style.position="";v.innerHTML=p;document.body.appendChild(f);n=f.clientWidth;var l=Math.max(300,Math.floor(.3*sa.a.clientWidth)),m=sa.a.clientWidth;n>l&&(n=l);x+l>m&&(x=m-l);
f.style.left=x+"px";f.style.top=r+"px";f.style.width=n+"px";f.onmouseover=function(){k()};r=f.getBoundingClientRect();x=r.height;r.y+r.height>window.innerHeight&&(f.style.top=t-x+"px");c&&(wa=function(){var q=a.ke();q&&q!=p&&(p=q,v.innerHTML=p)})}},k=function(){wa=void 0;va&&u.Pa(va);f&&f!=va&&u.Pa(f);va=f=void 0};(function(){a.ke=b;a.Le||(a.Le=!0,fa(a,"onmouseover",function(p){g&&!d||h(a.ke(),p,!1)}),fa(a,"onmouseout",function(p){if(!g||d)p=p.toElement||p.relatedTarget,p!=a&&(p&&p.parentNode==a||
p&&p.parentNode&&p.parentNode.parentNode==a||p&&p.parentNode&&p.parentNode.parentNode&&p.parentNode.parentNode.parentNode==a||p&&p.parentNode&&p.parentNode.parentNode&&p.parentNode.parentNode.parentNode&&p.parentNode.parentNode.parentNode.parentNode==a||p!=f&&k())}))})()}}function ra(){va&&u.Pa(va);va=wa=void 0}
function D(a,b,c,d,f,g){this.parent=a||null;this.fontSize=g;b.length?(this.le=b[0],this.me=b[1]||0,this.ne=b[2]||1):(this.le=b,this.me=0,this.ne=1);c.length?(this.re=c[0],this.se=c[1]||0,this.te=c[2]||1):(this.re=c,this.se=0,this.te=1);d.length?(this.oe=d[0],this.pe=d[1]||0,this.qe=d[2]||1):(this.oe=d,this.pe=0,this.qe=1);f.length?(this.ue=f[0],this.ve=f[1]||0,this.we=f[2]||1):(this.ue=f,this.ve=0,this.we=1);a&&a.elements.push(this);this.Ib=a?a.a:document.body;this.a=ea(0,0,0,0,this.Ib);this.a.style.boxSizing=
"border-box";this.elements=[];xa(this)}var ya=void 0,za=void 0,Ba=void 0;
function xa(a){a.a==ya&&(ya=void 0);if(a.Ib!=document.body&&a.Ib)if(a.Ib==ya){var b=za;var c=Ba}else b=a.Ib.clientWidth,c=a.Ib.clientHeight,ya=a.Ib,za=b,Ba=c;else b=window.innerWidth,c=window.innerHeight,ya=void 0;var d=b*a.le+Math.min(b,a.ne*c)*a.me,f=c*a.re+Math.min(a.te*b,c)*a.se,g=b*a.oe+Math.min(b,a.qe*c)*a.pe;b=c*a.ue+Math.min(a.we*b,c)*a.ve;a.a.style.left=Math.floor(d)+"px";a.a.style.top=Math.floor(f)+"px";a.a.style.width=Math.floor(g-d)+"px";a.a.style.height=Math.floor(b-f)+"px";a.fontSize&&
(a.a.style.fontSize=Math.floor(Math.min((g-d)/10,b-f)*a.fontSize)+"px");a.ye&&(d=a.a.clientHeight,a.a.style.textAlign="center",a.a.style.verticalAlign="middle",a.a.style.lineHeight=d+"px")}function Ca(a){a.ye=!0;xa(a)}D.prototype.update=function(){xa(this);for(var a=0;a<this.elements.length;a++)this.elements[a].update()};function ta(a){a.a==ya&&(ya=void 0);u.Pa(a.a);if(a.parent)for(var b=a.parent.elements,c=0;c<b.length;c++)if(b[c]==a){b.splice(c,1);break}}
D.prototype.clear=function(){this.a==ya&&(ya=void 0);for(var a=0;a<this.elements.length;a++)this.elements[a].a==ya&&(ya=void 0),u.Pa(this.elements[a].a);this.elements=[];this.a.innerHTML=""};function Da(a,b,c){var d=Math.min(Math.min(a,b),c),f=Math.max(Math.max(a,b),c);if(d==f)return 0;a=(a==f?(b-c)/(f-d):b==f?2+(c-a)/(f-d):4+(a-b)/(f-d))/6;0>a&&(a+=1);return a}
function Ea(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255,f;b-=Math.floor(b);if(0==c)b=f=c=d;else{c=.5>d?d*(1+c):d+c-d*c;d=2*d-c;var g=b+1/3;1<g&&g--;f=b;var h=b-1/3;0>h&&h++;b=g<1/6?d+6*(c-d)*g:.5>g?c:g<2/3?d+(c-d)*(2/3-g)*6:d;f=f<1/6?d+6*(c-d)*f:.5>f?c:f<2/3?d+(c-d)*(2/3-f)*6:d;c=h<1/6?d+6*(c-d)*h:.5>h?c:h<2/3?d+(c-d)*(2/3-h)*6:d}return[Math.floor(255*b),Math.floor(255*f),Math.floor(255*c),a[3]]}
function Fa(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255,f=Math.min(Math.min(b,c),d),g=Math.max(Math.max(b,c),d);f=0==g?0:(g-f)/g;return[Math.floor(255*(0==f?0:Da(b,c,d))),Math.floor(255*f),Math.floor(255*g),a[3]]}
function Ga(a){if("#"==a[0]){var b=255;a=a.substr(1);if(6==a.length){var c=parseInt(a.substr(0,2),16);var d=parseInt(a.substr(2,2),16);var f=parseInt(a.substr(4,2),16)}else if(3==a.length)c=17*parseInt(a.substr(0,1),16),d=17*parseInt(a.substr(1,1),16),f=17*parseInt(a.substr(2,1),16);else if(8==a.length)c=parseInt(a.substr(0,2),16),d=parseInt(a.substr(2,2),16),f=parseInt(a.substr(4,2),16),b=parseInt(a.substr(6,2),16);else if(4==a.length)c=17*parseInt(a.substr(0,1),16),d=17*parseInt(a.substr(1,1),16),
f=17*parseInt(a.substr(2,1),16),b=17*parseInt(a.substr(3,1),16);else return;return[c,d,f,b]}a=a.toLowerCase();if("black"==a)return[0,0,0,255];if("silver"==a)return[192,192,192,255];if("gray"==a||"grey"==a)return[128,128,128,255];if("white"==a)return[255,255,255,255];if("maroon"==a)return[128,0,0,255];if("red"==a)return[255,0,0,255];if("purple"==a)return[128,0,128,255];if("fuchsia"==a||"magenta"==a)return[255,0,255,255];if("green"==a)return[0,128,0,255];if("lime"==a)return[0,255,0,255];if("olive"==
a)return[128,128,0,255];if("yellow"==a)return[255,255,0,255];if("navy"==a)return[0,0,128,255];if("blue"==a)return[0,0,255,255];if("teal"==a)return[0,128,128,255];if("aqua"==a||"cyan"==a)return[0,255,255,255];if("orange"==a)return[255,165,0,255];if("transparent"==a)return[0,0,0,0]}
var Ha=[["p","r","R","P"],["%","s","S","$"],["x","o","O","X"],["[","e","E","]"],["z","y","Y","Z"],["k","l","L","K"],["|","h","H","#"],["q","g","G","Q"],["u","t","T","U"],["(","c","C",")"],["&","a","A","@"],["d","b","B","D"],["j","i","I","J"],["w","v","V","W"],["n","m","M","N"],["{","f","F","}"]];
function Ja(a){a&&"#"==a[0]&&(a=a.substr(1));var b="#f00 #f40 #f80 #fc0 #ff0 #8f0 #5f0 #0f0 #0f8 #0ff #08f #00f #40f #80f #f0f #f08".split(" "),c=["#400","#822","#a55","#faa"],d=["#000",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"#fff"],f=void 0,g=0,h=0,k=0,p=0;if(a)for(var n=a.split(" "),r=0;r<n.length;r++){var t=n[r],x=t.split(":");t=x[0];var v=x[1];if("l0"==t)c[0]=v;else if("l1"==t)c[1]=v;else if("l2"==t)c[2]=v;else if("l3"==t)c[3]=v;else if("hs0"==t)g=parseFloat(v);else if("hs1"==
t)h=parseFloat(v);else if("ts0"==t)k=parseFloat(v);else if("ts1"==t)p=parseFloat(v);else if("h"==t[0])for(x=0;x<Ha.length;x++){if(t[1]==Ha[x][1]){b[x]=v;break}}else"g0"==t?d[0]=v:"g1"==t?d[1]=v:"g2"==t?d[2]=v:"g3"==t?d[3]=v:"g4"==t?d[4]=v:"g5"==t?d[5]=v:"g6"==t?d[6]=v:"g7"==t?d[7]=v:"g8"==t?d[8]=v:"g9"==t?d[9]=v:"aa"==t&&(f=Fa(Ga(v)))}var l={};for(r=0;9>=r;r++){for(x=r+1;9>x&&void 0==d[x];)x++;if(x==r+1)n=String.fromCharCode(48+r),l[n]=Ga(d[r]);else{var m=Ga(d[r]);v=Ga(d[x]);var q=x-r;for(t=0;t<q;t++){n=
String.fromCharCode(48+r+t);var y=t/q,A=1-y;l[n]=[Math.floor(m[0]*A+v[0]*y),Math.floor(m[1]*A+v[1]*y),Math.floor(m[2]*A+v[2]*y),Math.floor(m[3]*A+v[3]*y)]}r=x-1}}for(r=0;r<Ha.length;r++)for(x=0;4>x;x++){n=Ha[r][x];d=Ga(b[r]);m=Ga(c[x]);v=Fa(d);q=v[0];for(q+=((3-x)*g+x*h)/3*255;255<q;)q-=255;for(;0>q;)q+=255;y=m[0]/255;var B=m[1]/255;var E=m[2]/255;A=Math.min(Math.min(y,B),E);var I=Math.max(Math.max(y,B),E);A==I?A=B=0:(B=Da(y,B,E),y=(I+A)/2,A=.5>y?(I-A)/(I+A):(I-A)/(2-I-A));y=[Math.floor(255*B),Math.floor(255*
A),Math.floor(255*y),m[3]];q=Ea([q,y[1]*v[1]/255,y[2]*v[2]/255]);if(k||p)v=((3-x)*k+x*p)/3,0>v?(v=-v,q[0]=Math.floor(q[0]*(1-v)+0*v),q[2]=Math.floor(q[2]*(1-v)+255*v)):(q[0]=Math.floor(q[0]*(1-v)+255*v),q[2]=Math.floor(q[2]*(1-v)+0*v));l[n]=q;l[n][3]=Math.min(m[3],d[3])}l["+"]=[255,0,0,255];l["-"]=[255,255,0,255];l["*"]=[0,255,0,255];l["/"]=[0,0,255,255];l[" "]=l["."]=[0,0,0,0];if(a)for(n=a.split(" "),r=0;r<n.length;r++)t=n[r],x=t.split(":"),t=x[0],v=x[1],1==t.length&&void 0!=l[t]&&" "!=t&&"."!=t&&
(l[t]=Ga(v));if(f)for(t in l)if(l.hasOwnProperty(t)){a=Fa(l[t]);a[1]*=f[1]/255;a[2]*=f[2]/255;a[3]*=f[3]/255;c=a[0]/255;k=a[1]/255;b=a[2]/255;if(0==k)p=h=b;else switch(c-=Math.floor(c),c*=6,h=Math.floor(c),p=c-Math.floor(c),g=b*(1-k),c=b*(1-k*p),k=b*(1-k*(1-p)),h){case 0:p=b;h=k;b=g;break;case 1:p=c;h=b;b=g;break;case 2:p=g;h=b;b=k;break;case 3:p=g;h=c;break;case 4:p=k;h=g;break;default:p=b,h=g,b=c}l[t]=[Math.floor(255*p),Math.floor(255*h),Math.floor(255*b),a[3]]}return l}var Ka=Ja();
function La(a){a=a.trim();var b=Ka;a=a.split("\n");"#"==a[0][0]&&(b=a[0].substr(1),a.shift(),b=Ja(b));if(a.length){for(var c=a[0].length,d=a.length,f=[],g=0;g<d;g++){f[g]=[];for(var h=0;h<c;h++){var k=a[g][h];k&&"'"!=k||(k=" ");(k=b[k])||(k=[0,0,0,0]);f[g][h]=k}}return[f,c,d]}}
function Na(a){if(a){var b=a[0],c=a[1];a=a[2];var d=document.createElement("canvas");d.width=c;d.height=a;for(var f=d.getContext("2d"),g=f.createImageData(c,a),h=0;h<a;h++)for(var k=0;k<c;k++)g.data[4*(h*c+k)]=b[h][k][0],g.data[4*(h*c+k)+1]=b[h][k][1],g.data[4*(h*c+k)+2]=b[h][k][2],g.data[4*(h*c+k)+3]=b[h][k][3];f.putImageData(g,0,0);return[g,c,a,d]}}function H(a){return Na(La(a))}
function Oa(a,b,c,d,f){f=f||document.body;var g=document.createElement("canvas");g.style.position="absolute";g.style.left=a;g.style.top=b;g.style.width=c;g.style.height=d;g.classList.add("pixelated");f.appendChild(g);return g}function Pa(a,b){var c=a[1],d=a[2];b.width!=c&&(b.width=c);b.height!=d&&(b.height=d);b.getContext("2d").putImageData(a[0],0,0)}var Qa=document.createElement("canvas");function Ra(a){a.getContext("2d").clearRect(0,0,a.width,a.height)};var Sa=[H("#l0:#844 l1:#d66 hg:#2f0\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),H("#hg:#0f4\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
H("#q:#a30 g:#f70\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),H("#q:#88f g:#aaf G:#ccf Q:#eef\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n"),
H("#q:#ff8 g:#ffa G:#ffc Q:#ffe\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n")],Ua=[H("#l0:#844 l1:#d66 hg:#2f0\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),
H("#hg:#0f4\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),H("#q:#a30 g:#f70\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),
H("#q:#88f g:#aaf G:#ccf Q:#eef\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n"),H("#q:#ff8 g:#ffa G:#ffc Q:#ffe\n....$...........\n...$g$$$........\n..$$q$qg$$......\n.$gqqqg$$g$.....\n..$$$qgggqg$....\n.$gqqqqqqg$.....\n$gqgggqgg$$.....\n.$$$$gq$ggg$$...\n.$ggqqqqqqqgg$..\n$gqqgg$qgggqqg$.\n.$gg$g$q$g$gg$..\n..$gggqqqqggg$..\n.$ggqq$$qgqqgg$.\n$gqqgg$$qgggqqg$\n.$gg$$$$q$$ggg$.\n..$$....$..$$$..\n")],
Va=[H("#+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#dbecc8 -:#b5d571\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],Wa=[H("#+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#c3e4bc -:#c9bb9d\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
Xa=[H("#+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#d3be9c -:#cea78b\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],Ya=[H("#+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#fff -:#eef\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],
Za=[H("#+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++--++++++++++++\n++++-++--+-++--+\n++++++++++++++++\n++++++++++++++++\n+++-+--+--+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++++++++++---++\n+---+-+---++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+++--++-+---++++\n++++++++-+++++++\n++++++++++++++++\n++++++++++++++++\n++----++++----++\n+++++++++++++++-\n++++++++++++++++\n++++++++++++-+++\n+---+---++-+++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++++++++---+\n+++++--+-++-++++\n++++++++++++++++\n+-++++++++++++++\n++---+++++++++++\n+++++++---+--+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+----+++----++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),H("#+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n+-+----+-+++++++\n+++++++++-----++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n+---++--++++++++\n++++++++++-----+\n++++++++++++++++\n++++++++++++++++\n++++++++-+++++++\n++-----++----+++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n"),
H("#+:#9df -:#ffd\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n++++++++++++++++\n")],$a=[Va,Wa,Xa,Ya,Za];H("\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n");
H("\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n5555555555555555\n");
var ab=H("\n................\n.....000000.....\n...00------00...\n..0----------0..\n..0----00----0..\n.0-----00-----0.\n.0-----00-----0.\n.0-----00-----0.\n.0-----00-----0.\n.0------------0.\n.0-----00-----0.\n..0----00----0..\n..0----------0..\n...00------00...\n.....000000.....\n................\n"),bb=H("\n...........0....\n..........0-0...\n.........0---0..\n........0-----0.\n.......0000-0000\n..........0-0...\n..........0-0...\n..........0-0...\n..........000...\n................\n................\n................\n................\n................\n................\n................\n"),
cb=H("\n................\n................\n................\n................\n........X.......\n.......XOO......\n.......XOO......\n......XOOOo.....\n.......OOo......\n.......OOo......\n........o.......\n................\n................\n................\n................\n................\n");H("\n................\n................\n................\n................\n................\n................\n................\n................\n...OOoo...OOoo..\n..Ooooxx.Ooooxx.\n...oxxx...oxxx..\n................\n......OOoo......\n.....Ooooxx.....\n......oxxx......\n................\n");
H("\n................\n................\n................\n................\n................\n................\n.......22.......\n......2110......\n......2100......\n.......00.......\n................\n................\n................\n................\n................\n................\n");H("\n................\n................\n................\n................\n...22...........\n..2110....22....\n..2100...2110...\n...00....2100...\n..........00....\n......22........\n.....2110.......\n.....2100.......\n......00........\n................\n................\n................\n");
var db=H("\n................\n................\n......aaaa......\n....aa@@@@a.....\n...a@@@@@@@aaa..\n...a@@@@@@@@@@a.\n.aa@@@@@@@@@@@a.\na@@@@@@@@@@@@@@a\na@@@@@@@@@@@@@@a\n.a@@@aaa@a@@@@a.\n..aa........aa..\n.....a.aaaa.....\n................\n....aaaaa.aa....\n................\n................\n"),eb=H("\n................\n................\n......-----.....\n.....-ZZZZZ-....\n....-ZZZZZZZ-...\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n...-ZZZZZZZZZ-..\n....-ZZZZZZZ-...\n.....-ZZZZZ-....\n......-----.....\n................\n................\n................\n"),
fb=H("\n................\n...............+\n..............+-\n.......0......+-\n......0.0....+-*\n......0.0...+-**\ny....0...0..+-*/\n.y..0.....0+-*/I\n..y0+++++++-*/IM\n...y********/IMM\n..0MMMMMMMMMMM..\n..0.........0...\n.0000000000000..\n................\n................\n................\n"),gb=[H("# hm:#999\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),
H("# hm:#c70\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),H("# N:#eee M:#bbb m:#888 n:#555\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),
H("# hm:#dfb\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),H("# hm:#ff0\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),
H("# N:#fff M:#eee m:#ddd n:#ccc\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),H("# N:#fee M:#ecc m:#dbb n:#caa\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),
H("# hm:#00f\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),H("# hm:#0f0\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),
H("# hm:#f00\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n"),H("# N:#fff M:#eee m:#ddd n:#ccc\n................\n.........mm.....\n........mmm.....\n......n.mm......\n.......n........\n.......n........\n......NnMMN.....\n...NNNNMMNNnn...\n...NNMNNNmmnn...\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n..NNMMMmmmmnnn..\n..NNMMmmmmmmnn..\n...NMMMmmmmnnn..\n....NMMMmmmnn...\n.....MMM..nnn...\n")];function hb(a,b,c,d,f){a=H(a);b=H(b);c=H(c);var g=H(d);d=La(d);f=La(f);var h=d[1],k=d[2];d=d[0];var p=f[1],n=f[2];f=f[0];for(var r=Math.max(h,p),t=Math.max(k,n),x=[],v=0;v<t;v++){x[v]=[];for(var l=0;l<r;l++){var m=v<k&&l<h?d[v][l]:[0,0,0,0],q=v<n&&l<p?f[v][l]:[0,0,0,0],y=q[3]/255;x[v][l]=[Math.floor(m[0]*(1-y)+q[0]*y),Math.floor(m[1]*(1-y)+q[1]*y),Math.floor(m[2]*(1-y)+q[2]*y),Math.floor(Math.max(m[3],q[3]))]}}d=Na([x,r,t]);return[a,b,c,g,d]}
function ib(a,b,c,d,f){a=H(a);b=H(b);c=H(c);d=H(d);f=H(f);return[a,b,c,d,f]}
var jb=hb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n","\n................\n................\n................\n........ox......\n........ox......\n........ox......\n........ox......\n.......oxx......\n......oxx.......\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n",
"\n...........qq...\n..........qgg...\n.....oxxx.gg....\n....oxxoxx......\n...oxx..ox......\n...ox...ox......\n........ox......\n.......oxx......\n......oxx.......\n......ox........\n......ox........\n......ox........\n................\n................\n................\n................\n","#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n..PP............\n.PRRR...........\n.PRRr...........\n..Rr............\n................\n................\n................\n................\n................\n................\n"),
kb=hb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.............||.\n............|tt.\n........||t.tt..\n........|tut....\n...........u....\n...........u....\n...........u....\n............u...\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....tt..tt.....\n.....t|.tt|.....\n.....t|.t|......\n......uu........\n...ttt..u.......\n...t||...u......\n..........u.....\n..........u.....\n...........u....\n...........u....\n...........u....\n............u...\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.|||||..........\n.tt||||..|||....\n..tttt|.||||||..\n......uttttttt..\n....||..utttt...\n....||t..u......\n...||tt...u.....\n...||tt...u.....\n...|tt.....u....\n....tt.....u....\n...........u....\n............u...\n................\n................\n",
"#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n...0i...........\n...i0....i0.....\n......0i.0i.....\n......i0....i0..\n............0i..\n.....i0.........\n.....0i.i0......\n..i0....0i......\n..0i............\n................\n................\n................\n"),lb=hb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....HH.H.......\n......h.Hh......\n.......x........\n.......x........\n.......x........\n.......x........\n.......x........\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....H...........\n...HHH.....HH...\n....Hh....HHh...\n.....h...xHh....\n.....x...x......\n.....x...x......\n......x..x......\n......x.x.......\n......x.x.......\n.......x........\n.......x........\n.......x........\n.......x........\n.......x........\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..HH............\n..HHHh.HH.......\n...hhhHHhx......\n.....xHh.xHHH...\n.....xhh.HHHhh..\n....HHx..xhhh...\n...HHhx.x.......\n..HHhhx.x.......\n...hh..xHHH.....\n.......xhhhh....\n.......x.hh.....\n.......x........\n.......x........\n................\n","#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n......AA........\n......Aa..Aa....\n..........AA....\n................\n.AA.............\n.aA.............\n................\n.........Aa..AA.\n.........AA..aA.\n.....AA.........\n.AA..aA.........\n.Aa.........aA..\n............AA..\n................\n................\n"),
mb=hb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.........G......\n........oo......\n.....G..o.G.....\n......o.oo......\n......oOo.......\n.......Oo.......\n.......Oo.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n........o..to...\n.......to...o...\n........ot.oo...\n....o...o..o....\n...t.o..o.oot...\n.....o..o.o.....\n.....o..o.o.....\n......o.oo.t....\n.....to.o.......\n......o.oot.....\n......oOo.......\n.......Oo.......\n.......Oo.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......tu..tt.tu.\n......uuo.uuotuu\n.tt..tt.o..uo...\n.tuu.tu.o..oott.\n....ouu.o..o.tuu\n...tto..o.oo....\n..ttuo.ttuottt..\n..uu.ottuuotuu..\n....tto.oo...u..\n......ottu......\n...ttuouuott....\n...uuuoOo.tuu...\n.......Oo.......\n.......Oo.......\n................\n",
"#l0:#800 l1:#c22 l2:#f44 l3:#f88 hf:#802\n.........}F.....\n.}F.}F...Ff.....\n.Ff.Ff.....}F...\n...}F......Ff...\n...Ff.}F........\n......Ff}F......\n........Ff..}F..\n............Ff..\n..............}F\n.........}F.}FFf\n.}F......Ff.Ff..\n.Ff.......}F....\n....}F....Ff....\n..}FFf..........\n..Ff............\n................\n"),nb=hb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......Oo.......\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..........OOO...\n..hOO....O..hh..\n..h..O..O.......\n......OOO.......\n..OOOOOOOOOOO...\n.Oh...OOO....O..\n.h.....Oo....h..\n.......Oo.....h.\n.......Oo.......\n.......Oo.......\n.......Oo.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....L.......L...\n...LLh......Lh..\n...hhh....OOhhh.\n...OO....Lhh....\n.....OO.OLh.....\n.....LLhOh......\n..OOOLLhOOOOOO..\n.OO..OhOO....O..\n.LLh..OOLLh.LLh.\n.LLh...OLLh.LLh.\n..h....Ooh...h..\n.......Oo.......\n.......Oo.......\n................\n","#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........+.+..\n...........r+r..\n.....r.r...+R+..\n.....+R+...r+r..\n.....r+r....r...\n..+.+.r+..+.+...\n..r+rr+r..r+r...\n..+r+.r....R+...\n..R+......r+....\n..+r+.....+R+...\n...+.......+....\n................\n................\n"),
ob=hb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.........u......\n......g.u.......\n.......gu.......\n.......ou.......\n.......ox.......\n.......ox.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.........u......\n......g.u.u.....\n.....g.gx.u.....\n.....g.ox.u.....\n....g..ox.u.....\n.....g.ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n....hh....hhh...\n...huu...huu....\n......uuuu......\n.....uuhuuu..hh.\n....u.huu..u.hu.\n..hu..huuu..uhu.\n.huu..uoxu..u...\n.huu..uox.u.u...\n...u..uox.u..uh.\n..|..u.hh.uh.uhu\nhhu..u.hu.hu.uhu\nhuu..u.hu.hu.u..\n..u..u.ox....u..\n.....u.ox.......\n................\n",
"#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........Pr...\n.....Pr....Rr...\n.....Rr....rp...\n.....rp.........\n................\nPr.........Pr...\nRr.........Rr...\nrp.Pr......rp...\n...Rr...Pr......\n...rp...Rr......\n........rp......\n................\n................\n"),pb=hb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n.......o........\n.......o........\n.....g.o........\n......o.........\n......o.........\n......o.........\n.....o..........\n.....o..........\n.....o..........\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.........o......\n........o.......\n......g.o.......\n.....gg.o.......\n.......o........\n.......o........\n.......o........\n......o.gg......\n....g.o.g.......\n...gg.o.........\n.....o..........\n.....o..........\n.....o..........\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.........o......\n......g.o.gg....\n.....gg.o.g.....\n....ggg.o.......\n.......o.gg.....\n.....g.o.g......\n....gg.o........\n....g.o.ggg.....\n...gg.o.gg......\n..ggg.o.g.......\n.....o..........\n.....o..........\n.....o..........\n................\n","#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n.........LKL....\n.........LKL....\n.........LKL....\n....LKL.........\n....LKL.LKL.....\n....LKL.LKL.....\n........LKL.....\n...LKL..........\n...LKL..........\n...LKL.LKL......\n.......LKL......\n.......LKL......\n................\n................\n"),
qb=hb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....oo.oxoo.....\n......oox.......\n.......ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n...........ooo..\n.....oooxoo.....\n..ooo..ox.......\n.......ox.......\n.......ox.......\n....oo.oxoo.....\n..oo..oox..ooo..\n.......ox.......\n.......ox.......\n.......ox.......\n.......ox.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n..........g.....\n....g....gg.....\n...gg...ggg.....\n..ggg......ooo..\n.....oooxoo...gg\n..ooo..ox..g..g.\ngg...ggox..gg...\n.g...g.ox..ggg..\n....oo.oxoo.....\n..oo..oox..ooo..\ngg.ggg.oxgg...gg\n.g..gg.ox.g...g.\n.....g.ox.......\n.......ox.......\n................\n",
"#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n................\n................\n................\n.........FfFfFf.\n.FfFfFf..f{f{f{.\n.f{f{f{...FfFf..\n..FfFf....f{f{..\n..f{f{.....Ff...\n...Ff......f{...\n...f{...........\n................\n................\n................\n"),rb=hb("\n................\n................\n................\n................\n................\n....|...........\n................\n.......|...|....\n................\n..|.............\n.........|......\n.....|..........\n................\n..|..........|..\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......f........\n.......f........\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......f..f.....\n....f..f..f.....\n....f..f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f..f.....\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n.....f.f.f......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n..hh...f..hhh...\n..hhh..hh.fhh...\n....f..hhhf.....\n.....f.f..f.....\n.....f.f..hhh...\n..hhhf.hhhfhh...\n..hh.f.fhhf.....\n.....f.f.f......\n...hhh.f.f......\n...hhf.fhhh.....\n.....f.f.hh.....\n.....f.f.f......\n.....f.f.f......\n................\n","#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n................\n................\n...........@A...\n...........Aa...\n...@A......Aa...\n...Aa...........\n...Aa...@A......\n........Aa......\n........Aa.@A...\n...........Aa...\n.....@A....Aa...\n.....Aa.........\n.....Aa.........\n................\n................\n"),
sb=hb("\n................\n................\n................\n................\n................\n................\n................\n...o........o...\n........o.......\n................\n.....o.....o....\n................\n....o....o......\n................\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n......|.|.......\n.......||||.....\n........|.......\n........|.......\n........|.......\n........|.......\n........|.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n......z....z....\n......z....z....\n.......z..z.....\n..zz...z.z......\n....zz..z..zzz..\n......zzzzz.....\n........z.......\n........z.......\n........z.......\n........z.......\n........z.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....h.h..h...h..\n.....hhhh.h.h...\n......o....o....\n.h..h.o.hh.ohh..\n..h.h.ho..o....h\n..oo..ho.o.hh.h.\n..h.oo..o..ooo..\n.h..h.ooooo.h.h.\n....h...oh.h.hh.\n......hho.h.h...\n........o.......\n........o.......\n........o.......\n................\n",
"#l0:#800 l1:#c22 l2:#f44 l3:#f88\n................\n..DB............\n..Bb..DB....DB..\n......Bb....Bb..\n.........DB.....\n..DB.....Bb.DB..\n..Bb..DB....Bb..\n......Bb...DB...\n...DB......Bb...\n...Bb.DB.DB...DB\n......Bb.Bb...Bb\n................\n......DB........\n......Bb........\n................\n................\n"),tb=ib("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....h..........\n....h|..........\n.....hhh........\n....h|h.........\n.....h..........\n................\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n....h...........\n...hhh..........\n....h|..........\n.....hhhh.......\n...hh|h||h......\n...h|h.hh.......\n....hh..........\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n...hh...........\n...hhh..........\n...h|h..........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n......89.8......\n......989.......\n.....88h........\n.......h........\n........h.......\n...hh...h.......\n...hhh..h.......\n...h|h.h........\n....h|..........\n.....hh.hhh.....\n..hhh|h|||h.....\n..h||h.hhhh.....\n..hhhh..........\n................\n................\n"),
ub=ib("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........q.......\n.......qq.......\n........qq......\n........q.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........q.......\n.......qqq......\n........q.......\n........q.......\n........q.q.....\n.......qq.qq....\n........qq......\n........q.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n........A.......\n.......vAv......\n........v.......\n........q.......\n........q...q...\n......q.q.q.qq..\n.....qq.q.qq....\n.......qq.qqq...\n........qq......\n........q.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n........A.......\n.......A@A......\n.......A@A......\n.....AA.v.AA....\n....A@@vVv@@A...\n.....AA.v.AA....\n.......A@A......\n.......A@A......\n........A.......\n........q...q...\n......q.q.q.qq..\n.....qq.q.qq....\n.......qq.qqq...\n........qq......\n........q.......\n................\n"),vb=ib("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n..........tt....\n....tt.tt.tt....\n....tt.tt..t....\n....t...t..t....\n....t...t..t....\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n........Z...Z...\n........t...t...\n...Z....t...t...\n...t....t..t....\n....t...t..t....\n....t...t..t....\n....t...t..t....\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n........9...9...\n.......9]9.9]9..\n...9....9...9...\n..9]9...t...t...\n...9....t...t...\n...t....t...t...\n...t....t..t....\n....t...t..t....\n....t...t..t....\n....t...t..t....\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n........9...9...\n.......9Z9.9Z9..\n...9..9Z]Z9Z]Z9.\n..9Z9..9Z9.9Z9..\n.9Z]Z9..9...9...\n..9Z9...t...t...\n...9....t...t...\n...t....t...t...\n...t....t..t....\n....t...t..t....\n....t...t..t....\n....t...t..t....\n................\n"),
wb=ib("\n................\n................\n................\n................\n................\n................\n................\n............J...\n.....J..........\n................\n....J...J.......\n.J..........J...\n.....J..........\n.........J......\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n........|.......\n........|.......\n........|.|.....\n......|.||......\n.......||.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n........||......\n........||......\n........|.......\n........|.......\n........|.......\n........|.......\n......|.|.|.....\n......|.||......\n.......||.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n........-.......\n.......|-|......\n.......|||......\n........|.......\n........|.......\n.....|..|...|...\n.....||.|..||...\n.....||.|.||....\n......||||||....\n......|||||.....\n.......|||......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n.......-Z-......\n......Z-Z-Z.....\n.....--XXX--....\n......Z-Z-Z.....\n.......-Z-......\n........|.......\n........|.......\n........|.......\n.....|..|...|...\n.....||.|..||...\n.....||.|.||....\n......||||||....\n......|||||.....\n.......|||......\n................\n"),xb=ib("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......9]EE......\n......9]EE......\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......XOox......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n......Ooxx......\n......XOox......\n......XOox......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....XOOoxx.....\n....XXXOOoxx....\n....XXXOOoxx....\n....XXXOOoxx....\n....XXXOOoxx....\n......9]EE......\n......9]EE......\n......9]EE......\n......9]EE......\n......9]EE......\n................\n................\n"),
yb=ib("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......oO.......\n.......9o.......\n.......9O.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......oO.......\n.......Oo.......\n.......oO.......\n.......9X.......\n.......9X.......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.......Oo.......\n.......XOo......\n......oOo.......\n.......oO.......\n.......9X.......\n.......9X.......\n.......9X.......\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.......Oo.......\n......XoXO......\n......OXOo......\n......oOoO......\n......OXOX......\n......oOoo......\n......XoOX......\n......oOXo......\n.......oO.......\n.......9X.......\n.......9X.......\n.......9X.......\n.......9X.......\n................\n"),zb=ib("\n................\n................\n................\n................\n................\n................\n....0...........\n.........0......\n................\n....0.....0.....\n................\n..0....0..0.....\n.............0..\n......0.........\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......986.......\n......986.......\n......986.......\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n......P++.......\n......+9r.......\n......986.......\n......986.......\n......986.......\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......P9+r......\n.....P+++9r.....\n.....P9+9+9.....\n.....66666r.....\n......986.......\n......986.......\n......986.......\n......986.......\n......986.......\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.....P9+9+......\n....P++9+++.....\n...P+9+++9+r....\n...P9+9+9+9r....\n...P+68686+r....\n......984.......\n.....98884......\n......984.......\n......984.......\n......984.......\n................\n................\n"),
Ab=ib("\n................\n................\n................\n................\n................\n................\n..............p.\n................\n........p.......\n.p.........p....\n....p...........\n........p...p...\n...p............\n................\n.......p........\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.....XOOoox.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n.....XOOoox.....\n.....XOOoox.....\n.....XOOoox.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n..XXOOOOooooxx..\n.XXXXOOOOooooxx.\n.XXXXOOOOooooxx.\n.XXXXOOOOooooxx.\n.XXXXOOOOooooxx.\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n.....9]]EEE.....\n................\n................\n"),Bb=ib("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n................\n................\n.......|........\n.......|........\n.....|.t.|......\n....|||t|||.....\n.....|.t.|......\n.......t........\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n.......t........\n.....|.t.|......\n....|||t|||.....\n.....|.t.|......\n.......t........\n.......t........\n....|..t..|.....\n...||||t||||....\n....||.t.||.....\n.......t........\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n.....h.t.h......\n....h|||h||.....\n.....|.|.|......\n.......t........\n....hh.t..hh....\n...h|||thh|||...\n.....|.t.||.....\n.......t........\n.......t........\n...hh..t..hhh...\n..h||||thh||||..\n...|||.t.||||...\n.......t........\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n....hh.|.hh.....\n...h||||h|||....\n....||Z|Z||.....\n.....Z.t.Z......\n...hhh.t..hhh...\n..h||||thh||||..\n....||ZtZ|||....\n.....Z.t.Z......\n..hhh..t.hhhhh..\n.h|||||th||||||.\n..||||ZtZ.|||...\n.....Z.t.Z......\n.....Z.t.Z......\n................\n"),
Cb=ib("#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..EEE..EEEE.....\n.EEee..Eeee.....\n.Eeee..]ee.EEE..\n....]..]...EEee.\n....]..E..]]eee.\n.....]EEE]].....\n.EEE.]Eee]......\nEEee]]].]]EEEE..\nEeee......EEee..\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..YYY..YYYY.....\n.YYyy..Yyyy.....\n.Yyyy..Zyy.YYY..\n....Z..Z...YYyy.\n....Z..Y..ZZyyy.\n.....ZYYYZZ.....\n.YYY.ZYyyZ......\nYYyyZZZ.ZZYYYY..\nYyyy......YYyy..\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..LLL..LLLL.....\n.LLll..Llll.....\n.Llll..Kll.LLL..\n....K..K...LLll.\n....K..L..KKlll.\n.....KLLLKK.....\n.LLL.KLllK......\nLLllKKK.KKLLLL..\nLlll......LLll..\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n..HHH..HHHH.....\n.HHhh..Hhhh.....\n.Hhhh..#hh.HHH..\n....#..#...HHhh.\n....#..H..##hhh.\n.....#HHH##.....\n.HHH.#Hhh#......\nHHhh###.##HHHH..\nHhhh......HHhh..\n................\n................\n"),Db=H("#aa:#fff6\n................\n................\n................\n................\n................\n..OOO..OOOO.....\n.OOoo..Oooo.....\n.Oooo..Xoo.OOO..\n....X..X...OOoo.\n....X..O..XXooo.\n.....XOOOXX.....\n.OOO.XOooX......\nOOooXXX.XXOOOO..\nOooo......OOoo..\n................\n................\n"),
Eb=ib("\n................\n................\n................\n................\n................\n................\n................\n........N.......\n..N........N....\n....N.........N.\n................\n........N.......\nN...........N...\n....N...........\n.........N......\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n................\n........HH|.....\n.....HhHhh|.....\n....HhhHhh|.....\n...HhhhHh||.....\n...Hhh|H|.......\n...Hhh|.........\n....h|..........\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n................\n..........HH....\n........HHhhh...\n...HHHhhHhhhh|..\n..Hhhh9hhhhhh|..\n.Hhhhh99hhhh|...\n.Hhhhh|Hhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n","#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n................\n......Z.........\n.....9Z9..HH....\n.....9Z9HHhhh...\n...hh9Z9hhhhh|..\n..Hhh9Z9hhhhh|..\n.HhhhhZ7hhhh|...\n.Hhhhhhhhhh|....\n.Hhhhh|.........\n..hhh|..........\n................\n................\n",
"#l0:#600 l1:#822 l2:#a55 l3:#faa\n................\n................\n................\n................\n.......9........\n......999..9....\n...99.9Z9.97....\n...999ZZZ987h...\n...98998Z877h|..\n..H987888877h|..\n.Hhh9888877h|...\n.Hhhh8888hh|....\n.Hhhhhh.........\n..hhhh..........\n................\n................\n"),Fb=ib("\n................\n................\n................\n................\n................\n................\n................\n................\n.....g.....g....\n.......g........\n....g...........\n..........g.....\n.....g.g........\n..........g.....\n................\n................\n",
"#hg:#08f4\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n","#hg:#08f8\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n",
"#hg:#08fc\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n","#hg:#08ff\n................\n....g...........\n....q.qg........\n..gqqqg..g......\n.....qgggqg.....\n..gqqqqqqg......\n.gqgggqgg.......\n.....gq.ggg.....\n..ggqqqqqqqgg...\n.gqqgg.qgggqqg..\n..gg.g.q.g.gg...\n...gggqqqqggg...\n..ggqq..qgqqgg..\n.gqqgg..qgggqqg.\n..gg....q..ggg..\n................\n");function Gb(a,b,c,d){var f=(d?" "+d:"")+"\n";d=H("#q:#484 g:#6a6 G:#8f8 Q:#afa"+f+b.trim());var g=H("#q:#040 g:#080 G:#0b0 Q:#0f0"+f+b.trim()),h=H("#q:#f30 g:#f70 G:#fa0 Q:#fe0"+f+b.trim()),k=H("#q:#88f g:#aaf G:#ccf Q:#eef"+f+b.trim());b=H("#q:#bb8 g:#dda G:#ffa Q:#ffe"+f+b.trim());var p=H("#q:#484 g:#6a6 G:#8f8 Q:#afa"+f+c.trim()),n=H("#q:#040 g:#080 G:#0b0 Q:#0f0"+f+c.trim()),r=H("#q:#f30 g:#f70 G:#fa0 Q:#fe0"+f+c.trim()),t=H("#q:#88f g:#aaf G:#ccf Q:#eef"+f+c.trim());c=H("#q:#bb8 g:#dda G:#ffa Q:#ffe"+
f+c.trim());return[a,[d,g,h,k,b],[p,n,r,t,c]]}
var Hb=[Gb("weathered tree","\n................\n................\n................\n................\n................\n................\n............x...\n....x.o..x..x...\n....x.ox.x0x....\n.o...x.x..x..0..\n.o..o.x..x0.0...\n..o.o.x.x.0.0...\n...o..x.x.00....\n....oox.x00.....\n.....ooxx0......\n.....ooxx0......\n","\n.....ooxx0......\n..G..o0xx0......\n.Gg..0o0x0......\n...o.o0xx0......\n....oooxx0......\n.....ooxx0......\n....oooxx00.....\n...ooxooxx00....\n..ooxxxooxx00...\n................\n................\n................\n................\n................\n................\n................\n"),Gb("young sprout",
"\n................\n................\n................\n................\n................\n................\n................\n................\n................\n....Q...Qg......\n...Qg...gq.Qg...\n....q...o..Qq...\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Gb("young sprout","\n................\n................\n................\n................\n................\n................\n................\n................\n...QQ..QGg......\n..QGgq.QGq.QQg..\n..QGgq..qq.Qgq..\n....q...o..Qqq..\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Gb("young sprout","\n................\n................\n................\n................\n................\n................\n........Qg......\n...QQ..QGg..Qg..\n..QQgq.QGq.QGgq.\n..QGgq.QGq.QGgq.\n..QGgq..qq.Qgq..\n....q...o..Qqq..\n.....o.oo..xx...\n......oo..xx....\n......ooxx......\n.......ox.......\n","\n.......ox.......\n.......ox.......\n.......ox.......\n.......xo.......\n.......ox.......\n.......ox.......\n.......oo.......\n.......ox.......\n......ooxx......\n................\n................\n................\n................\n................\n................\n................\n"),
Gb("young tree","\n................\n................\n................\n................\n................\n...QG...........\n..QGg..QGg..QG..\n..Ggg..QGg..QG..\n...go.QGgg.QGGg.\n..QGg.QGgq.GGgq.\n..Ggq..gq..Ggq..\n....o..o...Gqq..\n....o..o...xx...\n.....ooo..xx....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
Gb("young tree","\n................\n................\n................\n....QQgg........\n...QGGggQQQgg...\n..QGGggQQGGgQG..\n..GGGgQQGGgQQGg.\n...GgqQQGgqQGGg.\n..QGgqQGgqqQGgq.\n..Ggq..gqq.Ggq..\n...oo..oo..Gqq..\n....oo.oo..xx...\n.....oooo.xx....\n......ooxxx.....\n......ooxx......\n......oox.......\n","\n......oox.......\n......oox.......\n......oox.......\n......oxo.......\n......oox.......\n......oox.......\n......ooo.......\n......ooo.......\n......oox.......\n.....oooxx......\n................\n................\n................\n................\n................\n................\n"),
Gb("adult tree","\n................\n................\n....QQQ.QQQQ....\n...QQGggQGGGg...\n..QGGGggGGGggG..\n..QGGggQGGGgQG..\n.QGGGgQGGGgQQGg.\n.QGGgqQGGgqQGGg.\n.QGGgqQGgqqQGgq.\n.QGgqq.gqqGGgq..\n...ooq.oo.GGqq..\n...ooo.oo..xxx..\n....ooooo.xxx...\n.....ooooxxx....\n......oooxx.....\n......oooxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
Gb("adult tree","\n................\n........Q.......\n....QQQQGQQQ....\n...QGQGGGGGgq...\n..QGgGGQQgggqq..\n..QGggQgGqgqqq..\n.QQgGgGGgGqqQQG.\n.QGGGqQGggqQGGg.\n.QGggqQgGqqQGgg.\n.QGGgqqGqqQgggq.\n..Ggqq.gqQGggq..\n..ooo..oxqQgqq..\n...ooo.ox..xxx..\n....oooox.xxx...\n.....oooxxxx....\n......ooxxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
Gb("adult tree","\n................\n........G.......\n..QGGQQggQgQ....\n.QGgGgGGgGGgggq.\nQGggQGGGQggggqg.\nQgGGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQGgGGqgGggQGgGgq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgggq\n.GGgggqgqQGGGgqq\n.Qggq..oxqQGgqq.\n.Qqqqo.ox..xxq..\n....oooox.xxx...\n.....oooxxxx....\n......ooxxx.....\n","\n......ooxx......\n......ooxx......\n......ooox......\n......ooox......\n......ooox......\n......ooxx......\n......ooxx......\n......ooox......\n.....ooooxx.....\n....oooooxxx....\n................\n................\n................\n................\n................\n................\n"),
Gb("adult tree","\n................\n...QQ...G...Qg..\n..QGGQQggQgQggq.\n.QGgGgGGgGGgggq.\nQGggQGGGQgggqqg.\nQgGGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQGgGGqgGggQGgGgq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgggq\n.GGgggqgqQGGGgqq\n.Qggq..oxqQGgqq.\n.Qqqqo.ox..xxq..\n....oooQg.xxx...\n.....oogqxxx....\n......ooxxx.....\n","\n......ooxxx.....\n......ooxxx.....\n......ooxxx.....\n......xooxx.....\n......oxoxx.....\n......xooxx.....\n......ooxxx.....\n.....oooxxx.....\n....ooxooxxx....\n...ooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Gb("large tree","\n................\n......QQQGG.....\n...GGQgGgQgQ.g..\n.QGgGgGGgGGQQgq.\nQGggQGGGQggggqg.\nQgGGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQGgGGqgGggQGgGgq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgggq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQGgqq.\n.Qqqq.ox.ox.xq..\n..oox.oQgqx.xx..\n...ooxQGgqxxx...\n....oooqqxxx....\n","\n.....oooxxx.....\n.....oooxxx.....\n.....oooxxx.....\n.....oxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Gb("grand tree","\n..QQG.......QQ..\n.QGgg.QQQGGQQGG.\n.GgGgqgGgQgQGGGq\n.GqgqgGGgGGQGGqq\nQGgqqGGGQggggqq.\nGqqGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQGgGGqgGggQGgGgq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgggq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQGgqq.\n.QQqq.ox.ox.QQQ.\nQQGgx.oQgqxQQGG.\nQGGgqxQGgqxxGGgq\n..qqqooqqxxxgqq.\n","\n.Q...oooxxx.....\nQGg..oooxxx.....\nGgqoooooxxx.....\n.q..ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Gb("curly tree","\n....Q...........\n..Qgg.QQQG...QQ.\n.QgGgqgGgQgGQGGq\n.QqgqQGGgGGQGGqq\nQGgqQGGGQQGggqq.\nGqqQgGGQGqGGQGG.\nQGGggGGqgGgGgGgq\n.GgQGGgQggGGgGgq\nQGGGQgqqGqqGGggq\nQggGggqGQqQGgggq\n.gGQQqqgqGGGGgqq\n..ggq.ox.qQGgqq.\n.QQQq.ox.ox.QQQ.\n.QGgx.oQgqxQQGG.\n.GGgqxQGgqxxGGgq\n..qqqooqqxxxgqq.\n","\n.Q...xoooxxx....\nQGg...xoooxx....\nGgqooxoooxx.....\n.q..ooooxx......\n.....xoooxx.....\n......xoooxx....\n.....xoooxxx....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Gb("hollow tree","\n..QQG.......QQ..\n.QGgg.QQQGGQQGG.\n.GgGgqgGgQgQGGGq\n.GqgqgGGgGGQGGqq\nQGgqqGGGQggggqq.\nGqqGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQGgGGqgGggQGgGgq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgggq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQGgqq.\n.QQqq.ox.ox.QQQ.\nQQGgx.oQgqxQQGG.\nQGGgqxQGgqxxGGgq\n..qqqooqqxxxgqq.\n","\n.Q...oooxxxx....\nQGg.oooxxxxxx...\nGgqooox..oxxx...\n.q..ox....oxx...\n...oox....oxx...\n...ooxx..oxx....\n....ooxooxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n"),
Gb("zinc tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#999"),Gb("bronze tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#f00"),Gb("silver tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#fff"),Gb("electrum tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#dfb"),Gb("gold tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"ho:#ff0"),Gb("platinum tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#eee o:#ddd x:#ccc"),Gb("rhodium tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fee O:#ecc o:#dbb x:#caa"),Gb("sapphire tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#eef o:#ddf x:#ccf"),Gb("emerald tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#efe o:#dfd x:#cfc"),Gb("ruby tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#fee o:#fdd x:#fcc"),Gb("diamond tree","\n................\n.........QQQ....\n....QQG..QGGg...\n....QGgq.QGgqq..\n..Q.Ogq..Xgqqx..\n.QGG.OOoXOoqox..\n.QGggqXOooo.ox..\n.QGgqXOoOoq.ox..\n.QGgqOOoOoo.QQ..\n.XqqqOoo.OoQQGg.\n.XOo.OoGGOoQGgqq\nQQOo.QoGqOoQGqq.\nQGOoQGGq.Oo.qqx.\nQGOoQGgq.Oo.ox..\n..OOQGqqoooox...\n...OOqqOoxxx....\n","\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n......XOox......\n.....XOOoxx.....\n.....XOOoxx.....\n....XOOOoxxx....\n................\n................\n................\n................\n................\n................\n",
"X:#fff O:#ffe o:#ffd x:#ffc"),Gb("magnificent tree","\n................\n......QQQGG.....\n...GGQgGgQgQ.g..\n.QGgGgGGgGGQQgq.\nQGggQGGGQggggqg.\nQgGGggQgGqQqQQG.\nQGGggQGGgGqQGGgq\nQGgGGqgGggQGgGgq\nQGGGQgggGqqGGggq\nQggGggqGqqQGgggq\n.GGgggqgqQGGGgqq\n.Qggq.ox.qQGgqq.\n.Qqqq.ox.ox.xq..\n..oox.oQgqx.xx..\n...ooxQGgqxxx...\n....oooqqxxx....\n","\n.Q...oooxxx.....\nQGg..oooxxx.....\nGgqoooooxxx.....\n.q..ooxooxx.....\n.....xoxoxx.....\n.....oxooxx.....\n.....oooxxx.....\n....ooooxxx.....\n...oooxooxxx....\n..oooxxxoxxxx...\n................\n................\n................\n................\n................\n................\n")];var Ib=[H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#999\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#c70\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#fff\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#dfb\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#ff0\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fff M:#eee m:#ddd n:#ccc\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),
H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fee M:#ecc m:#dbb n:#caa\n................\n......rrr.......\n.....R...r......\n.....R...r......\n......R.r.......\n......R.r.......\n.......R........\n.......R........\n......NNN.......\n.....NMMMN......\n....NMMMmmn.....\n....NMMmmmn.....\n....NMmmmmn.....\n.....Nmmmn......\n......nnn.......\n................\n"),H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#00f\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),
H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#0f0\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 hm:#f00\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n"),
H("#l0:#c22 l1:#d44 l2:#e66 l3:#f88 N:#fff M:#eee m:#ddd n:#ccc\n................\n......ggg.......\n.....G...g......\n.....G...g......\n......G.g.......\n......G.g.......\n.......G........\n.......G........\n......ZZZ.......\n.....ZZNZZ......\n....ZZNNmYY.....\n....ZNNMmmY.....\n....ZZmnnYY.....\n.....ZYnYY......\n......YYY.......\n................\n")],Jb=[H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#999\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#c70\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#fff\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#dfb\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#ff0\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fee M:#ecc m:#dbb n:#caa\n................\n................\n................\n................\n.......mm.......\n......m..m......\n......m..m......\n........m.......\n........m.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#00f\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#0f0\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),
H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 hm:#f00\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n"),H("#l0:#8558 l1:#a778 l2:#c998 l3:#fcc8 N:#fff M:#eee m:#ddd n:#ccc\n................\n................\n................\n................\n.......YY.......\n......Y..Y......\n......Y..Y......\n........Y.......\n........Y.......\n................\n........m.......\n................\n................\n................\n................\n................\n")],
Kb=H("\n................\n................\n.ZZZZZZZZZZZZZZ.\n.ZXXXXXXXXXXXrZ.\n.ZXOOOOOOOOOOrZ.\n.ZXOOOOOOOOOOrZ.\n.ZXrrrrOOrrrrrZ.\n.ZZZZZXOOrZZZZZ.\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZXOOrZ.....\n.....ZrrrrZ.....\n.....ZZZZZZ.....\n................\n");function J(a,b){if(!(this instanceof J))return new J(a,b);this.e=this.b=0;void 0!=a&&(void 0!=a.b?(this.b=a.b,this.e=a.e):(this.b=a,this.e=b||0));Lb(this)}e=J.prototype;e.clone=function(){return new J(this.b,this.e)};function Mb(a){if(a.e!=Math.floor(a.e)&&!isNaN(a.e)){var b=Math.floor(a.e);a.b*=Math.pow(2,a.e-b);a.e=b}}
function Nb(a,b){Mb(a);var c=a.e-b,d=1/256,f=1/4294967296;if(1023<c)a.e=b,a.b=Infinity;else if(-1074>c)a.e=b,a.b=0;else{for(;32<=c;)c-=32,a.e-=32,a.b*=4294967296;for(;8<=c;)c-=8,a.e-=8,a.b*=256;for(;1<=c;)--c,--a.e,a.b*=2;for(;-32>=c;)c+=32,a.e+=32,a.b*=f;for(;-8>=c;)c+=8,a.e+=8,a.b*=d;for(;-1>=c;)c+=1,a.e+=1,a.b*=.5}}function Ob(a,b){a=J(a);Nb(a,b);return a}
function Lb(a){if(isNaN(a.b)||isNaN(a.e))a.b=NaN,a.e=0;else if(Infinity==a.e)a.b=0==a.b?NaN:0>a.b?-Infinity:Infinity,a.e=0;else if(0==a.b||Infinity==a.b||-Infinity==a.b)a.e=0;else{Mb(a);var b=0>a.b;b&&(a.b=-a.b);for(var c=1/256,d=1/4294967296;a.b<=d;)a.b*=4294967296,a.e-=32;for(;a.b<=c;)a.b*=256,a.e-=8;for(;.5>=a.b;)a.b*=2,a.e--;for(;4294967296<=a.b;)a.b*=d,a.e+=32;for(;256<=a.b;)a.b*=c,a.e+=8;for(;2<=a.b;)a.b*=.5,a.e++;b&&(a.b=-a.b)}}e.scale=function(){var a=J(this);Lb(a);return a};
e.j=function(a){Pb(a,0)||(this.e>a.e?a=Ob(a,this.e):Nb(this,a.e),this.b+=a.b,Lb(this))};e.add=function(a){var b=J(this);b.j(a);return b};e.eb=function(a){this.j(J(a))};e.U=function(a){var b=J(this);b.eb(a);return b};e.X=function(a){Pb(a,0)||(this.e>a.e?a=Ob(a,this.e):Nb(this,a.e),this.b-=a.b,Lb(this))};e.sub=function(a){var b=J(this);b.X(a);return b};function Qb(a){a=J(a);a.X(J(1));return a}function Rb(a){a=J(a);a.b=-a.b;return a}e.C=function(a){this.b*=a.b;this.e+=a.e;Lb(this)};
e.qa=function(a){var b=J(this);b.C(a);return b};e.ka=function(a){this.b*=a;Lb(this)};e.h=function(a){var b=J(this);b.ka(a);return b};e.sa=function(a){this.b/=a.b;this.e-=a.e;Lb(this)};e.a=function(a){var b=J(this);b.sa(a);return b};e.Bd=function(a){this.b/=a;Lb(this)};e.uc=function(a){var b=J(this);b.Bd(a);return b};e.abs=function(){var a=J(this);0>a.b&&(a.b=-a.b);return a};
e.sqrt=function(){var a=J(this);if(0>a.b)a.b=a.e=NaN;else{var b=a.e/2,c=Math.trunc(b);a.b=Math.sqrt(a.b)*Math.pow(2,b-c);a.e=c;Lb(a)}return a};function Sb(a,b){a=J(a);if(0>a.b&&b!=Math.floor(b))a.b=a.e=NaN;else{var c=a.e*b,d=Math.trunc(c);a.b=Math.pow(a.b,b)*Math.pow(2,c-d);a.e=d;Lb(a)}return a}function Tb(a,b){return Sb(a,b)}function Ub(a,b){Nb(a,0);a.e=a.b;a.b=1;if(2!=b){b=Math.log(b)/Vb*a.e;var c=Math.floor(b);a.e=c;a.b*=Math.pow(2,b-c)}Lb(a)}function Wb(a,b){b=J(b);Ub(b,a);return b}
e.pow=function(a){var b=this.log();return a.h(b).exp()};e.exp=function(){var a=J(this);Ub(a,Math.E);return a};e.log2=function(){var a=this.e;return a+=Math.log2(this.b)};e.log10=function(){var a=this.e*Xb;return a+=Math.log10(this.b)};e.log=function(){var a=this.e*Vb;return a+=Math.log(this.b)};function Yb(a,b){b=1/Math.log(b);var c=a.e*Math.log(2)*b;return c+=Math.log(a.b)*b}e.ja=function(a){return Pb(a,0)?0<this.b&&!isNaN(this.e):Pb(this,0)?0>=a.b&&!isNaN(a.e):this.b>Ob(a,this.e).b};
e.na=function(a){return Pb(a,0)?0<=this.b&&!isNaN(this.e):Pb(this,0)?0>a.b&&!isNaN(a.e):this.b>=Ob(a,this.e).b};e.Ka=function(a){return Pb(a,0)?Pb(this,0):this.b==Ob(a,this.e).b};e.Y=function(a){return!this.na(a)};e.Fa=function(a){return!this.ja(a)};e.pb=function(a){return!this.Ka(a)};function Pb(a,b){return 0==b?0==a.b&&!isNaN(a.e):b==Ob(a,0)}function Zb(a,b){return a.pb(J(b))}e.gd=function(a){return this.na(J(a))};function $b(a,b){return a.Y(J(b))}e.La=function(a){return this.Fa(J(a))};e.ce=J.prototype.La;
e.$d=J.prototype.na;e.Fd=J.prototype.gd;function bc(a,b){return J(a.ja(b)?a:b)}function cc(a,b){if(Pb(a,0)!=Pb(b,0)||a.ja(J(0))!=b.ja(J(0)))return!1;var c=a.h(1E-4);return b.Y(a.sub(c))||b.ja(a.add(c))?!1:!0}e.isNaN=function(){return isNaN(this.b)};var Xb=.30102999566398114,Vb=.6931471805599453,dc=[],ec=[],M=0,fc=M;dc[M]="suffixes latin";ec[M]="Latin suffixes for large numbers, such as T for trillion, Qa for quadrillion, V for vigintillion, ...";M++;var gc=M;dc[M]="hybrid T";ec[M]="Latin suffixes, but only up to T (trillion, 1e12), then switches to engineering notation";
M++;var hc=M;dc[M]="hybrid U";ec[M]="Latin suffixes, but only up to U (undecillion, 1e36), then switches to engineering notation";M++;var ic=M;dc[M]="suffixes SI";ec[M]="SI suffixes, such as K for kilo (1000), G for giga (1e9), up to Y for yotta (1e24). For larger numbers switches to engineering notation";M++;var jc=M;dc[M]="suffixes abc";ec[M]="abc suffixes, 1a for 1000, 1b for 1000000, 1aa for 1e81, etc...";M++;var kc=M;dc[M]="engineering";ec[M]="Use exponent notation, and the exponents are always multiples of 3. E.g. 10e6 for 10 million";
M++;var lc=M;dc[M]="scientific";ec[M]="Always uses exponents, such as 2e4 for 20000 (4 zeroes)";M++;var mc=M;dc[M]="logarithm";ec[M]="Uses the base-10 logarithm";M++;var nc=M;dc[M]="natural";ec[M]="Uses the natural logarithm with e = 2.71828...";M++;var oc=M;dc[M]="hexadecimal";ec[M]="Uses base 16";M++;var pc=M;dc[M]="full";ec[M]="Prints value with all digits, switches to scientific once unreasonably big";M++;
for(var qc=fc,rc=3,sc="K M B T Qa Qi Sx Sp Oc N".split(" "),tc=" U Du T Qa Qi Sx Sp Oc N".split(" "),uc=" U D T Qa Qi Sx Sp Oc N".split(" "),vc=" D V Tg Qr Qq Sa Su Og Ng".split(" "),wc=" De V Tg Qr Qq Sa Su Og Ng".split(" "),xc=" C DC TC QC QG SC SG OG NG".split(" "),yc=[],zc=[],Ac=[],Bc=0;10>Bc;Bc++)for(var Cc=0;10>Cc;Cc++)for(var Dc=0;10>Dc;Dc++){var Ec=xc[Bc];Ec+=0==Bc&&0==Cc?sc[Dc]:0==Bc?uc[Dc]:tc[Dc];if(0!=Bc||1!=Dc||1!=Cc)Ec+=0==Bc?vc[Cc]:wc[Cc];yc.push(Ec)}
for(Bc=0;10>Bc;Bc++)for(Cc=0;10>Cc;Cc++)for(Dc=0;10>Dc;Dc++)Ec=xc[Bc],Ec+=0==Cc?tc[Dc]:uc[Dc],Ec+=0==Dc?wc[Cc]:vc[Cc],zc.push(Ec),Ac.push("U"==Ec?"":Ec);function Fc(a){if(!(3>a)){a=Math.floor(a/3)-1;if(0>a||Infinity==a)a=void 0;else if(1E3>a)a=yc[a];else{for(var b=zc[a%1E3];a;){a=Math.floor(a/1E3);if(!a)break;b=(1E3>a?Ac:zc)[a%1E3]+"Mi"+b}a=b}return a}}
function Gc(a,b,c,d){b--;c&&(c=3>c?3:8<c?8:c);d=d||10;var f=10==d?Xb:.6931471805599453/Math.log(d);if(0>a.b)return"-"+Gc(J(-a.b,a.e),b);if(isNaN(a.b))return"NaN";if(Infinity==a.b)return"Inf";if(0==a.b)return"0";var g=a.e*f;f=Math.floor(Yb(a.abs(),d));a=a.b*Math.pow(d,g-f);a+Math.pow(d,-b)>=d?(a/=d,f++):1>a+Math.pow(d,-b-1)&&(a*=d,f--);if(c)for(;0!=f%c;)a*=d,f--,b--;0>b&&(b=0);10==d?c=a.toFixed(b):(c=a.toString(d).toUpperCase(),a=c.indexOf("."),0<=a&&(c=c.substr(0,a+b+1)));if(-1!=c.indexOf(".")){for(;"0"==
c[c.length-1];)c=c.substr(0,c.length-1);"."==c[c.length-1]&&(c=c.substr(0,c.length-1))}0!=f&&(c+=(10==d?"e":"p")+f);return c}
function Hc(a,b,c){if(0>a.b)return"-"+Hc(J(-a.b,a.e),b,c);if(isNaN(a.b))return"NaN";if(Infinity==a.b)return"Inf";if(0==a.b)return"0";var d=a.e*Xb,f=a.abs().log10();0<f&&(f+=Math.pow(10,-f-1));var g=a.b;a=3*Math.floor(f/3);f<b&&0<=f&&(a=0);-3<=f&&0>f&&(b+=-Math.floor(f),a=0);g*=Math.pow(10,d-a);if(0>=d){b=(""+g).substr(0,b+1);if(-1!=b.indexOf(".")){for(;"0"==b[b.length-1];)b=b.substr(0,b.length-1);"."==b[b.length-1]&&(b=b.substr(0,b.length-1))}0!=a&&(b+="e"+a)}else{1E3<=g+Math.pow(10,-b+2)?(g/=Math.pow(10,
3),a+=3):1>g+Math.pow(10,-b-1)&&(g*=Math.pow(10,3),a-=3);--b;10<=g&&b--;100<=g&&b--;1E3<=g&&b--;1E4<=g&&b--;0>b&&(b=0);b=g.toFixed(b);if(-1!=b.indexOf(".")){for(;"0"==b[b.length-1];)b=b.substr(0,b.length-1);"."==b[b.length-1]&&(b=b.substr(0,b.length-1))}if(0!=a)if(0==c)b=36>=a?b+Fc(a):b+("e"+a);else if(1==c)c=Fc(a),b=void 0!=c?b+c:b+("e"+a);else if(2==c)b=3==a?b+"K":6==a?b+"M":9==a?b+"G":12==a?b+"T":15==a?b+"P":18==a?b+"E":21==a?b+"Z":24==a?b+"Y":b+("e"+a);else if(3==c)b=12>=a?b+Fc(a):b+("e"+a);else{c=
Math.floor(a/3);if(0>c)c=void 0;else{for(d="";c;)d=String.fromCharCode(97+(c-1)%26)+d,c=Math.floor((c-1)/26);c=d}b=void 0!=c?b+c:b+("e"+a)}}return b}function Ic(a,b){if(0>a.b)return"-"+Ic(J(-a.b,a.e),b);if(isNaN(a.b))return"10^NaN";if(Infinity==a.b)return"10^Inf";if(0==a.b)return"0";a=a.log10();b--;10<=a&&b--;100<=a&&b--;1E3<=a&&b--;1E4<=a&&b--;1E5<=a&&b--;0>b&&(b=0);return"10^"+a.toFixed(b)}
function Jc(a,b){if(0>a.b)return"-"+Jc(J(-a.b,a.e),b);if(isNaN(a.b))return"e^NaN";if(Infinity==a.b)return"e^Inf";if(0==a.b)return"0";a=a.log();b--;10<=a&&b--;100<=a&&b--;1E3<=a&&b--;1E4<=a&&b--;1E5<=a&&b--;0>b&&(b=0);return"e^"+a.toFixed(b)}
function Kc(a,b){if($b(a,0))return"-"+Kc(Rb(a),b);var c=a.ja(J(1E20)),d=!1;$b(a,1)&&$b(a,Math.pow(10,-b))&&(d=!0);if(!c&&!d){a=a.valueOf().toFixed(b);if(0<b){for(b=a.length;;){c=a[b-1];if("0"!=c&&"."!=c)break;b--;if("."==c)break}a=a.substr(0,b)}return a}return Gc(a,b,!1)}
J.prototype.toString=function(a,b){a=a||rc;b=void 0==b?qc:b;3>a&&(a=3);return b==fc?Hc(this,a,1):b==hc?Hc(this,a,0):b==gc?Hc(this,a,3):b==lc?Gc(this,a,!1):b==kc?Gc(this,a,!0):b==ic?Hc(this,a,2):b==jc?Hc(this,a,4):b==oc?"#"+Gc(this,a,4,16):b==mc?Ic(this,a):b==nc?Jc(this,a):b==pc?Kc(this,a):this.b+"e"+this.e};J.prototype.valueOf=function(){var a=new J(this);Nb(a,0);return a.b};var Lc="seeds spores resin leaves pericarps mycelia amber essence".split(" ");function N(a){if(!(this instanceof N))return new N(a);a||(a={});this.i=J(a.i||0);this.A=J(a.A||0);this.s=J(a.s||0);this.ba=J(a.ba||0);this.N=J(a.N||0);this.ca=J(a.ca||0);this.aa=J(a.aa||0);this.D=J(a.D||0)}function Mc(){var a=new N;a.eb(1);return a}function Nc(a){return[a.i,a.A,a.s,a.ba,a.N,a.ca,a.aa,a.D]}e=N.prototype;e.clone=function(){return u.clone(this)};
function Oc(a,b){a.i=b[0]||J(0);a.A=b[1]||J(0);a.s=b[2]||J(0);a.ba=b[3]||J(0);a.N=b[4]||J(0);a.ca=b[5]||J(0);a.aa=b[6]||J(0);a.D=b[7]||J(0)}function Pc(a){var b=new N;Oc(b,a);return b}e.reset=function(){this.ka(0)};e.j=function(a){this.i.j(a.i);this.A.j(a.A);this.s.j(a.s);this.ba.j(a.ba);this.N.j(a.N);this.ca.j(a.ca);this.aa.j(a.aa);this.D.j(a.D)};e.add=function(a){var b=N(this);b.j(a);return b};
e.eb=function(a){a instanceof J||(a=J(a));this.i.j(a);this.A.j(a);this.s.j(a);this.ba.j(a);this.N.j(a);this.ca.j(a);this.aa.j(a);this.D.j(a)};e.U=function(a){var b=N(this);b.eb(a);return b};e.X=function(a){this.i.X(a.i);this.A.X(a.A);this.s.X(a.s);this.ba.X(a.ba);this.N.X(a.N);this.ca.X(a.ca);this.aa.X(a.aa);this.D.X(a.D)};e.sub=function(a){var b=N(this);b.X(a);return b};e.C=function(a){this.i.C(a);this.A.C(a);this.s.C(a);this.ba.C(a);this.N.C(a);this.ca.C(a);this.aa.C(a);this.D.C(a)};
e.qa=function(a){var b=N(this);b.C(a);return b};e.ka=function(a){this.C(J(a))};e.h=function(a){return this.qa(J(a))};e.sa=function(a){this.i.sa(a);this.A.sa(a);this.s.sa(a);this.ba.sa(a);this.N.sa(a);this.ca.sa(a);this.aa.sa(a);this.D.sa(a)};e.a=function(a){var b=N(this);b.sa(a);return b};e.Bd=function(a){this.sa(J(a))};e.uc=function(a){return this.a(J(a))};function Qc(a,b){a=N(a);a.i.C(b.i);a.A.C(b.A);a.s.C(b.s);a.ba.C(b.ba);a.N.C(b.N);a.ca.C(b.ca);a.aa.C(b.aa);a.D.C(b.D);return a}
function Sc(a,b){for(var c=Nc(a),d=0;d<c.length;d++)c[d].gd(0)&&c[d].C(b);Oc(a,c)}e.Ka=function(a){return this.i.Ka(a.i)&&this.A.Ka(a.A)&&this.s.Ka(a.s)&&this.ba.Ka(a.ba)&&this.N.Ka(a.N)&&this.ca.Ka(a.ca)&&this.aa.Ka(a.aa)&&this.D.Ka(a.D)?!0:!1};e.na=function(a){return this.i.na(a.i)&&this.A.na(a.A)&&this.s.na(a.s)&&this.ba.na(a.ba)&&this.N.na(a.N)&&this.ca.na(a.ca)&&this.aa.na(a.aa)&&this.D.na(a.D)?!0:!1};
e.Fa=function(a){return this.i.Fa(a.i)&&this.A.Fa(a.A)&&this.s.Fa(a.s)&&this.ba.Fa(a.ba)&&this.N.Fa(a.N)&&this.ca.Fa(a.ca)&&this.aa.Fa(a.aa)&&this.D.Fa(a.D)?!0:!1};e.pb=function(a){return!this.Ka(a)};e.ja=function(a){return!this.Fa(a)};e.Y=function(a){return!this.na(a)};e.ce=N.prototype.La;e.$d=N.prototype.na;e.Fd=N.prototype.gd;e.empty=function(){for(var a=Nc(this),b=0;b<a.length;b++)if(Zb(a[b],0))return!1;return!0};
function Tc(a){a=Nc(a);for(var b=0;b<a.length;b++)if($b(a[b],0))return!0;return!1}function Uc(a){a=Nc(a);for(var b=[],c=0;c<a.length;c++)$b(a[c],0)?b[c]=Rb(a[c]):b[c]=J(0);return Pc(b)}function Vc(a){a=Nc(a);for(var b=Nc(G.l),c=[],d=0;d<b.length;d++)Zb(a[d],0)?c[d]=J(b[d]):c[d]=J(0);return Pc(c)}function Wc(a,b){a=Nc(a);b=Nc(b);for(var c=[],d=0;d<a.length;d++)c[d]=bc(a[d],b[d]);return Pc(c)}
e.toString=function(a,b){for(var c=Nc(this),d="",f=0;f<c.length;f++)c[f].pb(J(0))&&(0<d.length&&(d+=", "),d+=c[f].toString(a,b)+" "+Lc[f]);""==d&&(d="none");return d};var Xc=window.localstorageNameHTML?window.localstorageNameHTML:"local",Yc=Xc+"_recover",Zc=Xc+"_success",$c=Xc+"_prev_version",ad=Xc+"_prev_version2",bd=Xc+"_manual",cd=Xc+"_undo",dd=Xc+"_transcend";var ed=["spring","summer","autumn","winter"],fd=0,gd=fd++,hd=fd++,id=fd++,jd=fd++,O=fd++,kd=fd++,ld=fd++,md=fd;function nd(a){return a==gd?"berry":a==hd?"mushroom":a==id?"flower":a==jd?"nettle":a==O?"short-lived":a==kd?"special":a==ld?"lotus":"unknown"}
function od(a){switch(a){case hd:return"Requires berries as neighbors to consume seeds to produce spores. Neighboring watercress can leech its production (but also consumption), producing more spores overall given enough seeds.";case jd:return"Boosts neighboring mushrooms spores production (without increasing seeds consumption), but negatively affects neighboring berries and flowers, so avoid touching those with this plant";case id:return"Boosts neighboring berries and mushrooms, their production but also their consumption. Negatively affected by neighboring nettles.";
case O:return"Produces a small amount of seeds on its own, but can produce much more resources by leeching from berry and mushroom neighbors";case gd:return"Produces seeds. Boosted by flowers. Negatively affected by nettles. Neighboring mushrooms can consume its seeds to produce spores. Neighboring watercress can leech its production, producing more seeds overall."}}function pd(a){1==G.c[qd].count&&(a*=2);var b=rd(sd);0<b&&(b=J(1).sub(td(sd,b,ud())).valueOf(),a*=b);return a}
function vd(){var a=120;1==G.c[qd].count&&(a*=2);return a}function wd(){var a=180;1==G.c[qd].count&&(a*=2);return a}function xd(){var a=240;1==G.c[qd].count&&(a*=2);return a}function yd(){this.name="a";this.I=N();this.Kb=N();this.bb=this.index=0;this.wa=J(0);this.Kd="";this.Pc=[J(1),J(1),J(1),J(.75)];this.ma=null;this.type=this.image=void 0;this.O=0}
yd.prototype.oa=function(){var a=this.bb;if(this.type==O){if(null!=this.ma){var b=G.c[this.ma],c=P[this.ma];0<b.count&&(a+=this.bb*c.Nb*b.count)}return a}G.P[zd].count&&(b=Ad,a=a>2*b?a-b:a/2);b=rd(Bd);0<b&&(b=J(1).sub(td(Bd,b,ud())).valueOf(),a*=b);return a};yd.prototype.G=function(a){var b=1.5;this.type==id&&(b=2);this.type==O&&(b=1);return this.I.h(Math.pow(b,G.Ya[this.index]+(a||0)))};
function Cd(a,b){a=a.Pc[b];var c=G.P[Dd[b]].count;c&&(3==b?(b=Sb(J(1+Ed[b]),c),a=J(1).sub(J(1).sub(a).a(b))):(b=J(c).h(Ed[b]).U(1),a=Qb(a).qa(b).U(1)));return a}
yd.prototype.ic=function(a,b,c){var d=N(this.Kb);c&&c.push(["base",!0,J(0),d.clone()]);if(!b&&a&&1>a.o&&this.type!=O)return N();d.C(G.Dc);c&&c.push(["achievements",!0,G.Dc,d.clone()]);if(null!=this.ma&&this.type!=O){var f=G.c[this.ma],g=P[this.ma];0<f.count&&(g=Sb(g.Nb,f.count),d.C(g),c&&c.push([" upgrades ("+f.count+")",!0,g,d.clone()]))}null!=this.ma&&this.type==O&&(f=G.c[this.ma],g=P[this.ma],0<f.count&&(g=J(1).add(J(.5).h(f.count)),d.C(g),c&&c.push([" upgrades ("+f.count+")",!0,g,d.clone()])));
this.type==gd&&(f=rd(Fd),0<f&&(f=td(Fd,f,ud()).U(1),d.C(f),c&&c.push(["fruit: "+Gd(Fd),!0,f,d.clone()])));this.type==hd&&(f=rd(Hd),0<f&&(f=td(Hd,f,ud()).U(1),d.C(f),c&&c.push(["fruit: "+Gd(Hd),!0,f,d.clone()])),f=rd(Id),0<f&&(f=J(1).sub(td(Id,f,ud())),d.i.C(f),c&&c.push(["fruit: "+Gd(Id),!0,f,d.clone()])));f=Mc();this.type==gd&&(f.i=G.Tc.U(1));this.type==hd&&(f.A=G.Vc.U(1));g=Qc(d,f);if(d.pb(g)){if(c){f=J(1);d=Nc(d);for(var h=Nc(g),k=0;k<d.length;k++)if(d[k].pb(h[k])){f=h[k].a(d[k]);break}c.push(["ethereal crops",
!0,f,g.clone()])}d=g}G.l.s.Fd(1)&&(f=J(G.l.s.U(1).log10()).h(.1).U(1),d.C(f),c&&c.push(["unused resin",!0,f,d.clone()]));g=Jd();if(a&&(this.type==gd||this.type==hd)){var p=J(1);f=0;h=function(v,l){return Q(l)&&1<=l.o&&Kd(l).type!=jd&&(v=Kd(l).Va(l),Zb(v,0))?(p.j(v),!0):!1};0<a.x&&h(this,G.B[a.y][a.x-1])&&f++;0<a.y&&h(this,G.B[a.y-1][a.x])&&f++;a.x+1<G.u&&h(this,G.B[a.y][a.x+1])&&f++;a.y+1<G.v&&h(this,G.B[a.y+1][a.x])&&f++;d.C(p);c&&0<f&&c.push(["flowers ("+f+")",!0,p,d.clone()])}if(a&&(this.type==
gd||this.type==hd)){var n=J(1),r=J(1);f=0;h=function(v,l){return Q(l)&&1<=l.o&&Kd(l).type==jd&&(l=Kd(l).Va(l),Zb(l,0))?(v.type==hd?r.j(l):n.sa(l.U(1)),!0):!1};0<a.x&&h(this,G.B[a.y][a.x-1])&&f++;0<a.y&&h(this,G.B[a.y-1][a.x])&&f++;a.x+1<G.u&&h(this,G.B[a.y][a.x+1])&&f++;a.y+1<G.v&&h(this,G.B[a.y+1][a.x])&&f++;d.i.C(n);d.A.C(r);c&&0<f&&c.push(["nettles ("+f+")",!0,this.type==hd?r:n,d.clone()])}0<G.f&&this.type!=O&&(f=J(1).U(Ld*G.f),d.C(f),c&&Zb(f,1)&&c.push(["tree level ("+G.f+")",!0,f,d.clone()]));
h=G.c[Md].count&&this.type==hd&&G.time-G.Ca<wd();f=G.c[Nd].count&&this.type==gd&&G.time-G.Ha<vd();if(!h&&!f||3!=g)k=Cd(this,g),Zb(k,1)&&(Sc(d,k),c&&c.push([ed[g],!0,k,d.clone()]));h&&this.type==hd&&(g=J(.75),2==G.c[qd].count&&g.Bd(1+Od),d.i.C(g),c&&c.push(["fog (less seeds)",!0,g,d.clone()]),g=J(.25),2==G.c[qd].count&&g.ka(1+Od),g.eb(1),d.A.C(g),c&&c.push(["fog (more spores)",!0,g,d.clone()]));f&&this.type==gd&&(f=J(.5),2==G.c[qd].count&&f.ka(1+Od),f.eb(1),d.i.ka(f),c&&c.push(["sun",!0,f,d.clone()]));
if(b&&this.type==O){b=Pd(this);g=N();for(h=f=0;4>h;h++){var t=a.x+(1==h?1:3==h?-1:0),x=a.y+(2==h?1:0==h?-1:0);0>t||t>=G.u||0>x||x>=G.v||!(k=Kd(G.B[x][t]))||(t=Qd[x][t],k.type!=gd&&k.type!=hd)||(g.j(t.qb),f++)}d.j(g);c&&(g.empty()?c.push(["no neighbors, not leeching",!1,g,d.clone()]):($b(b,1)&&c.push(["leech reduction due to multiple watercress globally",!0,b,void 0]),c.push(['<b><i><font color="#040">leeching neighbors ('+f+")</font></i></b>",!1,g,d.clone()])))}return d};
yd.prototype.Va=function(a,b){var c=this.wa.clone();b&&b.push(["base",!0,J(0),c.clone()]);var d=G.c[Rd].count&&G.time-G.Ga<xd();if(null!=this.ma){var f=G.c[this.ma],g=P[this.ma];0<f.count&&(g=g.Nb.h(f.count).U(1),c.C(g),b&&b.push([" upgrades ("+f.count+")",!0,g,c.clone()]))}f=Jd();this.type!=id||d&&3==f||(g=Cd(this,f),Zb(g,1)&&(c.C(g),b&&b.push([ed[f],!0,g,c.clone()])));this.type==id&&(f=rd(Sd),0<f&&(f=td(Sd,f,ud()).U(1),c.C(f),b&&b.push(["fruit: "+Gd(Sd),!0,f,c.clone()])));this.type==id&&(f=G.Uc.U(1),
Zb(f,1)&&(c.C(f),b&&b.push(["ethereal crops",!0,f,c.clone()])));this.type==id&&d&&(d=J(.5),2==G.c[qd].count&&d.ka(1+Od),d.eb(1),c.ka(d),b&&b.push(["rainbow",!0,d,c.clone()]));if(a&&this.type==id){d=J(1);for(g=f=0;4>g;g++){var h=a.x+(1==g?1:3==g?-1:0),k=a.y+(2==g?1:0==g?-1:0);0>h||h>=G.u||0>k||k>=G.v||(h=G.B[k][h],(k=Kd(h))&&1<=h.o&&k.type==jd&&(h=k.Va(h),d.sa(h.U(1)),f++))}0<f&&(c.C(d),b&&b.push(["nettles malus ("+f+")",!0,d,c.clone()]))}return c};
function Pd(a,b){if(a.type!=O){var c=J(0);b&&b.push(["none",!0,J(0),c.clone()]);return N()}c=J(1);b&&b.push(["base",!0,J(1),c.clone()]);var d=rd(Td);0<d&&(d=td(Td,d,ud()).U(1),c.C(d),b&&b.push(["fruit: "+Gd(Td),!0,d,c.clone()]));a=G.Ya[a.index];1<a&&(a=1/(1+.75*(a-1)),c.ka(a),b&&b.push(["reduction for multiple",!0,J(a),c.clone()]));return c}var Ud=[],Vd=[],Wd=-1;
function Xd(a,b,c,d,f,g){g||(g=jb);if(Vd[Wd]||0>Wd||65535<Wd)throw"crop id already exists or is invalid!";var h=new yd;h.index=Wd++;Vd[h.index]=h;Ud.push(h.index);h.name=a;h.I=b;h.Kb=c;h.bb=f||0;h.image=g;h.Kd="";h.wa=d;return h.index}function Yd(a,b,c,d){var f=Zd(b),g=$d(b);a=Xd(a,f,g,J(0),c,d);c=Vd[a];c.Pc[1]=J(1.5);c.type=gd;c.O=b;return a}
function ae(a,b,c,d){var f=be(b);var g=Rb($d(2+2*b).i);var h=Rb($d(2).i);h=g.a(h).h(1);h.ka(Math.pow(.25,b));2<=b&&(g=g.h(100));3<=b&&(g=g.h(100));g=N({i:g,A:h});a=Xd(a,f,g,J(0),c,d);c=Vd[a];c.Pc[2]=J(2);c.type=hd;c.O=b;return a}function ce(a,b,c,d,f){var g=de(b);a=Xd(a,g,N({}),c,d,f);c=Vd[a];c.Pc[0]=J(1.25);c.type=id;c.O=b;return a}function Zd(a){var b=Wb(2E3,J(a));b.ka(20);0==a&&b.ka(50);1<a&&b.C(Wb(1.5,J((a-1)*(a-1))));a=b;b=J(a);b.b=Math.round(2147483648*a.b)/2147483648;return N({i:b})}
function $d(a){var b=Wb(2E3,J(a));b.ka(2);0==a&&b.ka(2);b.C(Wb(.35,J(a)));return N({i:b})}function be(a){return Zd(1.5+2*a)}function de(a){return Zd(2.5+2*a)}Wd=25;var ee=Yd("blackberry",0,60,kb),fe=Yd("blueberry",1,120,lb),ge=Yd("cranberry",2,240,mb),he=Yd("currant",3,480,nb),ie=Yd("goji",4,960,ob),je=Yd("gooseberry",5,1920,pb),ke=Yd("grape",6,3840,qb),le=Yd("honeyberry",7,7680,rb),me=Yd("juniper",8,15360,sb);Wd=50;
var ne=ae("champignon",0,120,xb),oe=ae("morel",1,360,yb),pe=ae("amanita",2,1080,zb),qe=ae("portobello",3,3240,Ab);Wd=75;var re=ce("clover",0,J(.5),180,tb),se=ce("cornflower",1,J(8),720,ub),te=ce("daisy",2,J(128),2880,vb),ue=ce("dandelion",3,J(1024),11520,wb);Wd=100;var ve=J(4),we=be(1.1),xe=Xd("nettle",we,N({}),ve,60,Bb),ye=Vd[xe];ye.type=jd;ye.O=0;Wd=105;var ze=N({i:1}),Ae=N({i:10}),Be=Xd("watercress",Ae,ze,J(0),60,Cb),Ce=Vd[Be];Ce.type=O;Ce.O=0;var R=[],P=[],De=-1;
function Ee(){this.name="a";this.description=void 0;this.yd="A";this.zd="B";this.sd=this.vc=void 0;this.index=0;this.pa=1;this.zc=!1;this.I=N();this.Rc=J(1);this.Nb=void 0;this.rb="#ff0";this.sb="000";this.jc=this.Fb=void 0;this.yb=!1;this.ha=void 0;this.Za=function(){var a=this.name;0<G.c[this.index].count&&1!=this.pa&&(a+=" "+u.la(G.c[this.index].count));return a};this.Dd=function(){var a=this.name;1!=this.pa&&(a+=" "+u.la(G.c[this.index].count+1));return a};this.kc=function(){return 0==this.pa?
!1:G.c[this.index].count>=this.pa};this.xb=function(){return G.c[this.index].m&&!this.kc()};this.G=function(a){a=Sb(this.Rc,G.c[this.index].count+(a||0));return this.I.qa(a)}}
function Fe(a,b,c,d,f,g,h,k,p,n){if(P[De]||0>De||65535<De)throw"upgrades id already exists or is invalid!";var r=new Ee;r.index=De++;P[r.index]=r;R.push(r.index);r.name=a;r.I=b;r.pa=f;h&&(r.rb=h);k&&(r.sb=k);p&&(r.Fb=p);n&&(r.jc=n);r.vc=function(t){this.zc?G.c[this.index].count=t:G.c[this.index].count++;c()};d||(d=function(){return!0});r.sd=d;r.description=g;return r.index}
function Ge(a,b,c){var d=Vd[a],f="Unlock "+d.name,g="Unlocks new crop: "+d.name+".";d.Kb.empty()||(g+=" Base production: "+d.Kb.toString()+"/s.");Pb(d.wa,0)||(g=d.type==jd?g+(" Boosts neighbor mushroom spores production "+d.wa.h(100).toString(3,pc)+"% without increasing seed consumption. However, negatively affects neighboring berries, so avoid touching berries with this plant."):g+(" Boosts neighbors: "+d.wa.h(100).toString(3,pc)+"%. Does not boost watercress directly, but watercress gets same boosts as its neighbor resource-producing crops."));
g+=" Crop type: "+nd(d.type);f=Fe(f,b,function(){a==re&&S("You unlocked the first type of flower! Flowers don't produce resources directly, but boost neighboring plants.","#0ff","#044");a==He&&S("You unlocked the first type of mushroom! Mushrooms produce spores rather than seeds, and spores will be used by the tree.","#0ff","#044");G.ra[d.index].m=!0},function(){return void 0==c?!0:1<=G.nb[c]},1,g,"#dfc","#0a0",d.image[4],void 0);g=P[f];g.ha=a;g.G=function(){return b};return f}
function Ie(a,b,c){var d=Vd[a],f=d.name;d.ma=De;var g="production";d.type==hd&&(g="production but also consumption");g="Improves "+g+" of "+d.name+" by 25% (multiplicative)";d.type==hd&&(g+="<br><br>WARNING! if your mushrooms don't have enough seeds from neighbors, this upgrade will not help you for now since it also increases the consumption! Get your seeds production up first!");b=Fe("Upgrade "+f,b,function(){},function(){return void 0==c?1<=G.nb[a]:G.c[c].count},0,g,"#fdd","#f00",d.image[4],bb);
b=P[b];b.Nb=J(1.25);b.ha=a;b.G=function(h){h=Tb(J(Je),G.c[this.index].count+(h||0));return this.I.qa(h)}}function Ke(a,b,c){var d=Vd[a],f=d.name;d.ma=De;b=Fe("Upgrade "+f,b,function(){},function(){return void 0==c?1<=G.nb[a]:G.c[c].count},0,"Improves boost of "+d.name+" by 50% (additive)","#fdd","#f00",d.image[4],bb);b=P[b];b.Nb=J(.5);b.ha=a;b.G=function(g){g=Tb(J(Le),G.c[this.index].count+(g||0));return this.I.qa(g)}}
function Me(a,b,c,d,f,g,h,k,p){a=Fe(a,b,d,c,1,"Choice upgrade, pick one of the two proposed effects. Choose wisely. <br><br><b>"+f+"</b>:<br>"+h+"<br><br><b>"+g+"</b>:<br>"+k,"#000","#fff",p,void 0);b=P[a];b.zc=!0;b.yd=f;b.zd=g;return a}function Ne(){var a=Fe("<none>",N(),function(){},function(){return!1},1,"<none>");P[a].yb=!0;return a}De=25;
var Oe=Ge(ee,Zd(0),Be),Pe=Ge(fe,Zd(1),ee),Qe=Ge(ge,Zd(2),fe),Re=Ge(he,Zd(3),ge),Se=Ge(ie,Zd(4),he),Te=Ge(je,Zd(5),ie),Ue=Ge(ke,Zd(6),je),Ve=Ge(le,Zd(7),ke),We=Ge(me,Zd(8),le);De=50;var He=Ge(ne,be(0),fe),Xe=Ge(oe,be(1),he),Ye=Ge(pe,be(2),je),Ze=Ge(qe,be(3),le);De=75;var $e=Ge(re,de(0),ge),af=Ge(se,de(1),ie),bf=Ge(te,de(2),ke),cf=Ge(ue,de(3),me);De=100;var df=Ge(xe,be(1.1),oe),Je=1.65,Le=2.5;De=125;Ie(ee,Zd(0).h(10),Oe);Ie(fe,Zd(1).h(10),Pe);Ie(ge,Zd(2).h(10),Qe);Ie(he,Zd(3).h(10),Re);
Ie(ie,Zd(4).h(10),Se);Ie(je,Zd(5).h(10),Te);Ie(ke,Zd(6).h(10),Ue);Ie(le,Zd(7).h(10),Ve);Ie(me,Zd(8).h(10),We);De=150;Ie(ne,be(0).h(10),He);Ie(oe,be(1).h(10),Xe);Ie(pe,be(2).h(10),Ye);Ie(qe,be(3).h(10),Ze);De=175;Ke(re,de(0).h(15),$e);Ke(se,de(1).h(15),af);Ke(te,de(2).h(15),bf);Ke(ue,de(3).h(15),cf);De=200;Ke(xe,be(1.1).h(10),df);De=205;
(function(a,b,c,d,f){var g=Vd[a],h=g.name;g.ma=De;b=Fe("Upgrade "+h,b,function(){},function(){return void 0==f?G.nb[a]>=(d||1):G.c[f].count},0,"Adds "+100*c+"%  time duration to the lifespan of "+g.name+" (additive), and adds 50% base production excluding leech (additive)","#fdd","#f00",g.image[4],bb);g=P[b];g.Nb=J(c);g.ha=a;g.G=function(k){k=Tb(J(Je),G.c[this.index].count+(k||0));return this.I.qa(k)};return b})(Be,N({i:100}),.2,1);De=250;
var Md=Fe("fog ability",ef(5).h(0),function(){},function(){return 4<=G.f?(G.c[Md].m=!0,G.c[Md].count=1,!0):!1},1,'While enabled, fog temporarily decreases mushroom seed consumption while increasing spore production of mushrooms. In addition, mushrooms are then not affected by winter. This active ability is enabled using its icon button at the top or the "2" key.',"#fff","#88f",db,void 0),Nd=Fe("sun ability",ef(3).h(0),function(){},function(){return 2<=G.f?(G.c[Nd].m=!0,G.c[Nd].count=1,!0):!1},1,'While enabled, the sun temporarily increases berry seed production. In addition, berries are then not affected by winter. This active ability is enabled using its icon button at the top or the "1" key.',
"#ccf","#88f",eb,void 0),Rd=Fe("rainbow ability",ef(7).h(0),function(){},function(){return 6<=G.f?(G.c[Rd].m=!0,G.c[Rd].count=1,!0):!1},1,'While enabled, flowers get a boost, and in addition are not affected by winter. This active ability is enabled using its icon button at the top or the "2" key.',"#ccf","#00f",fb,void 0);De=275;
var ff=Me("fern choice",ef(2).h(.05),function(){return 3<=G.f},function(){},"Slower ferns","Richer ferns","Ferns take 9 instead of 2 minutes to appear, but contain enough resources to make up the difference exactly. This allows to collect more fern resources during idle play, but has no effect on the overall fern income during active play. This starts taking effect only for the next fern that appears.","Ferns contain on average 25% more resources, but they'll appear as often as before so this benefits active play more than idle play. This starts taking effect only for the next fern that appears.",
Sa[0]),gf=Ne();Ne();Ne();Ne();Ne();Ne();Ne();
var Od=.25,qd=Me("weather choice",ef(8).h(.05),function(){return 8<=G.f},function(){1==G.c[qd].count&&(120<G.time-G.Ha&&(G.Ha-=720),180<G.time-G.Ca&&(G.Ca-=1080),240<G.time-G.Ga&&(G.Ga-=1440))},"Long weather","Strong weather","Makes the active weather abilities run twice as long, but also twice as long to recharge. This benefits idle play, but gives on average no benefit for active play.","Increases all active ability weather effects by "+100*Od+"%. The active abilities recharge time remains the same so this benefits active play more than idle play.",eb),
hf=Ne();function jf(){this.name="a";this.Wd=void 0;this.ua=J(0);this.hint=void 0}var kf="zinc bronze silver electrum gold platinum rhodium sapphire emerald ruby diamond".split(" "),lf="#444 #840 #888 #8f8 #0f0 #eee #fcc #88f #8f8 #f00 #fff".split(" ");function mf(a){return a.ua.La(.015)?0:a.ua.La(.03)?1:a.ua.La(.075)?2:a.ua.La(.15)?3:a.ua.La(.3)?4:a.ua.La(.75)?5:a.ua.La(1.5)?6:a.ua.La(3)?7:a.ua.La(7.5)?8:a.ua.La(15)?9:10}var nf=[],of=[],pf=-1;
function qf(a,b,c,d,f){if(of[pf]||0>pf||65535<pf)throw"medal id already exists or is invalid!";var g=new jf;g.index=pf++;of[g.index]=g;nf.push(g.index);g.name=a;g.description=b;g.icon=c;g.Wd=d;g.ua=f;c||(g.icon=Ib[mf(g)]);return g.index}pf=0;var rf=qf("crowded","planted something on every single field cell. Time to delete crops when more room is needed!",void 0,function(){return 0!=G.md?!1:G.Hd>=G.u*G.v-5},J(.02));qf("fern 100","clicked 100 ferns",Sa[0],function(){return 100<=G.Ta},J(.01));
qf("fern 1000","clicked 1000 ferns",Sa[0],function(){return 1E3<=G.Ta},J(.02));qf("fern 10000","clicked 10000 ferns",Sa[0],function(){return 1E4<=G.Ta},J(.04));pf=4;
for(var sf,T=0;15>T;T++){var tf=Sb(J(1E3),Math.floor(Math.pow(T,1.5))).h(1E3),uf=tf.toString(3,fc),vf=tf.toString(3,lc),wf="seeds "+uf,xf=wf,yf="have over "+vf+" seeds",zf=w(function(a){return G.fa.i.ja(a)},tf),Af,Bf=Math.floor(T/2),Cf=Bf%3,Df=0==Cf?1:1==Cf?2:5;Af=Wb(10,J(Math.floor(Bf/3))).h(Df);var Ef=qf(xf,yf,cb,zf,Af.h(.01));0<T&&(of[Ef].hint=sf);sf=Ef}pf+=20;var Ff=[5,50,100,200,500,1E3,1500,2E3,5E3],Gf=[.01,.01,.02,.02,.05,.05,.1,.1,.2];
for(T=0;T<Ff.length;T++){var Hf=Ff[T],If=Gf[T];wf="planted "+Hf;Ef=qf(wf,"Planted "+Hf+" or more permanent plants over the course of the game",kb[0],w(function(a){return G.$b>=a},Hf),J(If));0<T&&(of[Ef].hint=sf);sf=Ef}pf+=20;var Jf=[5,10,15,20,25,30,35,40,45,50,60,70,80,90,100,150];for(T=0;T<Jf.length;T++){var Kf=J(Jf[T]),Lf=Kf.uc(500),Mf=Kf.toString(5,pc);wf="tree level "+Mf;Ef=qf(wf,"Reached tree level "+Mf,Hb[5][1][0],w(function(a){return a.ce(G.f)},Kf),Lf);0<T&&(of[Ef].hint=sf);sf=Ef}pf+=20;
pf=104;qf("four seasons","reached winter and seen all seasons",Ya[0],function(){return 3==Jd()},J(.05));pf=110;qf("watercress","plant the entire field full of watercress",Cb[4],function(){return G.lb[O]==G.u*G.v-2},J(.01));qf("berries","plant the entire field full of berries",kb[4],function(){return G.lb[gd]==G.u*G.v-2},J(.01));qf("flowers","plant the entire field full of flowers. Pretty, at least that's something",tb[4],function(){return G.lb[id]==G.u*G.v-2},J(.01));
qf("mushrooms","plant the entire field full of mushrooms. Why would you do this?",xb[4],function(){return G.lb[hd]==G.u*G.v-2},J(.01));qf("nettles","plant the entire field full of nettles. This is a stingy situation.",Bb[4],function(){return G.lb[jd]==G.u*G.v-2},J(.01));pf=125;var Nf=[1,5,10,20,50,100,200,500,1E3],Of=[.05,.05,.05,.05,.05,.1,.1,.2,.5];
for(T=0;T<Nf.length;T++)Kf=Nf[T],Lf=J(Of[T]),wf="transcend "+Kf,Ef=qf(wf,"Transcended "+Kf+" times",Kb,w(function(a){return G.V>=a},Kf),Lf),0<T&&(of[Ef].hint=sf),sf=Ef;function Pf(a,b){var c=Vd[a];return qf(c.name+" "+b,"have "+b+" fullgrown "+c.name,c.image[4],function(){return G.nb[a]>=b},J(.01*(c.O+1)/10*b))}function Qf(a){var b=Pf(a,10),c=Pf(a,20);a=Pf(a,30);pf+=2;of[c].hint=b;of[a].hint=c}pf=150;Qf(ee);Qf(fe);Qf(ge);Qf(he);Qf(ie);Qf(je);Qf(ke);Qf(le);Qf(me);pf=250;Qf(ne);Qf(oe);Qf(pe);Qf(qe);
pf=300;Qf(re);Qf(se);Qf(te);Qf(ue);pf=350;Qf(xe);pf=400;qf("5 ethereal crops","Have 5 ethereal crops",void 0,function(){return 5<=G.Ec},J(.02));qf("10 ethereal crops","Have 10 ethereal crops",void 0,function(){return 10<=G.Ec},J(.05));qf("20 ethereal crops","Have 20 ethereal crops",void 0,function(){return 20<=G.Ec},J(.1));pf=500;var Rf=[5,10,20,50,100,200,500,1E3,2E3,5E3,1E4],Sf=[.02,.05,.05,.05,.1,.1,.2,.5,.5,1,1];
for(T=0;T<Rf.length;T++)tf=Rf[T],Lf=J(Sf[T]),wf="fruits "+tf,Ef=qf(wf,"Found "+tf+" fruits",gb[1],w(function(a){return G.Ua>=a},tf),Lf),0<T&&(of[Ef].hint=sf),sf=Ef;function Tf(){this.name="a";this.I=N();this.Kb=N();this.bb=this.index=0;this.wa=J(0);this.Kd="";this.image=void 0}Tf.prototype.G=function(a){var b=1.5;this.type==ld&&(b=2);this.type==kd&&(b=1.5);return this.I.h(Math.pow(b,G.tc[this.index]+(a||0)))};Tf.prototype.oa=function(){return this.bb};
Tf.prototype.ic=function(a,b,c){if(!b&&a&&1>a.o)return N();a=N(this.Kb);c&&c.push(["base",!0,J(0),a.clone()]);return a};function Uf(a){if(a){var b=J(0),c=0,d=function(f){return Q(f)&&1<=f.o&&Vf[f.index-16].type!=jd&&(f=Vf[f.index-16].Va(f),Zb(f,0))?(b.j(f),!0):!1};0<a.x&&d(G.R[a.y][a.x-1])&&c++;0<a.y&&d(G.R[a.y-1][a.x])&&c++;a.x+1<G.K&&d(G.R[a.y][a.x+1])&&c++;a.y+1<G.J&&d(G.R[a.y+1][a.x])&&c++;return b}return J(0)}
Tf.prototype.Va=function(a,b){a=this.wa.clone();b&&b.push(["base",!0,J(0),a.clone()]);return a};var Wf=[],Vf=[],Xf=-1;function Yf(a,b,c,d,f,g,h,k){k||(k=jb);if(Vf[Xf]||0>Xf||65535<Xf)throw"crop2 id already exists or is invalid!";var p=new Tf;p.index=Xf++;Vf[p.index]=p;Wf.push(p.index);p.name=a;p.I=b;p.Kb=c;p.Tb=g;p.Sc=h;p.bb=f;p.image=k;p.Kd="";p.wa=d;return p.index}Xf=0;
var Zf=N({s:10}),$f=Yf("fern",Zf,N({}),J(0),1.5,"gives 100 * n^3 starter seeds","gives 100 * n^3 starter seeds after every transcension and also immediately now, with n the amount of ethereal ferns. First one gives 100, with two you get 800, three gives 2700, four gives 6400, and so on.",Fb);Vf[$f].type=kd;Xf=25;var ag=N({s:10}),bg=Yf("blackberry",ag,N({}),J(0),60,"boosts berries 20% (additive)","boosts berries in the basic field 20% (additive)",kb);Vf[bg].type=gd;Xf=50;
var cg=N({s:20}),dg=Yf("champignon",cg,N({}),J(0),120,"boosts mushrooms 20% (additive)","boosts mushrooms spore production in the basic field 20% without increasing seeds consumption (additive)",xb);Vf[dg].type=hd;Xf=75;var eg=N({s:50}),fg=Yf("clover",eg,N({}),J(0),180,"boosts flowers by 25% (additive)","boosts the boosting effect of flowers in the basic field by 25% (additive). No effect on ethereal neighbors here, but on the basic field instead.",tb);Vf[fg].type=id;Xf=100;Xf=150;
var gg=N({s:50}),hg=Yf("white lotus",gg,N({}),J(.5),300,void 0,"boosts the bonus effect of ethereal neighbors of type berry, mushroom and flower by 50%. No effect if no appropriate neighbors. This crop boosts neighboring plants in the ethereal field, rather than boosting the basic field directly.",Eb);Vf[hg].type=ld;var ig=[],jg=[],kg=-1;
function lg(){this.name="a";this.vc=this.description=void 0;this.index=0;this.pa=1;this.I=N();this.rb="#8cf";this.sb="#ff0";this.jc=this.Fb=void 0;this.Rc=J(1);this.yb=!1;this.Za=function(){var a=this.name;1<G.P[this.index].count&&(a+=" "+u.la(G.P[this.index].count));return a};this.Dd=function(){var a=this.name;0<G.P[this.index].count&&(a+=" "+u.la(G.P[this.index].count+1));return a};this.kc=function(){return 0==this.pa?!1:G.P[this.index].count>=this.pa};this.xb=function(){return G.P[this.index].m&&
!this.kc()}}lg.prototype.G=function(a){a=Sb(this.Rc,G.P[this.index].count+(a||0));return this.I.qa(a)};function mg(a,b,c,d,f,g,h,k,p,n){if(jg[kg]||0>kg||65535<kg)throw"upgrades2 id already exists or is invalid!";var r=new lg;r.index=kg++;jg[r.index]=r;ig.push(r.index);r.name=a;r.I=b;r.pa=g;r.Rc=J(c);k&&(r.rb=k);p&&(r.sb=p);n&&(r.Fb=n);r.vc=function(){G.P[this.index].count++;d()};f||(f=function(){return!0});r.sd=f;r.description=h;return r.index}
function ng(){var a=mg("<deprecated>",N(),0,function(){},function(){return!1},1,"<deprecated>");jg[a].yb=!0}kg=10;ng();ng();ng();ng();ng();ng();ng();ng();ng();kg=20;var Ed=[.2,.2,.2,.2],Dd=[];Dd[0]=mg("improve spring",N({s:10}),10,function(){},function(){return!0},2,"improve spring effect "+100*Ed[0]+"% (additive). Spring boosts flowers.",void 0,void 0,Hb[3][1][0]);
Dd[1]=mg("improve summer",N({s:10}),10,function(){},function(){return!0},2,"improve summer effect "+100*Ed[1]+"% (additive). Summer boosts berry production.",void 0,void 0,Hb[3][1][1]);Dd[2]=mg("improve autumn",N({s:10}),10,function(){},function(){return!0},2,"improve autumn effect "+100*Ed[2]+"% (additive). Autumn boosts mushroom production.",void 0,void 0,Hb[3][1][2]);
Dd[3]=mg("winter hardening",N({s:10}),10,function(){},function(){return!0},2,"reduce winter harshness "+100*Ed[3]+"% (multiplicative). Winter reduces most production and boost stats.",void 0,void 0,Hb[3][1][3]);var Ad=60;kg=25;var zd=mg("faster growing",N({s:25}),1,function(){},function(){return!0},1,"basic plants grow up to "+Ad+" seconds faster. This is capped for already fast plants, and can remove up to 50% of the total time.",void 0,void 0,kb[0]);kg=50;
var qg=mg("larger field",N({s:100}),1,function(){for(var a=G,b=Math.max(6,G.u),c=Math.max(6,G.v),d=(a.u+1>>1)-(b+1>>1),f=(a.v>>1)-(c>>1),g=[],h=0;h<c;h++){g[h]=[];for(var k=0;k<b;k++){var p=k+d,n=h+f;g[h][k]=0<=p&&p<a.u&&0<=n&&n<a.v?a.B[n][p]:new og(k,h);g[h][k].x=k;g[h][k].y=h}}a.B=g;a.u=b;a.v=c;a.Aa-=d;a.Ba-=f;pg()},function(){return 5<=G.u&&5<=G.v},1,"increase basic field size to 6x6 tiles",void 0,void 0,Wa[0]);function rg(a,b){a=.57735*a/b;return a/Math.sqrt(a*a+1)}var sg=0;sg++;
var Fd=sg++,Hd=sg++,Id=sg++,Sd=sg++,Td=sg++,Bd=sg++,sd=sg++,tg=sg++;function td(a,b,c){var d=.05*Math.pow(ug(c),.75);return a==Fd||a==Hd?J(d*b):a==Id?(a=rg(b,10),J((.2+.05*c)*a)):a==Sd?J(d*b):a==Td?J(1.5*d*b):a==Bd||a==sd?(a=rg(b,10),J((.2+.05*c)*a)):a==tg?J(2*d*b):J(.1)}function vg(a,b){a=Sb(J(1.5),a);a=a.h(ug(b));return N({D:a})}
function ug(a){switch(a){case 0:return 1;case 1:return 4;case 2:return 12;case 3:return 30;case 4:return 45;case 5:return 65;case 6:return 100;case 7:return 120;case 8:return 160;case 9:return 240;case 10:return 300}return Infinity}var wg=10,Ld=.05;function ef(a){var b=new N;b.A=Wb(9,J(a-1)).h(6.666666);return b}function xg(a){a=5>a?a:50>a?4+Math.floor(a/5):14+Math.floor((a-50)/10);a>=Hb.length&&(a=Hb.length-1);return a}function yg(a){var b=G.Xc[$f];a&&(b+=a);return N({i:b*b*b*100})};var zg=1,Ag=2,Bg=3;function og(a,b){this.o=this.index=0;this.x=a;this.y=b;this.lc=!1}function Cg(a){return 16>a.index?!1:Kd(a).type==O?0<a.o:1<=a.o}function Q(a){return 16<=a.index}function Kd(a){if(!(16>a.index))return Vd[a.index-16]}function Dg(){this.m=!1}function Eg(){this.m=!1}function Fg(){this.m=this.S=!1;this.count=0}function Gg(){this.m=!1;this.count=0}function Hg(){this.ea=this.S=!1}
function Ig(){this.Je=1;this.Hb=this.Gb=this.mb=this.time=this.W=0;this.l=void 0;this.s=J(0);this.Ba=this.Aa=this.Z=this.f=0;this.Vb=N(0);this.v=this.u=5;this.B=[];this.ra=[];for(var a=0;a<Ud.length;a++)this.ra[Ud[a]]=new Dg;this.c=[];for(a=0;a<R.length;a++)this.c[R[a]]=new Fg;this.Ma=[];for(a=0;a<nf.length;a++)this.Ma[nf[a]]=new Hg;this.J=this.K=5;this.R=[];this.da=[];for(a=0;a<Wf.length;a++)this.da[Wf[a]]=new Eg;this.Qa=0;this.P=[];for(a=0;a<ig.length;a++)this.P[ig[a]]=new Gg;this.Ac=this.Bc=this.Ga=
this.Ha=this.Ca=0;this.za=4;this.Da=-1;this.Wc=!1;this.L=[];this.M=[];this.Sa=2;this.H=[];this.mc=fc;this.precision=3;this.Lb=!0;this.fb=!1;this.Ia=1;this.fd=this.ad=this.fc=this.yc=this.dc=this.Cb=this.ob=this.Bb=this.Yb=this.Xb=this.$c=this.bd=this.cd=this.Zc=this.dd=this.V=0;this.Db=J(0);this.cc=this.hc=this.ta=this.Eb=this.Wb=this.Yc=0;this.ia=N();this.fa=N();this.Ab=N();this.qd=this.Lc=this.Mc=this.Nc=this.wc=this.Ua=this.Zb=this.ed=this.ec=this.xc=this.$b=this.ac=this.bc=this.Ta=0;this.pc=N();
this.oc=N();this.nc=N();this.Rb=this.ya=this.kb=this.Gc=this.od=this.nd=this.rd=this.Kc=this.Jc=this.Hc=this.pd=this.Ic=this.Fc=0;this.xa=N();this.ab=N();this.$a=N();this.Qb=this.Pb=this.gb=this.wb=this.vb=this.ub=this.hb=this.ib=this.jb=this.tb=0;this.va=[];this.Hd=this.Ec=this.fe=this.de=this.Gd=this.ee=this.md=0;this.Ya=[];this.tc=[];this.nb=[];this.Xc=[];this.lb=[];this.je=[];this.ie=[];this.ld=this.kd=this.vd=this.wd=this.Ld=this.Od=this.Nd=this.Qd=this.Md=this.Pd=0;this.Dc=J(1);this.Tc=J(0);
this.Vc=J(0);this.Uc=J(0)}function Jg(a){a.B=[];for(var b=0;b<a.v;b++){a.B[b]=[];for(var c=0;c<a.u;c++)a.B[b][c]=new og(c,b)}b=Math.floor((a.u-1)/2);c=Math.floor(a.v/2);a.B[c][b].index=Ag;a.B[c-1][b].index=zg}function Kg(a){a.R=[];for(var b=0;b<a.J;b++){a.R[b]=[];for(var c=0;c<a.K;c++)a.R[b][c]=new og(c,b)}b=Math.floor((a.K-1)/2);c=Math.floor(a.J/2);a.R[c][b].index=Ag;a.R[c-1][b].index=zg}
function Lg(){var a=new Ig;a.l=N({});Jg(a);Kg(a);a.ra[Be].m=!0;a.ta=u.getTime();a.kb=a.ta;a.Xb=a.ta;a.Yb=a.ta;Mg(a);Ng(a);return a}
function Mg(a){a.md=0;a.Gd=0;a.fe=0;a.Hd=0;a.nb=[];a.Ya=[];a.lb=[];for(var b=0;b<Ud.length;b++)a.Ya[Ud[b]]=0,a.nb[Ud[b]]=0;for(b=1;16>b;b++)a.je[b]=0;for(b=0;b<md;b++)a.lb[b]=0;for(b=0;b<a.v;b++)for(var c=0;c<a.u;c++){var d=a.B[b][c];if(Q(d)){var f=Kd(d);a.Ya[f.index]++;a.Gd++;Cg(d)&&(a.nb[f.index]++,a.lb[f.type]++,a.fe++,f.type!=O&&a.Hd++)}else 0==d.index||d.index==Bg?a.md++:a.je[d.index]++}a.ee=0;a.de=0;a.Ec=0;a.Xc=[];a.tc=[];for(b=0;b<Wf.length;b++)a.tc[Wf[b]]=0,a.Xc[Wf[b]]=0;for(b=1;16>b;b++)a.ie[b]=
0;for(b=0;b<a.J;b++)for(c=0;c<a.K;c++)d=a.R[b][c],Q(d)?(f=Vf[d.index-16],a.tc[f.index]++,a.de++,1<=d.o&&(a.Xc[f.index]++,a.Ec++)):0==d.index?a.ee++:a.ie[d.index]++;a.Pd=0;a.wd=0;a.Qd=0;a.Od=0;a.Md=0;a.vd=0;a.Nd=0;for(b=a.Ld=0;b<R.length;b++)c=a.c[R[b]],d=P[R[b]],c.m&&(a.Pd++,c.S||a.wd++,d.kc()||(a.Qd++,d.G().Fa(a.l)&&a.Od++));for(b=0;b<ig.length;b++)c=a.P[ig[b]],d=jg[ig[b]],c.m&&(a.Md++,c.S||a.vd++,d.kc()||(a.Nd++,d.G().Fa(a.l)&&a.Ld++));a.kd=0;a.ld=0;a.Dc=J(1);for(b=0;b<nf.length;b++)c=of[nf[b]],
d=a.Ma[nf[b]],d.ea&&(a.kd++,d.S||a.ld++,a.Dc.j(c.ua));a.Tc=J(0);a.Vc=J(0);a.Uc=J(0);for(b=0;b<a.J;b++)for(c=0;c<a.K;c++)if(d=a.R[b][c],Q(d)&&1<=d.o){f=d.index-16;if(f==bg){var g=Uf(d);a.Tc.j(g.U(1).h(.2))}f==dg&&(g=Uf(d),a.Vc.j(g.U(1).h(.2)));f==fg&&(g=Uf(d),a.Uc.j(g.U(1).h(.25)))}for(b=0;b<a.L.length;b++)a.L[b].slot=b;for(b=0;b<a.M.length;b++)a.M[b].slot=b+10;for(b=0;b<a.H.length;b++)a.H[b].slot=b+20}
function Og(){this.O=this.type=0;this.$=[];this.ga=[];this.D=J(0);this.slot=this.mark=0;this.toString=function(){return kf[this.O]+" apple"};this.Rd=function(){for(var a="",b=0;b<this.$.length;b++)0<b&&(a+=", "),a+=Gd(this.$[b])+" "+u.la(this.ga[b]);return a}}function rd(a){if(0==G.L.length)return 0;for(var b=G.L[0],c=0;c<b.$.length;c++)if(b.$[c]==a)return b.ga[c];return 0}function ud(){return 0==G.L.length?0:G.L[0].O}function Pg(a){return 10>a?G.L[a]:20>a?G.M[a-10]:G.H[a-20]}
function Qg(a,b){if(10>a)if(b)a>G.L.length&&(a=G.L.length),G.L[a]=b,b.slot=a;else{for(b=a;b+1<G.L.length;b++)G.L[b]=G.L[b+1],G.L[b].slot=b;--G.L.length}else if(20>a)if(a-=10,b)a>G.M.length&&(a=G.M.length),G.M[a]=b,b.slot=a+10;else{for(b=a;b+1<G.M.length;b++)G.M[b]=G.M[b+1],G.M[b].slot=b+10;--G.M.length}else if(a-=20,b)a>G.H.length&&(a=G.H.length),G.H[a]=b,b.slot=a+20;else{for(b=a;b+1<G.H.length;b++)G.H[b]=G.H[b+1],G.H[b].slot=b+20;--G.H.length}}
function Rg(){for(var a=N(),b=0;b<G.H.length;b++)a.j(N({D:10*ug(G.H[b].O)}));return a};for(var Sg={},Tg=0;64>Tg;Tg++)Sg["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Tg]]=Tg;function Ug(a){for(var b=0;b<a.length;b++)if(void 0==Sg[a[b]])return!1;return!0}
function Vg(a){for(var b="",c={},d="",f=0;f<a.length;f++){var g=0,h=0,k=c[a.substr(f,4)];if(k)for(var p=k.length-1;0<=p;p--){var n=k[p],r=f-n;if(4096<r)break;for(var t=0;f+t<a.length&&a[f+t]==a[n+t];)t++;n=t;if(n>g&&(g=n,h=r,63<n))break}5<g||4<g&&4096>h||3<g&&32>h||(g=1);for(p=0;p<g;p++)k=a.substr(f+p,4),c[k]||(c[k]=[]),1E3<c[k].length&&(c[k]=[]),c[k].push(f+p);f+=g-1;3<=g?(b+=Wg(d.length),b+=Wg(g),b+=Wg(h),b+=d,d=""):d+=a[f]}d.length&&(b+=Wg(d.length),b+=Wg(0),b+=Wg(0),b+=d);return b}
function Xg(a){for(var b={td:a,Jb:0},c="";b.Jb<a.length;){var d=U(b),f=U(b);if(1E5<c.length+d+f)return null;var g=U(b);if(b.error)return null;for(var h=0;h<d;h++){if(b.Jb>=a.length)return null;c+=a[b.Jb++]}if(g>c.length)return null;for(h=0;h<f;h++)c+=c[c.length-g]}return c}
function Yg(a){if(-9007199254740992>a||9007199254740992<a||isNaN(a))a=0;var b=0;0>a&&(b=1,a=-a);var c=a&15;a=Math.floor(a/16);for(b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c|b<<4|(a?32:0)];a;)c=a&31,a=Math.floor(a/32),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c|(a?32:0)];return b}function Zg(a){a.Jb>=a.td.length&&(a.error=!0);var b=Sg[a.td[a.Jb++]];void 0==b&&(a.error=!0);return b}
function $g(a){for(var b=a.error,c=Zg(a),d=c&15,f=c&16?1:0,g=16;c&32;){if(9007199254740992<g){a.error=!0;break}c=Zg(a);d+=(c&31)*g;g*=32}f&&(d=-d);return a.error&&!b?NaN:d}function ah(a){var b=Zg(a);1<b&&(a.error=!0);return 1==b}
function Wg(a){if(0>a||9007199254740992<a||isNaN(a))a=0;var b=a&31;a=Math.floor(a/32);for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b|(a?32:0)];a;)b=a&31,a=Math.floor(a/32),c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b|(a?32:0)];return c}function U(a){for(var b=a.error,c=Zg(a),d=c&31,f=32;c&32;){if(9007199254740992<f){a.error=!0;break}c=Zg(a);d+=(c&31)*f;f*=32}return a.error&&!b?NaN:d}
function bh(a){if(0>a||66591<a||isNaN(a))a=0;if(32>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];if(1056>a)return a-=32,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>5&31];a-=1056;return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>
10&63]}function ch(a){var b=a.error,c=Zg(a),d=c&31;c&32&&(d+=32,c=Zg(a),d+=(c&31)<<5);c&32&&(d+=1024,c=Zg(a),d+=(c&63)<<10);return a.error&&!b?NaN:d}function dh(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a&63]}function eh(a){var b=a.error,c=Zg(a);return a.error&&!b?NaN:c}
function fh(a){if(0>a||2130975<a||isNaN(a))a=0;if(32>a)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a];if(1056>a)return a-=32,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>5&31];if(33824>a)return a-=1056,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>
10&31];a-=33824;return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>5&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[32|a>>10&31]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a>>15&63]}function gh(a){for(var b=0,c=0;52>c;c++)b+=a&1,b*=2,a=Math.floor(a/2);return b}
function hh(a){var b=gh(a),c=!1;b<a&&(a=b,c=!0);a=2*a+(c?1:0);if(0>a||9007199254740992<a||isNaN(a))a=0;if(2199023255552<a)for(a--,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[1|(a&31)<<1],a=Math.floor(a/32),c=0;8>c;c++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a&63],a=Math.floor(a/64);else for(a*=2,c=a&31,a=Math.floor(a/32),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c|(a?32:0)];a;)c=a&31,a=Math.floor(a/32),b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[c|
(a?32:0)];return b}function ih(a){var b=a.error,c=Zg(a);if(c&1){var d=(c&62)>>1;for(var f=32,g=0;8>g;g++)c=Zg(a),d+=c*f,f*=64;d++}else for(d=(c&30)>>1,f=16;c&32;){if(9007199254740992<f){a.error=!0;break}c=Zg(a);d+=(c&31)*f;f*=32}a=a.error&&!b?NaN:d;b=a&1;a=Math.floor(a/2);b&&(a=gh(a));return a}function jh(a){var b=a.error,c=U(a);if(0==c)return 0;if(1==c)return 1;c-=2;var d=ih(a),f=c&1?1:0;c>>=1;0!=c&&(c=1+(c-1+3067)%2047);return a.error&&!b?NaN:u.Yd(f,c,d)}
function kh(a){var b=u.Zd(a),c=b[0],d=b[1];b=b[2];var f=d-1023,g,h="";0!=a||c?1==a?h="B":(!c&&-7<=f&&1>=f?(1==f?g=2:0==f?g=3:-1==f?g=4:-2==f?g=5:-3==f?g=6:-4==f?g=7:-5==f?g=13:-6==f?g=14:-7==f&&(g=15),h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]):c&&-1<=f&&1>=f?(1==f?g=10:0==f?g=11:-1==f&&(g=12),h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[g]):-15<=f&&16>=f?h=h+"I"+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f+15|(c?32:0)]:
(h=h+"J"+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d&31|(c?32:0)],h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d>>5]),h+=hh(b)):h="A";if(!c&&-2<=f&&-0>=f&&9<h.length)for(h=""+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(0==f?16:-1==f?32:48)|b&15],b=Math.floor(b/16),a=0;8>a;a++)h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&63],b=Math.floor(b/64);return h}
function lh(a){var b=a.error,c=Zg(a);if(0==c)var d=0;else if(1==c)d=1;else{if(0==(c&48)){if(8==c){var f=Zg(a);d=f&32?1:0;f=(f&31)-15+1023}else 9==c?(f=Zg(a),d=f&32?1:0,f=(f&31)+(Zg(a)<<5)):(10==c||11==c||12==c?(d=1,10==c?f=1:11==c?f=0:12==c&&(f=-1)):(d=0,2==c?f=1:3==c?f=0:4==c?f=-1:5==c?f=-2:6==c?f=-3:7==c?f=-4:13==c?f=-5:14==c?f=-6:15==c&&(f=-7)),f+=1023);c=ih(a)}else{f=c&48;d=0;f=(16==f?0:32==f?-1:-2)+1023;c&=15;for(var g=16,h=0;8>h;h++)c+=Zg(a)*g,g*=64}d=u.Yd(d,f,c)}return a.error&&!b?NaN:d}
function mh(a){if(Pb(a,0))return Yg(0);if(Pb(a,1))return Yg(1);var b=1<a.e?a.e:a.e-2;isNaN(b)&&(b=-2);return Yg(b)+kh(a.b)}function nh(a){var b=$g(a);if(0==b)return new J(0,0);if(1==b)return new J(1,0);var c=new J(0,0);c.e=b;c.b=lh(a);1>=c.e&&(c.e+=2);return c}
function oh(a){for(var b=0;b<a.length;b++)97<=a[b]&&122>=a[b]?a[b]-=97:0<=a[b]&&25>=a[b]?a[b]+=97:32==a[b]?a[b]=26:26==a[b]?a[b]=32:46==a[b]?a[b]=27:27==a[b]?a[b]=46:44==a[b]?a[b]=28:28==a[b]?a[b]=44:65==a[b]?a[b]=29:29==a[b]?a[b]=65:83==a[b]?a[b]=30:30==a[b]?a[b]=83:84==a[b]?a[b]=31:31==a[b]&&(a[b]=84)}
function ph(a){var b=U(a);if(a.error)return"";for(var c=[],d=0;d<b;d++){var f=d,g=a,h=g.error,k=Zg(g),p=k&31;k&32&&(p+=32,k=Zg(g),p+=(k&31)<<5);k&32&&(p+=1024,k=Zg(g),p+=(k&31)<<10);k&32&&(p+=32768,k=Zg(g),p+=(k&63)<<15);c[f]=g.error&&!h?NaN:p;if(a.error)return""}oh(c);a="";for(b=0;b<c.length;b++)d=c[b],65536>d?a+=String.fromCharCode(d):1114111>=d?(a+=String.fromCharCode((d>>10)+55232),a+=String.fromCharCode((d&1023)+56320)):a+=" ";return a}
function qh(a){var b=[],c=eh(a);56<=c&&(c=c&7|U(a)<<3);if(!a.error){var d=0,f=-1;0<c&&(c--,d=Math.floor(Math.sqrt(.25+2*c)-.5),(d+1)*(d+2)/2-1<c&&d++,f=d,d=c-d*(d+1)/2);for(c=d;c<=f;c++)b[c]=nh(a);return b}}var rh=0,sh=rh++,th=rh++,uh=rh++,vh=rh++,wh=rh++,xh=rh++,yh=rh++,zh=rh++,Ah=rh++,Bh=rh++;rh=12;var Ch=rh++,Dh=rh++,Eh=rh++,Fh=rh++,Gh=rh++,Hh=rh++,Ih=rh++,Jh=rh++,Kh=rh++,Lh=rh++;function Mh(a,b,c){if(!(this instanceof Mh))return new Mh(a,b,c);this.id=c;this.value=a;this.type=b}
function Nh(a,b){switch(b){case sh:return a?"B":"A";case th:return dh(a);case uh:return Yg(a);case vh:return Wg(a);case wh:return bh(a);case xh:b=u.Zd(a);if(0!=a||b[0])if(1==a)a=Wg(1);else{a=b[0];var c=b[1];b=b[2];0!=c&&(c=1+(2047+(c-1)-1020)%2047);a=""+Wg((c<<1|a)+2);a+=hh(b)}else a=Wg(0);return a;case yh:return kh(a);case zh:return mh(a);case Ah:b=[];for(c=0;c<a.length;c++){var d=a.charCodeAt(c);if(55296<=d&&56319>=d&&c+1<a.length){var f=a.charCodeAt(c+1);56320<=f&&57343>=f&&(d=(d<<10)+f-56613888,
c++)}b.push(d)}oh(b);a=Wg(b.length);for(c=0;c<b.length;c++)a+=fh(b[c]);return a;case Bh:a=Nc(a);b="";c=0;d=-1;for(f=0;f<a.length;f++)Zb(a[f],0)&&(-1==d&&(c=f),d=f);f=0;0<=d&&(f=1+d*(d+1)/2+c);56>f?b+=dh(f):(b+=dh(56+(f&7)),b+=Wg(f>>3));for(f=c;f<=d;f++)b+=mh(a[f]);return b}}
function Oh(a,b){var c=a.type,d=a.value,f="";if(12>c)c!=Ah&&0===d||c==Ah&&""==d||c==Bh&&d.empty()||c==zh&&Pb(d,0)?(f+=dh(c+0),f+=dh(a.id&63)):(a.id==b+1?f+=dh(c+12):(f+=dh(c+24),f+=dh(a.id&63)),f+=Nh(a.value,c));else if(a.id==b+1?f+=dh(c-12+36):(f+=dh(c-12+48),f+=dh(a.id&63)),f+=Wg(a.value.length),c==Ch)for(b=0;b<a.value.length;b+=6){for(d=c=0;6>d&&b+d<a.value.length;d++)a.value[b+d]&&(c|=1<<d);f+=dh(c)}else for(b=0;b<a.value.length;b++)f+=Nh(a.value[b],c-12);return f}
function Ph(a){for(var b={},c=0;c<a.length;c++){var d=a[c],f=d.id>>6;b[f]||(b[f]=[]);b[f].push(d)}a="";for(f in b)if(b.hasOwnProperty(f)){var g=(f<<6)-1,h=b[f];h.sort(function(p,n){return p.id-n.id});var k="";for(c=0;c<h.length;c++)d=h[c],k+=Oh(h[c],g),g=d.id;a+=Wg(f);a+=Wg(h.length);a+=k}return a}
function Qh(a){for(var b={};a.Jb!=a.td.length;){var c=U(a),d=U(a);if(a.error)break;for(var f=(c<<6)-1,g=0;g<d;g++){a:{var h=a;var k=f,p=c;f=new Mh(0,0,0);var n=eh(h);12<=n&&23>=n||36<=n&&47>=n?f.id=k+1:(f.id=eh(h),f.id+=p<<6);if(36>n)if(p=n%12,f.type=p,12>n)switch(p){case sh:f.value=!1;break;case th:f.value=0;break;case uh:f.value=0;break;case vh:f.value=0;break;case wh:f.value=0;break;case xh:f.value=0;break;case yh:f.value=0;break;case zh:f.value=J(0);break;case Ah:f.value="";break;case Bh:f.value=
N(0);break;default:h.error=!0}else switch(p){case sh:f.value=ah(h);break;case th:f.value=eh(h);break;case uh:f.value=$g(h);break;case vh:f.value=U(h);break;case wh:f.value=ch(h);break;case xh:f.value=jh(h);break;case yh:f.value=lh(h);break;case zh:f.value=nh(h);break;case Ah:f.value=ph(h);break;case Bh:f.value=Rh(h);break;default:h.error=!0}else if(p=12+n%12,f.type=p,n=U(h),f.value=[],p==Ch)for(k=0;k<n;k+=6){p=eh(h);if(h.error)break;for(var r=0;6>r&&k+r<n;r++)f.value[k+r]=p&1<<r?!0:!1}else for(k=
0;k<n;k++){switch(p){case Ch:f.value[k]=ah(h);break;case Dh:f.value[k]=eh(h);break;case Eh:f.value[k]=$g(h);break;case Fh:f.value[k]=U(h);break;case Gh:f.value[k]=ch(h);break;case Hh:f.value[k]=jh(h);break;case Ih:f.value[k]=lh(h);break;case Jh:f.value[k]=nh(h);break;case Kh:f.value[k]=ph(h);break;case Lh:f.value[k]=Rh(h);break;default:h.error=!0;h=f;break a}if(h.error)break}h=f}if(a.error)return b;f=h.id;b[h.id]=h}}return b}function V(a){a||(a=0);return{he:!0,Ra:a}};function Sh(a){function b(L){x.push(L.type);v.push(L.O);y.push(L.$.length);for(var ha=0;ha<L.$.length;ha++)A.push(L.$[ha]),B.push(L.ga[ha]);E.push(L.D);I.push(L.mark)}function c(L){h(L,Fh)}function d(L){h(L,Bh)}function f(L){h(L,xh)}function g(L){h(L,vh)}function h(L,ha){k.push(Mh(L,ha,64*p+n++))}a.dd++;var k=[],p;var n=p=0;f(a.W);d(a.l);g(a.f);n=4;g(a.Qa);h(a.s,zh);g(a.Z);a.Z&&(g(a.Aa),g(a.Ba),d(a.Vb));n=10;f(a.Bc);f(a.Ac);h(a.mb,uh);h(a.Gb,uh);h(a.Hb,uh);n=15;g(Th);p=1;n=0;g(a.u);g(a.v);var r=a.u,
t=a.v;var x=[];var v=[];for(var l=0;l<t;l++)for(var m=0;m<r;m++){var q=a.B[l][m];x.push(q.index);Q(q)&&v.push(q.o)}h(x,Eh);h(v,Ih);p=2;n=0;g(a.K);g(a.J);r=a.K;t=a.J;x=[];v=[];var y=[];for(l=0;l<t;l++)for(m=0;m<r;m++)q=a.R[l][m],x.push(q.index),Q(q)&&(v.push(q.o),y.push(q.lc));h(x,Eh);h(v,Ih);h(y,Ch);p=3;n=0;l=[];for(q=0;q<R.length;q++)a.c[R[q]].m&&l.push(R[q]);x=[];v=[];y=[];for(q=m=0;q<l.length;q++){if(0>l[q]-m)throw"upgrades must be registered in increasing order";x.push(l[q]-m);m=l[q];v.push(a.c[l[q]].S);
y.push(a.c[l[q]].count)}c(x);h(v,Ch);c(y);p=4;n=0;l=[];for(q=0;q<Ud.length;q++)a.ra[Ud[q]].m&&l.push(Ud[q]);x=[];for(q=m=0;q<l.length;q++){if(0>l[q]-m)throw"crops must be registered in increasing order";x.push(l[q]-m);m=l[q]}c(x);p=5;n=0;l=[];for(q=0;q<ig.length;q++)a.P[ig[q]].m&&l.push(ig[q]);x=[];v=[];y=[];for(q=m=0;q<l.length;q++){if(0>l[q]-m)throw"upgrades2 must be registered in increasing order";x.push(l[q]-m);m=l[q];v.push(a.P[l[q]].S);y.push(a.P[l[q]].count)}c(x);h(v,Ch);c(y);p=6;n=0;l=[];
for(q=0;q<Wf.length;q++)a.da[Wf[q]].m&&l.push(Wf[q]);x=[];for(q=m=0;q<l.length;q++){if(0>l[q]-m)throw"crops2 must be registered in increasing order";x.push(l[q]-m);m=l[q]}c(x);p=7;n=0;l=[];for(q=0;q<nf.length;q++)a.Ma[nf[q]].ea&&l.push(nf[q]);x=[];v=[];for(q=m=0;q<l.length;q++){if(0>l[q]-m)throw"medals must be registered in increasing order";x.push(l[q]-m);m=l[q];v.push(a.Ma[l[q]].S)}c(x);h(v,Ch);p=8;n=0;f(a.Ca);f(a.Ha);f(a.Ga);p=9;n=0;h(a.mc,wh);h(a.precision,wh);h(a.Lb,sh);h(a.fb,sh);h(a.Ia,wh);
p=10;n=0;g(a.V);g(a.dd);g(a.Zc);g(a.cd);g(a.bd);g(a.$c);f(a.Xb);f(a.Yb);g(a.Bb);g(a.ob);g(a.Cb);g(a.dc);g(a.yc);g(a.fc);g(a.Nc);g(a.ad);g(a.fd);h(a.Db,zh);g(a.Yc);f(a.Wb);f(a.Eb);p=11;n=0;f(a.ta);f(a.hc);g(a.cc);d(a.ia);d(a.fa);d(a.Ab);g(a.Ta);g(a.bc);g(a.ac);g(a.$b);g(a.xc);g(a.ec);g(a.ed);g(a.Zb);g(a.Ua);g(a.wc);p=12;n=0;f(a.kb);f(a.ya);g(a.Rb);d(a.xa);d(a.ab);d(a.$a);g(a.tb);g(a.jb);g(a.ib);g(a.hb);g(a.ub);g(a.vb);g(a.wb);g(a.gb);g(a.Pb);g(a.Qb);p=13;n=0;0<a.V&&(f(a.Mc),f(a.Lc),g(a.qd),d(a.pc),
d(a.oc),d(a.nc),g(a.Fc),g(a.Ic),g(a.pd),g(a.Hc),g(a.Jc),g(a.Kc),g(a.rd),g(a.nd),g(a.od),g(a.Gc));p=14;n=0;x=[];for(q=m=0;q<a.va.length;q++)x.push(a.va[q]-m),m=a.va[q];h(x,Eh);p=15;n=0;p=16;n=0;g(a.za);p=17;n=0;h(a.Da,uh);h(a.Wc,sh);g(a.Sa);g(a.L.length);g(a.M.length);g(a.H.length);n=8;x=[];v=[];y=[];var A=[];var B=[];var E=[];var I=[];for(q=0;q<a.L.length;q++)b(a.L[q]);for(q=0;q<a.M.length;q++)b(a.M[q]);for(q=0;q<a.H.length;q++)b(a.H[q]);c(x);c(v);c(y);c(A);c(B);h(E,Jh);c(I);l=Ph(k);m=Uh(l);return"EF"+
("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Th>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Th>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Th&63])+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Math.min(63,Math.floor(Math.log2(a.cc/100+1)))]+Vg(l)+m}
function Vh(a){if(!Ug(a))return V(2);if(22>a.length)return V(1);if("E"!=a[0]||"F"!=a[1])return V(3);var b=4096*Sg[a[2]]+64*Sg[a[3]]+Sg[a[4]];if(b>Th)return V(7);var c=a.substr(a.length-16);a=a.substr(6,a.length-22);a=Xg(a);if(!a)return V(5);if(c!=Uh(a))return V(6);c=new Ig;a={td:a,Jb:0};if(4103>=b){if(a=Wh(a,c,b),void 0!=a)return a}else{var d=Qh(a);if(a.error)return V(4);var f,g,h=function(K,ac){var Rc=d[64*g+m];m++;return void 0==Rc||Rc.type!=ac?(void 0==K&&(f=!0),K):Rc.value};a=function(K){return h(K,
vh)};var k=function(K){return h(K,xh)},p=function(K){return h(K,Fh)},n,r,t,x,v,l;var m=g=0;c.W=k();c.l=h(void 0,Bh);c.f=a();m=4;c.Qa=a();c.s=h(void 0,zh);c.Z=a();c.Z&&(c.Aa=a(),c.Ba=a(),c.Vb=h(void 0,Bh));m=10;4105>=b&&!c.Z&&(m-=3);c.Bc=k();c.Ac=k();4105<=b&&(c.mb=h(void 0,uh));4105<=b&&(c.Gb=h(void 0,uh));4105<=b&&(c.Hb=h(void 0,uh));m=15;if(4106<=b&&a()!=b||f)return V(4);g=1;m=0;c.u=a();c.v=a();if(f||15<c.u||15<c.v||3>c.u||3>c.v)return V(4);var q=c.u,y=c.v;var A=h(void 0,Eh);var B=h(void 0,Ih);
if(f)return V(4);for(var E=t=r=0;E<y;E++)for(c.B[E]=[],n=0;n<q;n++){c.B[E][n]=new og(n,E);var I=c.B[E][n];I.index=A[r++];Q(I)&&(I.o=B[t++])}if(r>A.length||t>B.length)return V(4);g=2;m=0;c.K=a();c.J=a();if(f||15<c.K||15<c.J||3>c.K||3>c.J)return V(4);q=c.K;y=c.J;A=h(void 0,Eh);B=4105<=b?h(void 0,Ih):null;var L=4111<=b?h(void 0,Ch):null;var ha=t=r=0;if(f)return V(4);for(E=0;E<y;E++)for(c.R[E]=[],n=0;n<q;n++)c.R[E][n]=new og(n,E),I=c.R[E][n],I.index=A[r++],Q(I)&&(4105<=b&&(I.o=B[t++]),4111<=b&&(I.lc=
L[ha++]));if(r>A.length||4105<=b&&t>B.length||4111<=b&&ha>L.length)return V(4);g=3;m=0;A=p();B=h(void 0,Ch);L=p();if(f||A.length!=B.length||A.length!=L.length)return V(4);for(E=I=0;E<A.length;E++){I=n=A[E]+I;if(!P[n])return V(4);c.c[n].m=!0;c.c[n].S=B[E];c.c[n].count=L[E];P[n].yb&&(c.c[n].m=!1,c.c[n].count=0,4110>=b&&(n==gf&&L[E]&&(c.c[ff].m=!0,c.c[ff].count=2),n==hf&&L[E]&&(c.c[qd].m=!0,c.c[qd].count=2)))}g=4;m=0;A=p();if(f)return V(4);for(E=I=0;E<A.length;E++){I=n=A[E]+I;if(!Vd[n])return V(4);c.ra[n].m=
!0}g=5;m=0;A=p();B=h(void 0,Ch);L=p();if(f||A.length!=B.length||A.length!=L.length)return V(4);for(E=I=0;E<A.length;E++){I=n=A[E]+I;if(!jg[n])return V(4);c.P[n].m=!0;c.P[n].S=B[E];c.P[n].count=L[E];jg[n].yb&&(c.P[n].m=!1)}g=6;m=0;A=p();if(f)return V(4);for(E=I=0;E<A.length;E++){I=n=A[E]+I;if(!Vf[n])return V(4);c.da[n].m=!0}g=7;m=0;A=p();B=h(void 0,Ch);if(f||A.length!=B.length)return V(4);for(E=I=0;E<A.length;E++){I=n=A[E]+I;if(!of[n])return V(4);c.Ma[n].ea=!0;c.Ma[n].S=B[E]}g=8;m=0;c.Ca=k();c.Ha=
k();c.Ga=k();if(f)return V(4);g=9;m=0;c.mc=h(void 0,wh);c.precision=h(void 0,wh);c.Lb=h(void 0,sh);c.fb=h(void 0,sh);c.Ia=h(void 0,wh);if(f)return V(4);g=10;m=0;c.V=a();c.dd=a();c.Zc=a();c.cd=a();c.bd=a();c.$c=a();c.Xb=k();c.Yb=k();c.Bb=a();c.ob=a();c.Cb=a();c.dc=a();c.yc=a();c.fc=a();c.Nc=a();4105<=b&&(c.ad=a());4105<=b&&(c.fd=a());4106<=b&&(c.Db=4110<=b?h(void 0,zh):J(a()));4110<=b&&(c.Yc=a(),c.Wb=k(),c.Eb=k());if(f)return V(4);g=11;m=0;c.ta=k();c.hc=k();c.cc=a();c.ia=h(void 0,Bh);c.fa=h(void 0,
Bh);c.Ab=h(void 0,Bh);c.Ta=a();c.bc=a();c.ac=a();c.$b=a();c.xc=a();c.ec=a();c.ed=a();4105<=b&&(c.Zb=a());4113<=b&&(c.Ua=a());4113<=b&&(c.wc=a());if(f)return V(4);g=12;m=0;c.kb=k();c.ya=k();c.Rb=a();c.xa=h(void 0,Bh);c.ab=h(void 0,Bh);c.$a=h(void 0,Bh);c.tb=a();c.jb=a();c.ib=a();c.hb=a();c.ub=a();c.vb=a();c.wb=a();4105<=b&&(c.gb=a());4113<=b&&(c.Pb=a());4113<=b&&(c.Qb=a());if(f)return V(4);g=13;m=0;if(0<c.V&&(c.Mc=k(),c.Lc=k(),c.qd=a(),c.pc=h(void 0,Bh),c.oc=h(void 0,Bh),c.nc=h(void 0,Bh),c.Fc=a(),
c.Ic=a(),c.pd=a(),c.Hc=a(),c.Jc=a(),c.Kc=a(),c.rd=a(),4105<=b&&(c.nd=a(0)),4113<=b&&(c.od=a()),4113<=b&&(c.Gc=a()),f))return V(4);g=14;m=0;A=h(void 0,Eh);if(f)return V(4);I=0;c.va=[];for(E=0;E<A.length;E++){I+=A[E];if(0>I)return V(4);c.va[E]=I}g=15;m=0;g=16;m=0;4110<=b&&(c.za=a());g=17;m=0;if(4113<=b){c.Da=h(void 0,uh);c.Wc=h(void 0,sh);c.Sa=a();c.L.length=a(0);c.M.length=a(0);c.H.length=a(0);if(1<c.L.length||c.M.length>c.Sa)return V(4);m=8;A=p();B=p();L=p();var Aa=p();var Ma=p();var Ia=h(void 0,
Jh);var Ta=p();if(f)return V(4);var Y=l=v=x=ha=t=r=0;a=function(){var K=new Og;K.type=A[r++];K.O=B[t++];K.$.length=L[ha++];for(var ac=0;ac<K.$.length;ac++)K.$[ac]=Aa[x++],K.ga[ac]=Ma[v++];K.D=Ia[l++];K.mark=Ta[Y++];return K};for(E=0;E<c.L.length;E++)c.L[E]=a();for(E=0;E<c.M.length;E++)c.M[E]=a();for(E=0;E<c.H.length;E++)c.H[E]=a();if(r!=A.length||t!=B.length||ha!=L.length||x!=Aa.length||v!=Ma.length||l!=Ia.length||Y!=Ta.length)return V(4)}}if(4104>=b){for(E=0;E<c.J;E++)for(n=0;n<c.K;n++)I=c.R[E][n],
Q(I)&&c.l.s.eb(10);Kg(c);0<c.V&&S("Due to an update, the resin and transcension system has been reset. All your resin has been refunded so you can re-use it with the new system. The pericarps resource has been removed from the game. There are now multiple ethereal field plant types and they give direct boosts to the basic field. Unused resin also gives a small boost now. The ethereal upgrades are currently removed, but new ones, probably costing resin, may be added back in a future game update.",
"#d56","#5e8",!1,!0);c.l.N=J(0);c.ia.N=J(0);c.fa.N=J(0);c.Ab.N=J(0);c.xa.N=J(0);c.ab.N=J(0);c.$a.N=J(0);c.pc.N=J(0);c.oc.N=J(0);c.nc.N=J(0);c.da[bg].m=!0;c.da[dg].m=!0;c.da[fg].m=!0;c.da[$f].m=!0;c.Cb=0;c.dc=0;c.yc=0;c.fc=0;c.ia.s=J(c.l.s);c.Db=J(c.ia.s)}else 4105==b?(c.ia.s=J(c.fa.s),c.Db=J(c.ia.s)):4110>b&&(a=c.Db,k=c.ia.s,k.ja(a)&&(a=J(k)),k=c.fa.s,k.ja(a)&&(a=J(k)),k=J(11*c.V),k.ja(a)&&(a=J(k)),c.Db=a);4112>b&&(c.da[hg].m=!0,c.da[fg].m=!0,c.l.A.ka(6.666666));c.cd++;return c}
function Wh(a,b,c){b.W=jh(a);b.l=Rh(a);b.s=nh(a);b.f=U(a);if(65536<b.f)return V(4);b.Qa=U(a);if(65536<b.Qa)return V(4);b.Z=U(a);if(b.Z&&(b.Aa=U(a),b.Ba=U(a),b.Vb=Rh(a),a.error))return V(4);b.u=U(a);b.v=U(a);if(a.error||15<b.u||15<b.v||3>b.u||3>b.v||b.Aa>=b.u||b.Ba>=b.v)return V(4);b.K=U(a);b.J=U(a);if(15<b.K||15<b.J||3>b.K||3>b.J)return V(4);for(var d=b.u,f=b.v,g=0;g<f;g++){b.B[g]=[];for(var h=0;h<d;h++){b.B[g][h]=new og(h,g);var k=b.B[g][h];k.index=$g(a);4103>c&&95==k.index&&(k.index=116);Q(k)&&
(k.o=lh(a))}}if(a.error)return V(4);d=b.K;f=b.J;for(g=0;g<f;g++)for(b.R[g]=[],h=0;h<d;h++)b.R[g][h]=new og(h,g),k=b.R[g][h],k.index=$g(a);if(a.error)return V(4);k=[];k.length=U(a);for(h=g=0;h<k.length;h++){if(a.error)return V(4);g=d=ch(a)+g;if(!P[d])return V(4);k[h]=d;b.c[k[h]].m=!0;P[k[h]].yb&&(b.c[k[h]].m=!1)}for(h=0;h<k.length;h++)b.c[k[h]].S=ah(a),b.c[k[h]].count=U(a);if(a.error)return V(4);k=[];k.length=U(a);for(h=g=0;h<k.length;h++){if(a.error)return V(4);g=d=ch(a)+g;4103>c&&79==d&&(d=100);
if(!Vd[d])return V(4);k[h]=d;b.ra[k[h]].m=!0}4103>=c&&(b.ra[Be].m=!0);k=[];k.length=U(a);for(h=g=0;h<k.length;h++){if(a.error)return V(4);g=d=ch(a)+g;if(!jg[d])return V(4);k[h]=d;b.P[k[h]].m=!0;jg[k[h]].yb&&(b.P[k[h]].m=!1)}for(h=0;h<k.length;h++)b.P[k[h]].S=ah(a),b.P[k[h]].count=U(a);if(a.error)return V(4);k=[];k.length=U(a);for(h=g=0;h<k.length;h++){if(a.error)return V(4);g=d=ch(a)+g;if(!Vd[d])return V(4);k[h]=d;b.da[k[h]].m=!0}k=[];k.length=U(a);for(h=g=0;h<k.length;h++){if(a.error)return V(4);
g=d=ch(a)+g;if(!of[d])return V(4);k[h]=d;b.Ma[k[h]].ea=!0}for(h=0;h<k.length;h++)b.Ma[k[h]].S=ah(a);Rh(a);4098>=c?(Rh(a),nh(a),nh(a),nh(a),nh(a),Rh(a)):(b.Ca=jh(a),b.Ha=jh(a),jh(a),b.Ga=jh(a),jh(a),jh(a),jh(a));4102<=c&&(b.Bc=jh(a),b.Ac=jh(a));if(a.error)return V(4);b.mc=ch(a);b.precision=ch(a);b.Lb=ah(a);b.fb=ah(a);4102<=c&&(b.Ia=ch(a));if(a.error)return V(4);b.V=U(a);b.dd=U(a);b.Zc=U(a);b.cd=U(a);b.bd=U(a);b.$c=U(a);b.Xb=jh(a);b.Yb=jh(a);b.Bb=U(a);b.ob=U(a);b.Cb=U(a);b.dc=U(a);b.yc=U(a);b.fc=U(a);
b.ta=jh(a);b.hc=jh(a);b.cc=U(a);b.ia=Rh(a);b.fa=Rh(a);b.Ab=Rh(a);b.Ta=U(a);4103<=c&&(b.bc=U(a));b.ac=U(a);b.$b=U(a);b.xc=U(a);b.ec=U(a);b.ed=U(a);if(a.error)return V(4);b.kb=jh(a);b.ya=jh(a);b.Rb=U(a);b.xa=Rh(a);b.ab=Rh(a);b.$a=Rh(a);b.tb=U(a);4103<=c&&(b.jb=U(a));b.ib=U(a);b.hb=U(a);b.ub=U(a);b.vb=U(a);b.wb=U(a);if(a.error||0<b.V&&(b.Mc=jh(a),b.Lc=jh(a),b.qd=U(a),b.pc=Rh(a),b.oc=Rh(a),b.nc=Rh(a),b.Fc=U(a),4103<=c&&(b.Ic=U(a)),b.pd=U(a),b.Hc=U(a),b.Jc=U(a),b.Kc=U(a),b.rd=U(a),b.Nc=U(a),a.error))return V(4);
c=U(a);b.va=[];if(1E3<c)return V(4);for(h=g=0;h<c;h++){k=$g(a);g+=k;if(0>g)return V(4);b.va[h]=g}if(a.error)return V(4)}function Uh(a){for(var b=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],c=0;c<a.length;c++)for(var d=Sg[a[c]]+1,f=0;16>f;){b[f]=65537*b[f]+d;if(63<b[f])d=b[f]>>6,b[f]&=63;else break;f++}a="";for(c=0;c<b.length;c++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[c]&63];return a}function Xh(a){G=a;Mg(G);qc=G.mc;rc=G.precision}
function Yh(a,b,c){a.mc=qc;a.precision=rc;(a=Sh(a))?b&&b(a):c&&c()}function Zh(a,b,c){(a=Vh(a))&&!a.he?(Xh(a),b&&b(a)):c&&c(a)}function Rh(a){var b=new qh(a);if(null==b||void 0==b)return null;if(8<b.length)return a.error=!0,null;a=new N;Oc(a,b);return a};var $h=" thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion unvigintillion duovigintillion trevigintillion quattuorvigintillion quinvigintillion sexvigintillion septenvigintillion octovigintillion novemvigintillion trigintillion untrigintillion duotrigintillion".split(" "),ai=[fc,kc,gc,hc,lc],bi=[];
for(T=0;T<ai.length;T++)bi[ai[T]]=T;
function ci(){function a(){var m='<table border="1" style="border-collapse:collapse"><tr><td style="padding:8px"><b>Example</b></td><td style="padding:8px"><b>Notation</b></td><td width="10%" style="border:none"></td><td style="padding:8px"><b>Example</b></td><td style="padding:8px"><b>Notation</b></td></tr>';for(var q=0;2*q<l.length;q++){m+="<tr>";m+='<td style="padding:8px; color:#444">';m+=l[q].valueOf();m+='</td><td style="padding:8px">';m+=J(l[q]).toString(v,p);m+="</td>";var y=q+Math.floor(l.length/
2);m+='<td style="border:none"> </td>';m+='<td style="padding:8px; color:#444">';m+=l[y].valueOf();m+='</td><td style="padding:8px">';m+=J(l[y]).toString(v,p);m+="</td>";m+="</tr>"}h.innerHTML="<b>Notation description:</b> "+ec[p];x.innerHTML=m+"</table>"}var b=C(2),c=0;var d=.05;var f=(new D(b,0,c,1,c+d,.5)).a;ja(f);c+=d;d=.1;var g=(new D(b,0,c,1,c+d,.3)).a;c+=d+.02;d=.08;var h=(new D(b,.01,c,.99,c+d,.3)).a;c+=d;d=.05;var k=new D(b,0,c,1,c+d,.3);c+=d+.02;d=.25;b=(new D(b,0,c,1,c+d,.3)).a;c+=d;var p=
qc;f.g.innerText="Choose large number notation";c="Select which notation to use for large numbers.\n\n";for(d=0;d<ai.length;d++){var n=ai[d];c+=dc[n]+":\n"+ec[n]+"\n\n"}f.g.innerText="Choose large number notation";f.g.title=c;var r=u.jd("select","10%","0%","80%","45%",g);r.title=c;for(d=0;d<ai.length;d++)n=ai[d],f=u.Cc("option",r),f.innerText="notation: "+dc[n],f.title=c;r.onchange=function(){qc=p=ai[r.selectedIndex];a()};r.selectedIndex=bi[qc];r.style.fontSize="100%";var t=u.jd("select","10%","50%",
"80%","45%",g);for(d=3;6>=d;d++)f=u.Cc("option",t),f.innerText="precision: "+d;t.onchange=function(){rc=v=t.selectedIndex+3;a()};t.selectedIndex=Math.min(Math.max(0,rc-3),4);t.style.fontSize="100%";var x=ea("1%","0%","98%","10%",b);x.innerHTML="<b>Examples:</b>";var v=rc,l=[0,.002,.3,1,7.123456,12,150,1712.29,1.43489075E7,4294967296,2.048E23,8E29,7.10915E50,2.1065E85];g=(new D(k,.01,.16,.3,.8,1)).a;z(g);g.g.innerText="help";g.g.onclick=function(){var m=C(2),q=(new D(m,.01,.01,.99,.1,.4)).a;ja(q);
q.g.innerText="Number Format help";m=(new D(m,.01,.11,.99,.85,.3)).a;m.style.overflowY="scroll";m.style.backgroundColor="#aaa";q="Change the displayed number format used for most costs, amounts, percentages, etc...<br><br><b>Latin suffixes:</b><br><br>";for(var y=$h.length+2,A=1;A<y;A++){var B="",E="";if(A<y-2){var I=Fc(3*A);B=$h[A];if(4>=A){E=", 1";for(var L=0;L<A;L++)E+=",000";E+=" (1e"+3*A+")"}else E=", 1e"+3*A}else A==y-2?(B="centillion",E=", 1e303",I="C"):I="etc...";q+="<b>"+I+"</b>"+(B?": ":
"")+B+E+"<br>"}q+="<br><br><b>SI suffixes:</b><br><br>";y=9;for(A=1;A<y;A++){B=I="";E=", 1";for(L=0;L<A;L++)E+=",000";E+=" (1e"+3*A+")";1==A?(I=" K",B=" kilo"):2==A?(I=" M",B=" mega"):3==A?(I=" G",B=" giga"):4==A?(I=" T",B=" tera"):5==A?(I=" P",B=" peta"):6==A?(I=" E",B=" exa"):7==A?(I=" Z",B=" zetta"):8==A&&(I=" Y",B=" yotta");q+="<b>"+I+"</b>"+(B?": ":"")+B+E+"<br>"}q+="<br><br><b>Symbol meanings:</b><br><br>\n    <b>.</b>: decimal point, e.g. 1.5 is one and a half<br>\n    <b>*</b>: multiply, e.g. 5*5 = 25<br>\n    <b>^</b>: power, e.g. 5^3 = 5*5*5 = 125<br>\n    <b>10^</b>: exponential function for logarithm 10 notation<br>\n    <b>e^</b>: exponential function for natural log notation. Here, e = 2.71828...<br><br><b>Formats:</b><br><br>";
for(A=0;A<ai.length;A++)L=ai[A],q+="<b>"+u.T(dc[L])+"</b><br>",q+=ec[L]+"<br><br>";m.innerHTML=q};a()}
function di(){function a(){var g=(new D(b,.1,d,.9,d+.05,.5)).a;z(g,1);d+=.05*1.1;return g}var b=C(),c=new D(b,0,0,1,.05,.4);ja(c.a);c.a.g.innerText="Preferences";c.a.g.style.fontWeight="bold";var d=.05;c=a();c.g.innerText="number format";F(c,"Change the precision and display type for large numbers.");c.onclick=function(){ci()};c=a();var f=function(g){g.g.innerText="save on close: "+(G.Lb?"yes":"no")};f(c);F(c,"Whether to auto-save when closing the browser window or tab. If off, then still auto-saves every few minutes, but no longer on unload. Toggling this setting will also immediately cause a save.");
c.onclick=w(function(g,h){G.Lb=!G.Lb;h(g);fi()},c,f);c=a();f=function(g){g.g.innerText="shift+click deletes plant: "+(G.fb?"yes":"no")};f(c);F(c,"Allow directly deleting plant without any dialog or confirmation by shift+clicking it on the field. Note that you can also always shift+click empty fields to repeat last planted type (opposite of deleting), that always works regardless of this setting.");c.onclick=w(function(g,h){G.fb=!G.fb;h(g)},c,f);c=a();f=function(g){var h="?";0==G.Ia&&(h="none");1==
G.Ia&&(h="dark");2==G.Ia&&(h="light");3==G.Ia&&(h="translucent");g.g.innerText="tooltip style: "+h};f(c);F(c,"Change the tooltip style or disable them");c.onclick=w(function(g,h){G.Ia++;4<=G.Ia&&(G.Ia=0);h(g);ra()},c,f)}
function gi(){var a=C(),b=(new D(a,.01,.01,.99,.1,.4)).a;ja(b);b.g.innerText="About";a=(new D(a,.01,.11,.99,.85,.3)).a;a.style.overflowY="scroll";a.style.backgroundColor="#aac";b='Ethereal Farm<br/><br/>Reddit: <a target="_blank" href="https://www.reddit.com/r/etherealfarm/">https://www.reddit.com/r/etherealfarm/</a><br/>Github: <a target="_blank" href="https://github.com/lvandeve/etherealfarm">https://github.com/lvandeve/etherealfarm</a><br/><br/>Game version: Ethereal Farm v'+hi();a.innerHTML=b+
'<br/><br/>Changelog:<br/><br/>0.1.18 (2021-01-17):<br/>\u2022 Increased starter resources of ethereal fern.<br/>\u2022 Fixed bugs related to leeching and transcension II.<br/><br/>0.1.17 "Fruit Update" (2021-01-16):<br/>\u2022 Added fruits.<br/>\u2022 Only one weather ability can be active at the same time now.<br/><br/>0.1.16 (2021-01-09):<br/>\u2022 Added ethereal lotus. Lotus now boosts ethereal neighbors, while clover boosts basic flowers.<br/>\u2022 Added more ethereal upgrades<br/>\u2022 Added more achievements<br/>\u2022 Ethereal mushroom bonus improved: no longer increases consumption.<br/>\u2022 Leeching watercress now leaves a "ghost" remainder when it disappears. No effect, visual reminder of leech spot only.<br/>\u2022 Spore costs and production inflated times 6.66666, no actual consequence other than display, to avoid values with very small exponent with first mushroom.<br/><br/>0.1.15 (2021-01-08):<br/>\u2022 Swapped fog and sun ability (sun is now unlocked first).<br/>\u2022 Improve UI of "choice" upgrades to be single upgrade with a choice dialog<br/>\u2022 Increased unused resin bonus 10x<br/>\u2022 Increased amount of starter resources from ethereal fern and made it scale quadratically<br/>\u2022 Can now only delete new ethereal crops after next transcension<br/>\u2022 Bugfixes<br/><br/>0.1.14 (2020-12-30):<br/>\u2022 Ethereal crops now give 100% resin back on delete, but require ethereal deletion tokens.<br/>\u2022 Buffed watercress to have a more meaningful upgrade for the early game experience.<br/>\u2022 Added a few more achievements.<br/><br/>0.1.13 (2020-12-30):<br/>\u2022 Mushrooms now only get seeds from neighbors, so they can\'t produce spores if they don\'t have berries as neighbors in the field.<br/>\u2022 The global overconsumption system has been removed since this now takes place locally amongst groups of mushroom/berry neighbors.<br/>\u2022 Nettles now also negatively affect neighboring flowers, instead of only berries.<br/>\u2022 Leech effect takes the extra seeds consumption through the mushrooms neighboring producers.<br/>\u2022 Internal field production algorithm updated to support the neighbor-based consumption/production effects.<br/>\u2022 Trees still consume spores globally, mushrooms are not required to be next to the tree. Maybe this makes sense in a future update but it may cause an issue of discoverability when one doesn\'t yet know you want to upgrade the tree.<br/>\u2022 The goal of this is to add more crop interaction and positional elements to the game<br/><br/>0.1.12 (2020-12-28):<br/>\u2022 Fix accidental 7x7 field bug, 6x6 is currently the maximum if the relevant upgrade is purchased.<br/><br/>0.1.11 (2020-12-27):<br/>\u2022 Added back ethereal upgrades (2 for now), now costing resin. The 6x6 field size upgrade is now actually reachable.<br/><br/>0.1.10 (2020-12-26):<br/>\u2022 Internal fixes.<br/><br/>0.1.9 (2020-12-26):<br/>\u2022 The resin and transcension system has been redesigned. There are now multiple ethereal field plant types and they give direct boosts to the basic field. All resin has been refunded and can be re-used with the new system.<br/>\u2022 The pericarps resource has been removed from the game. Nothing is lost from this since only its production per second ("ethereal field power") was used and this was determined by resin which has been refunded.<br/>\u2022 Unused resin also gives a small boost now.<br/>\u2022 The ethereal upgrades (which used to cost ethereal field power) are currently removed (and replaced by ethereal plant effects instead), but new ones, probably costing resin, may be added back in a future game update.<br/>\u2022 A few other minor tweaks, e.g. the savegame now remembers which tab you had open and the assigned shift key plant.<br/><br/>0.1.8 (2020-12-24):<br/>\u2022 Changed the savegame format internally to be more compatible with future updates.<br/>\u2022 Minor tweaks and fixes.<br/><br/>0.1.7 (2020-12-23):<br/>\u2022 Added new plant type: watercress, and made it the starter plant. Also remains important as non-idle (active) plant throughout the game.<br/>\u2022 Nerfed costs and production of other plants to compensate the watercress power.<br/>\u2022 Added "a" keyboard shortcut for abilities.<br/><br/>0.1.6 (2020-12-22):<br/>\u2022 Added undo button.\u2022 Removed the free replant of same plant type at same spot since undo can be used instead now.<br/>\u2022 Weather abilities unlock immediately rather than through extra upgrade step, and merged their choice upgrades.<br/><br/>0.1.5 (2020-12-21):<br/>\u2022 Added new plant type: nettle<br/>\u2022 Added estimated time counters to several cost tooltips<br/>\u2022 Balancing tweaks<br/>\u2022 Increased ethereal upgrades but still very conservative for now as first run can still get balanced more<br/><br/>0.1.4 (2020-12-20):<br/>\u2022 Added "choice" upgrades<br/>\u2022 Added a third weather ability<br/>\u2022 Made higher level mushrooms produce more spores<br/><br/>0.1.3 (2020-12-19):<br/>\u2022 Added weather abilities<br/>\u2022 Balancing: slightly cheaper 3rth and higher tier plants<br/><br/>0.1.2 (2020-12-19):<br/>\u2022 Slightly boosted fern and it can now also give spores<br/>\u2022 Tweaked the upgrade-button UI<br/><br/>0.1.1 (2020-12-18):<br/>\u2022 Balance changes: fixed too slow beginning of game, but also the too powerful long term upgrade scaling<br/><br/>0.1.0 (2020-12-18):<br/>\u2022 Initial test release, no patches applied yet<br/>\u2022 Since this is a first alpha release, balancing and mechanics can still change quite bit!<br/><br/>Copyright (c) 2020-2021 by Lode Vandevenne'}
function ii(){var a=C(),b=(new D(a,.01,.01,.99,.1,.4)).a;ja(b);b.g.innerText="Help";a=(new D(a,.01,.11,.99,.85,.3)).a;a.style.overflowY="scroll";a.style.backgroundColor="#aac";a.innerHTML='Ethereal farm is an incremental game that begins by growing and upgrading crops in this ethereal world.<br/><br/>The text in the message log at the bottom will guide you through how to play. A short summary of the first steps: initially you have no resources but can get some from clicking ferns. Then you can click on field tiles to plant crops and soon resources are gained automatically. The rest will be revealed when the time is ready.<br/><br/>You can click resources in the resource panel to see more detailed breakdown. You can click fullgrown crops to see detailed stats. As the game progresses, more types of information may appear in there.<br/><br/><b>List of keyboard shortcuts:</b><br/><br/> \u2022 <b>"1" , "2" , "3"</b>: activate one of the weather abilities<br/> \u2022 <b>shift + click empty field</b>: plant last planted type<br/> \u2022 <b>shift + click non-empty field</b>: delete plant, only if this is enabled in preferences<br/> \u2022 <b>ctrl + click empty field</b>: plant a watercress (does not affect last planted type for shift key)<br/> \u2022 <b>shift + click upgrade</b>: buy as many of this upgrade as you can afford<br/> \u2022 <b>shift + click undo</b>: save the undo state now, rather than load it. This overwrites your undo so eliminates any chance of undoing now. This will also be overwritten again if you do actions a minute later.<br/> \u2022 <b>shift + click save import dialog</b>: import and old savegame, but do not run the time, so you get the resources at the time of saving rather than with all production during that time added.<br/> \u2022 <b>esc</b>: close dialogs.<br/><br/><b>Savegame recovery:</b><br/><br/>This game auto-saves every few minutes in local storage in the web browser, but please use <i>settings -> export save</i> regularly for backups, because a local storage savegame can easily get lost.<br/><br/>If something goes wrong with your savegame, there may be a few older recovery savegames. Click <a style="color:#44f;" id="recovery">here</a> to view them.<br/><br/><br/>Game version: Ethereal Farm v'+
hi()+"<br/><br/>Copyright (c) 2020-2021 by Lode Vandevenne";document.getElementById("recovery").onclick=function(){ji()}}
function ji(a){var b=a?'<font color="red"><b>Loading failed</b></font>. Read this carefully to help recover your savegame if you don\'t have backups. Copypaste all the recovery savegame(s) below and save them in a text file. Once they\'re stored safely by you, try some of them in the "import save" dialog under settings. One of them may be recent enough and work. Even if the recovery saves don\'t work now, a future version of the game may fix it. Apologies for this.':"Recovery saves. These may be older saves, some from previous game versions. Use at your own risk, but if your current save has an issue, save all of these to a text file as soon as possible so that if there's one good one it doesn't risk being overwritten by more issues.";
for(var c=ki(),d="",f=0;f<c.length;f++)d+=c[f][0]+"\n"+c[f][1]+"\n\n";0==c.length&&(d='No recovery saves found. Ethereal farm savegames are stored in local storage of your web browser for the current website. If you expected to see savegames here, there may be several possible reasons:\n\n \u2022 Your browser deleted (or doesn\'t save) local storage for this website\n\n \u2022 After manually performing a hard reset all data is erased\n\n \u2022 Never played the game on this device or in this browser.\n\n \u2022 Played the game on a different website (URL). If you played on a different website before and want to continue here, you can export the save there and import it here in the settings.\n\n \u2022 Other modifications to the URL: for example, ensure no "www" in front and "https", not "http" in front.\n\n');
!a&&0<c.length&&!li?Yh(G,function(g){d+="current\n"+g+"\n\n";mi(b,d,"ethereal-farm-recovery-"+u.zb(u.getTime(),!0)+".txt",!a)}):mi(b,d,"ethereal-farm-recovery-"+u.zb(u.getTime(),!0)+".txt",!a)}
function mi(a,b,c,d){var f=400<a.length||1E3<b.length,g=void 0,h=void 0;document.queryCommandSupported&&document.queryCommandSupported("copy")&&document.execCommand&&(g=function(){p.select();p.focus();try{document.execCommand("copy")}catch(n){S("failed to copy to clipboard","#f00","#ff0");k.a.innerText="failed to copy to clipboard, copy it manually with ctrl+c instead";k.a.style.color="red";return}d&&ua();S("save copied to clipboard","#aaa")},h="to clipboard");f=C(f?1:0,function(){var n=document.createElement("a");
n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(p.value+"\n"));n.setAttribute("download",c);n.style.display="none";document.body.appendChild(n);n.click();document.body.removeChild(n);d&&ua();S("save exported to file","#aaa")},"download","back",g,h);var k=new D(f,.02,.01,.98,.15,.3);k.a.innerHTML=a;a=new D(f,.02,.2,.98,.8,.3);var p=u.jd("textarea","0","0","100%","100%",a.a);p.value=b}
function ni(a){function b(){var f=(new D(a,.1,c,.9,c+.05,.5)).a;z(f,1);c+=.05*1.1;return f}var c=.05,d=new D(a,0,0,1,.05,.4);ja(d.a);d.a.g.innerText="Settings";d.a.g.style.fontWeight="bold";d=b();d.g.innerText="save now";F(d,"Save to local storage now. The game also autosaves every few minutes so you don't need this button often.");d.onclick=function(){fi(function(f){S("Manually saved state locally");u.cb(f,bd);ua()})};d=b();d.g.innerText="export save";F(d,"Export an encoded savegame, for backups.");
d.onclick=function(){G.$c++;G.Xb=u.getTime();Yh(G,function(f){mi("Export a savegame backup: copy or download the encoded savegame below, and store it somewhere safe. Do this regularly: even though the game autosaves in the web browser, browsers can easily lose this data. This contains all your progress!",f,"ethereal-farm-"+u.zb(u.getTime(),!0)+".txt",!0)})};d=b();d.g.innerText="import save";F(d,'Import a save, which you created with "export save"');d.onclick=function(){var f=C(!1,function(k){var p=
k.shiftKey;k=h.value;k=k.trim();""!=k&&Zh(k,function(n){p&&(n.W=n.time=u.getTime(),Xh(n),S("Held shift key while importing this save, so no resources added for the time between exporting and importing now (loaded as if the time was back then). To get those resources, don't hold shift while loading."));f.Ja();n.bd++;n.Yb=u.getTime();ua();oi();W();u.Xa(Yc);li=!1},function(n){var r="invalid savegame";n&&1==n.Ra&&(r+="\nLoading fail reason: the string is too short to be a savegame");n&&2==n.Ra&&(r+="\nLoading fail reason: not base64");
n&&3==n.Ra&&(r+="\nLoading fail reason: invalid signature");n&&4==n.Ra&&(r+="\nLoading fail reason: parsing format");n&&5==n.Ra&&(r+="\nLoading fail reason: decompression");n&&6==n.Ra&&(r+="\nLoading fail reason: checksum mismatch");n&&7==n.Ra&&(r+="\nLoading fail reason: savegame is of later version than current game version");g.a.innerText=r;g.a.style.color="black"})},"import","cancel"),g=new D(f,.01,.01,.99,.1,.4);g.a.innerHTML='Import a savegame backup. You can create a backup with "export save". Paste in here and press "import".<br/><font color="red">Warning: this overwrites your current game!</font>';
var h=u.jd("textarea","1%","15%","98%","70%",f.a);h.select();h.focus()};d=b();d.g.innerText="hard reset";F(d,"Perform a hard reset. This removes all savegame data, deletes your entire game and starts a new game from the beginning.\n\nWARNING: This is not a soft reset: nothing is kept, everything will be deleted, including achievements, settings and recovery saves. This starts over with a new, blank, savegame, and cannot be reverted. Are you sure you want to do this?");d.onclick=function(){var f=C(!1,
function(){f.Ja();S("Hard reset performed, everything reset");u.Xa(Xc);u.Xa(Yc);u.Xa(Zc);u.Xa($c);u.Xa(ad);u.Xa(cd);u.Xa(bd);u.Xa(dd);Xh(Lg());pi="";qi=0;li=!1;Qd=[];oi();W();ua()},"reset"),g=new D(f,.01,.01,.99,.1,.4);g.a.innerText="Perform a hard reset. This removes all savegame data, deletes your entire game and starts a new game from the beginning.\n\nWARNING: This is not a soft reset: nothing is kept, everything will be deleted, including achievements, settings and recovery saves. This starts over with a new, blank, savegame, and cannot be reverted. Are you sure you want to do this?";
g.a.style.color="red"};c+=.02;d=b();d.g.innerText="preferences";F(d,"Various UI, saving, gameplay and other settings.");d.onclick=function(){di()};d=b();d.g.innerText="number format";F(d,"Change the precision and display type for large numbers.");d.onclick=function(){ci()};c+=.02;d=b();d.g.innerText="player stats";d.onclick=function(){var f=C(),g=(new D(f,.01,.01,.99,.1,.4)).a;ja(g);g.g.innerText="Player Statistics";f=(new D(f,.01,.11,.99,.85,.35)).a;f.style.overflowY="scroll";f.style.backgroundColor=
"#aac";g="";0<G.V&&(g+="<b>Current Run</b><br>");if(0<G.V||0<G.f)g+='\u2022 tree level: <font color="#fff">'+G.f+"</font><br>";g+='\u2022 start time: <font color="#fff">'+u.zb(G.kb)+"</font><br>";g+='\u2022 duration: <font color="#fff">'+u.F(u.getTime()-G.kb)+"</font><br>";g+='\u2022 total earned: <font color="#fff">'+G.xa.toString(!0)+"</font><br>";g+='\u2022 highest resources: <font color="#fff">'+G.ab.toString(!0)+"</font><br>";g+='\u2022 highest production/s: <font color="#fff">'+G.$a.toString(!0)+
"</font><br>";g+='\u2022 ferns: <font color="#fff">'+G.tb+"</font><br>";g+='\u2022 planted (permanent): <font color="#fff">'+G.hb+"</font><br>";g+='\u2022 planted (watercress): <font color="#fff">'+G.jb+"</font><br>";g+='\u2022 deleted: <font color="#fff">'+G.ub+"</font><br>";g+='\u2022 upgrades: <font color="#fff">'+G.vb+"</font><br>";0<G.Ua&&(g+='\u2022 fruits: <font color="#fff">'+G.Pb+"</font><br>",g+='\u2022 fruit upgrades: <font color="#fff">'+G.Qb+"</font><br>");if(0<G.V||0<G.f)g+='\u2022 weather abilities activated: <font color="#fff">'+
G.gb+"</font><br>";0<G.c[Nd].count&&(g+='\u2022 sun ability run time, cooldown time, total cycle: <font color="#fff">'+u.F(vd(),!0)+'</font>, <font color="#fff">'+u.F(pd(720)-vd(),!0)+'</font>, <font color="#fff">'+u.F(pd(720),!0)+"</font><br>");0<G.c[Md].count&&(g+='\u2022 fog ability run time, cooldown time, total cycle: <font color="#fff">'+u.F(wd(),!0)+'</font>, <font color="#fff">'+u.F(pd(1080)-wd(),!0)+'</font>, <font color="#fff">'+u.F(pd(1080),!0)+"</font><br>");0<G.c[Rd].count&&(g+='\u2022 rainbow ability run time, cooldown time, total cycle: <font color="#fff">'+
u.F(xd(),!0)+'</font>, <font color="#fff">'+u.F(pd(1440)-xd(),!0)+'</font>, <font color="#fff">'+u.F(pd(1440),!0)+"</font><br>");g+="<br>";0<G.V&&(g=g+'<b>Total</b><br>\u2022 highest tree level: <font color="#fff">'+(G.ob+"</font><br>"),g+='\u2022 achievements: <font color="#fff">'+G.Bb+"</font><br>",g+='\u2022 start time: <font color="#fff">'+u.zb(G.ta)+"</font><br>",g+='\u2022 duration: <font color="#fff">'+u.F(u.getTime()-G.ta)+"</font><br>",g+='\u2022 total earned: <font color="#fff">'+G.ia.toString(!0)+
"</font><br>",g+='\u2022 highest resources: <font color="#fff">'+G.fa.toString(!0)+"</font><br>",g+='\u2022 highest production/s: <font color="#fff">'+G.Ab.toString(!0)+"</font><br>",g+='\u2022 ferns: <font color="#fff">'+G.Ta+"</font><br>",g+='\u2022 planted (permanent): <font color="#fff">'+G.$b+"</font><br>",g+='\u2022 planted (watercress): <font color="#fff">'+G.bc+"</font><br>",g+='\u2022 deleted: <font color="#fff">'+G.xc+"</font><br>",g+='\u2022 upgrades: <font color="#fff">'+G.ec+"</font><br>",
0<G.Ua&&(g+='\u2022 fruits: <font color="#fff">'+G.Ua+"</font><br>",g+='\u2022 fruit upgrades: <font color="#fff">'+G.wc+"</font><br>"),g+='\u2022 weather abilities activated: <font color="#fff">'+G.Zb+"</font><br>",g+='\u2022 season changes seen: <font color="#fff">'+G.fd+"</font><br>",g+='\u2022 fastest run: <font color="#fff">'+u.F(G.Wb)+"</font><br>",g+='\u2022 longest run: <font color="#fff">'+u.F(G.Eb)+"</font><br>",g+="<br>");if(0<G.V){g=g+'<b>Ethereal</b><br>\u2022 transcensions: <font color="#fff">'+
(G.V+"</font><br>");g=1==G.va.length?g+'\u2022 last transcension level: <font color="#fff">':g+'\u2022 last transcension levels (recent first): <font color="#fff">';for(var h=0;10>h;h++){var k=G.va.length-1-h;if(0>k)break;g+=(0==h?" ":", ")+G.va[k]}g=g+'</font><br>\u2022 ethereal planted: <font color="#fff">'+(G.ad+"</font><br>");g+='\u2022 ethereal deleted: <font color="#fff">'+G.dc+"</font><br>";g+='\u2022 ethereal delete tokens: <font color="#fff">'+G.za+"</font><br>";g+="<br>"}0<G.V&&(g=g+'<b>Previous Run</b><br>\u2022 tree level: <font color="#fff">'+
(G.Nc+"</font><br>"),g+='\u2022 start time: <font color="#fff">'+u.zb(G.Mc)+"</font><br>",g+='\u2022 duration: <font color="#fff">'+u.F(G.Lc)+"</font><br>",g+='\u2022 total earned: <font color="#fff">'+G.pc.toString(!0)+"</font><br>",g+='\u2022 highest resources: <font color="#fff">'+G.oc.toString(!0)+"</font><br>",g+='\u2022 highest production/s: <font color="#fff">'+G.nc.toString(!0)+"</font><br>",g+='\u2022 ferns: <font color="#fff">'+G.Fc+"</font><br>",g+='\u2022 planted (permanent): <font color="#fff">'+
G.Hc+"</font><br>",g+='\u2022 planted (watercress): <font color="#fff">'+G.Ic+"</font><br>",g+='\u2022 deleted: <font color="#fff">'+G.Jc+"</font><br>",g+='\u2022 upgrades: <font color="#fff">'+G.Kc+"</font><br>",0<G.Ua&&(g+='\u2022 fruits: <font color="#fff">'+G.od+"</font><br>",g+='\u2022 fruit upgrades: <font color="#fff">'+G.Gc+"</font><br>"),g+='\u2022 weather abilities activated: <font color="#fff">'+G.nd+"</font><br>",g+="<br>");f.innerHTML=g};c+=.02;d=b();d.g.innerText="help";d.onclick=function(){ii()};
d=b();d.g.innerText="about & changelog";d.onclick=function(){gi()}};var ri=void 0,si=void 0,ti=void 0,ui=void 0,vi=void 0,wi=void 0;function xi(a,b,c,d){var f=d-c;return a+": "+b+"<br><br>Running time: "+u.F(c)+"<br>Cooldown time: "+u.F(f)+"<br>Total cycle: "+u.F(d)}
function yi(){ti&&!G.c[Nd].count&&(ta(ti),ta(ui),ti=void 0);if(!ti&&G.c[Nd].count){ti=new D(zi,[0,5],[0,.1],[0,5.8],[0,.9]);ka(ti.a);ui=new D(zi,[0,5],[0,.1],[0,6.5],[0,.9],2);ui.a.style.userSelect="none";ui.a.style.textShadow="0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff";ui.a.style.pointerEvents="none";var a=new D(ti,0,0,1,1);a=Oa("0%","0%","100%","100%",a.a);Pa(eb,a);ti.a.onclick=function(){X.push({type:Ai,Mb:1});W()};F(ti.a,function(){return xi("sun ability",
"berries get a production bonus and aren't affected by winter",vd(),pd(720))})}G.c[Nd].count&&(a=u.getTime()-G.Ha,a>pd(720)?ui.a.innerHTML="":ui.a.innerHTML=a>vd()?"ready in:<br> "+u.F(pd(720)-a,!0):'<font color="red">active:<br> '+u.F(vd()-a,!0)+"</font>");ri&&!G.c[Md].count&&(ta(ri),ta(si),ri=void 0);!ri&&G.c[Md].count&&(ri=new D(zi,[0,7],[0,.1],[0,7.8],[0,.9]),ka(ri.a),si=new D(zi,[0,7],[0,.1],[0,8.5],[0,.9],2),si.a.style.userSelect="none",si.a.style.textShadow="0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff",
si.a.style.pointerEvents="none",a=new D(ri,0,0,1,1),a=Oa("0%","0%","100%","100%",a.a),Pa(db,a),ri.a.onclick=function(){X.push({type:Ai,Mb:0});W()},si.a.onclick=ri.a.onclick,F(ri.a,function(){return xi("fog ability","mushrooms produce more spores, consume less seeds, and aren't affected by winter",wd(),pd(1080))}));G.c[Md].count&&(a=u.getTime()-G.Ca,a>pd(1080)?si.a.innerHTML="":si.a.innerHTML=a>wd()?"ready in:<br> "+u.F(pd(1080)-a,!0):'<font color="red">active:<br> '+u.F(wd()-a,!0)+"</font>");vi&&
!G.c[Rd].count&&(ta(vi),ta(wi),vi=void 0);!vi&&G.c[Rd].count&&(vi=new D(zi,[0,9],[0,.1],[0,9.8],[0,.9]),ka(vi.a),wi=new D(zi,[0,9],[0,.1],[0,10.5],[0,.9],2),wi.a.style.userSelect="none",wi.a.style.textShadow="0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff, 0 0 0.3em #fff",wi.a.style.pointerEvents="none",a=new D(vi,0,0,1,1),a=Oa("0%","0%","100%","100%",a.a),Pa(fb,a),vi.a.onclick=function(){X.push({type:Ai,Mb:2});W()},F(vi.a,function(){return xi("rainbow ability","rainbow ability: flowers get a boost and aren't affected by winter",
xd(),pd(1440))}));G.c[Rd].count&&(a=u.getTime()-G.Ga,a>pd(1440)?wi.a.innerHTML="":wi.a.innerHTML=a>xd()?"ready in:<br> "+u.F(pd(1440)-a,!0):'<font color="red">active:<br> '+u.F(xd()-a,!0)+"</font>")}
document.addEventListener("keydown",function(a){"a"==a.key&&S("a key no longer works since only 1 weather ability can be active at once now, use 1, 2 or 3 to enable an ability instead.");"1"==a.key&&(X.push({type:Ai,Mb:1}),W());"2"==a.key&&(X.push({type:Ai,Mb:0}),W());"3"==a.key&&(X.push({type:Ai,Mb:2}),W())});var Bi;
function Ci(){var a=C(1,function(){X.push({type:Di});ua();W()},"transcend","cancel");a.a.style.backgroundColor="#ff9";var b=Math.floor(G.f/wg),c=1<b?" "+u.la(b):"",d=J(b);a=new D(a,[0,.01],[0,.01],[1,-.01],.75,.3);var f="<b>Transcension"+c+"</b><br/><br/>";f=(1<b?f+"Higher transcensions work like transcension but give extra resin multiplier.<br/>":f+"Transcension starts a new basic field. Your first transcension also unlocks an ethereal field. On this field you can plant ethereal crops with resin. These crops give bonuses to the basic field in various ways. Resin can also be used for other ethereal upgrades. Unused resin also gives a slight boost. <br/>")+"<br/>";
1<b&&(f+="Collected resin: "+G.s.toString()+"<br/>",f+="Resin bonus for Transcension "+c+": "+d.toString()+"x<br/>");b=G.s.qa(d);f+="You will get:<br/>";f+="\u2022 "+b.toString()+" resin from your tree level "+G.f+"<br/>";f+="\u2022 "+Rg().D+" fruit essence from "+G.H.length+" fruits in the sacrificial pool<br/>";f+="<br/>";f+="What will be reset:<br/>";f+="\u2022 Basic field with all crops<br/>";f+="\u2022 Basic upgrades<br/>";f+="\u2022 Basic resources: seeds, spores<br/>";f+="\u2022 Tree level<br/>";
f+="\u2022 Fruits in the sacrificial pool<br/>";f+="<br/>";f+="What will be kept:<br/>";f+="\u2022 Achievements<br/>";f+="\u2022 Resin and fruit essence<br/>";f+="\u2022 Ethereal field and ethereal crops<br/>";f+="\u2022 Ethereal upgrades<br/>";f+="\u2022 Fruits in the active and storage slots<br/>";f+="\u2022 Current season<br/>";f+="<br/><br/>";a.a.innerHTML=f}
function Ei(a,b,c){c="<br/>"+c+":<br/>";for(var d=0;d<a.length;d++)c+="\u2022 "+a[d][0],a[d][1]?void 0!=a[d][2]&&0<d&&(c+=": "+Qb(a[d][2]).h(100).toString()+"%"):void 0!=a[d][2]&&0<d&&(c+=": "+a[d][2].toString()),void 0!=a[d][3]&&(c+=0==d?": ":" \u21d2 ",c=b?c+(a[d][3].h(100).toString()+"%"):c+a[d][3].toString()),c+="<br/>";return c}
function Fi(a,b,c){var d=u.T(b.name);d=d+"<br/>Crop type: "+nd(b.type);var f=od(b.type);f&&(d+="<br/>"+f);d+="<br/><br/>";f=Qd[a.y][a.x];if(1>a.o&&b.type!=O)d=c?d+("Growing. Total growing time: "+b.oa()):d+("Growing. Time to grow left: "+u.F((1-a.o)*b.oa(),!0,4,!0));else{b.type==O&&(c?(d+="Short-lived plant. Total lifetime: "+b.oa()+"s<br/><br/>",d+="Leech ability: if this plant has resource-producing long-lived neighbors, the watercress will leech (in a good way): it adds all their production to its own, no matter how high their tier! This has diminishing returns if there are multiple watercress plants in the entire field, max 1 or 2 watercress makes sense. A badly placed watercress can even negatively affect the leeching of all others. If you have no other crop types this is not yet relevant, plant as many watercress as you want then!<br/>"):
(d+="Short-lived plant. Time left: "+u.F(a.o*b.oa(),!0,4,!0)+"<br/><br/>",d+='<font color="#040">Can leech: to copy full production of long-lived neighbors</font><br/>'),d+="<br/>");var g=f.Oa;g.empty()&&b.type!=hd||(d+="Production per second: "+g.toString()+"<br/>",Tc(g)?f.qb.pb(f.Oa)&&(b.type==hd?d+="Needs more seeds, requires berries as neighbors.<br>Potential max production: "+f.qb.toString()+"<br/>":b.type!=O&&(d+="Needs more input resources, potential max production: "+f.qb.toString()+"<br/>")):
f.Oa.pb(f.Na)&&(d+="After consumption: "+f.Na.toString()+"<br/>"));Zb(b.wa,0)&&(d=b.type==jd?d+("Boosting spores: "+b.Va(a).h(100).toString()+"%. Nerfing neighbor berries and flowers<br/>"):d+("Boosting neighbors: "+b.Va(a).h(100).toString()+"%<br/>"))}d+="<br/>";c?(d+="Num planted of this type: "+G.Ya[b.index]+"<br>",d=d+"<br/>Cost: <br> \u2022 Base planting cost: "+(b.I.toString()+"<br>"),d+=" \u2022 Last planting cost: "+b.G(-1).toString()+"<br>",d+=" \u2022 Next planting cost: "+b.G().toString()+
"<br>",d+=" \u2022 Recoup on delete: "+b.G(-1).h(.33).toString()):(d+="Next planting cost: "+b.G().toString()+"<br>",d+="Recoup on delete: "+b.G(-1).h(.33).toString());return d}
function Gi(a,b){var c=G.B[b][a];if(Q(c)){var d=Kd(c),f=C();f.a.style.backgroundColor="#efec";var g=new D(f,[0,.01],[0,.01],[0,.2],[0,.2],.3);g=Oa("0%","0%","100%","100%",g.a);Pa(d.image[4],g);var h=0;d.type==O&&(h+=.2);var k=new D(f,[.01,.2],[0,.01],1,.17,.29);g=(new D(f,[.01,.2],[.3+h,.01],.5,.35+h,.8)).a;var p=(new D(f,[.01,.2],[.37+h,.01],.5,.42+h,.8)).a;h=(new D(f,[.01,.2],[.44+h,.01],.5,.49+h,.8)).a;var n=void 0;z(g);g.g.innerText="delete";g.g.style.color="#800";F(g,"Delete crop and get some of its cost back.");
g.onclick=function(){X.push({type:Hi,x:a,y:b});f.Ja();W()};z(p);p.g.innerText="detailed stats / bonuses";F(p,"Show breakdown of multipliers and bonuses and other detailed stats.");p.onclick=function(){var v=C(2);v.a.style.backgroundColor="#fedc";v=new D(v,.05,.05,.95,.8,.3);var l=""+Fi(c,d,!0);l+="<br/>";var m=d,q="";if(Cg(c)){var y=Qd[c.y][c.x];if(!m.ic(c).empty()){var A=y.Ob;q+=Ei(A,!1,"Breakdown (production/s)")}Zb(m.wa,0)&&(A=y.Ob,q+=Ei(A,!0,"Breakdown (neighboor boost +%)"));y.Qc&&0<y.Qc.length&&
(A=y.Qc,q+=Ei(A,!0,"Breakdown (leech)"))}v.a.innerHTML=l+q};z(h);h.g.innerText="see unlocked crops";F(h,"Show the crop dialog with unlocked plants.");h.onclick=function(){Ii(a,b,!0)};na=w(function(v,l){v=Fi(v,l);v!=n&&(n=k.a.innerHTML=v)},c,d);na(c,d)}else if(c.index==zg||c.index==Ag){d=Kd(c);f=C();f.a.style.backgroundColor="#fedc";g=new D(f,[0,.01],[0,.01],[0,.2],[0,.2],.3);g=Oa("0%","0%","100%","100%",g.a);Pa(Hb[xg(G.f)][1][Jd()],g);g=new D(f,[0,.01],[0,.199],[0,.2],[0,.4],.3);g=Oa("0%","0%","100%",
"100%",g.a);Pa(Hb[xg(G.f)][2][Jd()],g);p=new D(f,[.01,.2],[0,.01],1,.25,.3);h=new D(f,[.01,.2],.4,1,.75,.3);var r="<b>"+u.T(Hb[xg(G.f)][0])+"</b><br/>";r+="Tree level: "+G.f+"<br/>";if(0==G.f)p.a.innerHTML=r+"This tree needs to be rejuvenated first. Requires spores.<br/>";else{r=r+"<br/>Next level requires: "+(ef(G.f+1).toString()+"<br/>");var t=Math.floor(G.f/wg);g=1<t?" "+u.la(t):"";var x=J(t);r=r+"<br/>Resin ready: "+(G.s.toString()+"<br/>");r+="Resin added at next tree level: "+Wb(1.14,J(G.f+
1)).h(.5).toString()+"<br/>";1<t&&(r+="Resin bonus for Transcension "+g+": "+x.toString()+"x<br/>");r=r+"<br/>Tree level production boost to crops: "+(100*Ld*G.f+"%<br>");if(G.c[Md].m||G.c[Nd].m||G.c[Rd].m)r+="<br/>Abilities discovered:<br>",G.c[Md].m&&(r+="\u2022 Fog: benefits mushrooms when active<br>"),G.c[Nd].m&&(r+="\u2022 Sun: benefits berries when active<br>"),G.c[Rd].m&&(r+="\u2022 Rainbow: benefits flowers when active<br>");p.a.innerHTML=r;G.f<wg?1<=G.f&&(h.a.innerText="Reach tree level "+
wg+" to unlock transcension"):(p=(new D(h,0,0,.5,.2,.8)).a,z(p),p.g.innerText="Transcension "+g,p.g.style.boxShadow="0px 0px 5px #ff0",p.g.style.textShadow="0px 0px 5px #ff0",F(p,"Show the transcension dialog"),p.onclick=function(){Ci()})}}else Ii(a,b,!1)}
function pg(){Ji.clear();Bi=[];for(var a=0;a<G.v;a++){Bi[a]=[];for(var b=0;b<G.u;b++)Bi[a][b]=new Ki}var c=G.u/G.v;c=new D(Ji,[.5,-.5,c],[.5,-.5,1/c],[.5,.5,c],[.5,.5,1/c]);var d=Ji.a;a=Math.floor(d.clientWidth/G.u)-1;d=Math.floor(d.clientHeight/G.v)-1;a=d=Math.min(a,d);for(a=0;a<G.v;a++)for(b=0;b<G.u;b++){var f=ea(b/G.u*100+"%",a/G.v*100+"%",101/G.u+"%",101/G.v+"%",c.a),g=ea(b/G.u*100+"%",a/G.v*100+"%",101/G.u+"%",101/G.v+"%",c.a),h=ea(b/G.u*100+"%",a/G.v*100+"%",101/G.u+"%",101/G.v+"%",c.a);h.style.boxSizing=
"border-box";ia(h);f=Oa("0%","0%","100%","100%",f);g=Oa("0%","0%","100%","100%",g);Bi[a][b].a=h;Bi[a][b].canvas=g;Bi[a][b].xd=f;F(h,w(function(k,p){var n=G.B[p][k],r=void 0;if(G.Z&&k==G.Aa&&p==G.Ba)return"fern: provides some resource when activated.<br><br> The amount is based on production at time when the fern appears,<br>or starter resources when there is no production yet.<br>Once a fern appeared, letting it sit longer does not change the amount gives.";if(0!=n.index&&n.index!=Bg){if(Q(n))r=Fi(n,
Kd(n));else if(n.index==zg||n.index==Ag)if(k=ef(G.f+1).A.sub(G.l.A).a(Li.A),0>=G.f)r="a weathered tree",G.l.A.ja(J(0))&&(r+="<br>("+u.F(k.valueOf(),!0)+")");else return u.T(Hb[xg(G.f)][0])+" level "+G.f+".<br>Next level requires: "+ef(G.f+1).toString()+"<br>("+u.F(k.valueOf(),!0)+")";return r}},b,a,h),!0);h.style.cursor="pointer";h.onclick=w(function(k,p,n,r){n=G.B[p][k];var t=G.Z&&k==G.Aa&&p==G.Ba;G.Z&&k==G.Aa&&p==G.Ba&&(X.push({type:Mi,x:k,y:p}),W());!t&&n.index==zg||n.index==Ag?Gi(k,p):0==n.index||
n.index==Bg?r.shiftKey?0<=G.Gb?(X.push({type:Ni,x:k,y:p,Sb:Vd[G.Gb],Jd:!0}),W()):S("shift+click repeats last planted plant, but no last plant is set, plant the regular way first","#fee","#400"):r.ctrlKey?(X.push({type:Ni,x:k,y:p,Sb:Vd[Be],Se:!0}),W()):t||Gi(k,p):!t&&Q(n)&&(r.shiftKey||r.ctrlKey&&n.index-16==Be?G.fb?(X.push({type:Hi,x:k,y:p}),W()):S("shift+click to delete must be enabled in the settings before it is allowed","#fee","#400"):Gi(k,p))},b,a,h);h=Math.round(d/16);4>h&&(h=4);h=ea((b+.2)/
G.u*100+"%",(a+.9)/G.v*100+"%",100/G.u*.6+"%",100/G.v*.05+"%",c.a);la(h);Bi[a][b].progress=h}}var Oi=[0,1,0,0,1,0,1,1,0,1,1,0,1,0,1,1,1,1,0,1,1,1,1,1,0,1,0,0,1,0,1,0,1,1,1,0,0,0,1,0,0,1,1,0,1,1,0,0,1,0,0,0,0,1,1,0,1,1,0,1,1,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,0,1,0,0,1,0,0,1,9,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,0,1,1,0,1,0,1,0,1,0,1,0,0,1,0,1,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,0,1,0,0,1,0,1,1,0];
function Pi(a,b,c,d){a.fillStyle="#840";b*=3;for(var f=0;5>f;f++){f>=5-d&&(a.fillStyle="#f80");for(var g=30*f+b,h=0;3>h;h++)Oi[g+h]&&a.fillRect(c+h,11+f,1,1)}}function Qi(a,b,c){a=a.getContext("2d");10>b?Pi(a,b,6,c):100>b?(Pi(a,Math.floor(b/10),4,c),Pi(a,b%10,8,c)):1E3>b?(Pi(a,Math.floor(b/100),2,c),Pi(a,Math.floor(b/10)%10,6,c),Pi(a,b%10,10,c)):1E4>b&&(Pi(a,Math.floor(b/1E3),0,c),Pi(a,Math.floor(b/100)%10,4,c),Pi(a,Math.floor(b/10)%10,8,c),Pi(a,b%10,12,c))}
function Ri(a,b){var c=G.B[b][a],d=Bi[b][a],f=1<=c.o?4:Math.min(Math.floor(4*c.o),3);0<=f&&4>=f||(f=0);var g=Jd(),h=-1;c.index==Ag&&(0<G.f||G.l.A.ja(J(0)))&&(h=Math.min(.99,G.l.A.a(ef(G.f+1).A).valueOf()),h=Math.round(5*h));var k=G.Aa+G.Ba*G.u<<3|G.Z;if(d.index!=c.index||d.Ed!=f||g!=d.Id||G.f!=d.f||k!=d.Cd||h!=d.He){var p=u.ge(a,b,77777777),n=$a[g];p=.25>p?n[0]:.5>p?n[1]:.75>p?n[2]:n[3];if(c.index==Ag||c.index==zg)p=n[4];Pa(p,d.xd);d.Id=g;d.f=G.f;d.Cd=k;d.He=h;d.index=c.index;d.Ed=f;Q(c)?(h=Kd(c),
Pa(h.image[f],d.canvas),1<=c.o&&ma(d.progress,-1,void 0)):c.index==zg?Pa(Hb[xg(G.f)][1][g],d.canvas):c.index==Ag?(Pa(Hb[xg(G.f)][2][g],d.canvas),(0<G.f||G.l.A.ja(J(0)))&&Qi(d.canvas,G.f,h)):c.index==Bg?(Pa(Db,d.canvas),ma(d.progress,-1,void 0)):(ma(d.progress,-1,void 0),d.a.innerText="",Ra(d.canvas));G.Z&&a==G.Aa&&b==G.Ba&&(g=(2==G.Z?Ua:Sa)[g],f=d.canvas,a=g[0],b=g[1],g=g[2],f.width!=b&&(f.width=b),f.height!=b&&(f.height=g),f=f.getContext("2d"),Qa.width=b,Qa.height=g,Qa.getContext("2d").putImageData(a,
0,0),f.drawImage(Qa,0,0))}Q(c)&&1>c.o&&(h=Kd(c),ma(d.progress,c.o,h.type==O?"#0c0":"#f00"))};var Si;
function Ti(a,b,c){var d="Ethereal "+u.T(b.name);d+="<br/>Crop type: "+nd(b.type);d+="<br/><br/>";if(1>a.o)d+="Growing. Time to grow left: "+u.F((1-a.o)*b.oa(),!0,4,!0);else{b.Sc?d+="<br/>Effect: "+b.Sc+"<br/>":b.Tb&&(d+="<br/>Effect: "+b.Tb+"<br/>");var f=b.ic(a);f.empty()||(d+="Production per second: "+f.toString()+"<br/>",Tc(f)&&(d+="Consumes a resource produced by other crops<br/>"));Zb(b.wa,0)&&(d+="<br/>Boosting neighbors: "+b.Va(a).h(100).toString()+"%<br/>");if(b.type==gd||b.type==hd||b.type==
id)a=Uf(a),Zb(a,0)&&(d=d+"<br/>This effect is boosted by neighbors here: "+(a.h(100).toString()+"%<br/>"))}c&&(d=d+"<br/>Num planted of this type: "+G.tc[b.index],d+="<br/>");d+="<br/>Cost: ";c&&(d+="<br/>\u2022 Base planting cost: "+b.I.toString());d+="<br/>\u2022 Last planting cost: "+b.G(-1).toString();d+="<br/>\u2022 Next planting cost: "+b.G().toString();d+="<br/>\u2022 Recoup on delete (100%): "+b.G(-1).h(1).toString();c&&(d=d+"<br><br>Deleting ethereal crops refunds all resin, but can only be done after at least one more transcend and requires ethereal deletion tokens. You get 2 new such tokens per season (a season lasts 1 real-life day)<br><br>Deletion tokens available: "+
(G.za+" (max: 8)"),d+="<br><br>");return d}
function Ui(a,b){var c=G.R[b][a];if(Q(c)){var d=Vf[c.index-16],f=C();f.a.style.backgroundColor="#eefc";var g=new D(f,[0,.01],[0,.01],[0,.2],[0,.2],.3);g=Oa("0%","0%","100%","100%",g.a);Pa(d.image[4],g);var h=new D(f,[.01,.2],[0,.01],1,.17,.29);g=(new D(f,[.01,.2],[.6,.01],.5,.65,.8)).a;var k=(new D(f,[.01,.2],[.67,.01],.5,.72,.8)).a,p=void 0;z(g);g.g.innerText="delete";g.g.style.color="#800";c.lc&&(2>=d.bb||1<=c.o)&&(g.g.style.color="#888");G.za||(g.g.style.color="#888");F(g,"Delete crop, get 100% of the original resin cost back, but pay one ethereal deletion token.");
g.onclick=function(){X.push({type:Vi,x:a,y:b});f.Ja();W()};z(k);k.g.innerText="see unlocked crops";F(k,"Show the crop dialog with unlocked ethereal plants.");k.onclick=function(){Wi(a,b,!0)};na=w(function(n,r){n=Ti(n,r,!0);n!=p&&(p=h.a.innerHTML=n)},c,d);na(c,d)}else c.index==zg||c.index==Ag?(d=Vf[c.index-16],f=C(),f.a.style.backgroundColor="#eefc",g=new D(f,.05,.05,.95,.9,.3),c="<b>Ethereal Tree</b><br><br><b>Ethereal boosts from this field to basic field:</b><br>\u2022 starter resources: "+(yg().toString()+
"<br>"),c+="\u2022 berry boost: "+G.Tc.h(100).toString()+"%<br>",c+="\u2022 mushroom boost: "+G.Vc.h(100).toString()+"%<br>",c+="\u2022 flower boost: "+G.Uc.h(100).toString()+"%<br>",g.a.innerHTML=c+"<br><br>"):Wi(a,b)}
function Xi(){Si=[];for(var a=0;a<G.J;a++){Si[a]=[];for(var b=0;b<G.K;b++)Si[a][b]=new Ki}var c=G.K/G.J;c=new D(Yi,[.5,-.5,c],[.5,-.5,1/c],[.5,.5,c],[.5,.5,1/c]);var d=Yi.a;a=Math.floor(d.clientWidth/G.K)-1;d=Math.floor(d.clientHeight/G.J)-1;a=d=Math.min(a,d);for(a=0;a<G.J;a++)for(b=0;b<G.K;b++){var f=ea(b/G.K*100+"%",a/G.J*100+"%",101/G.K+"%",101/G.J+"%",c.a),g=ea(b/G.K*100+"%",a/G.J*100+"%",101/G.K+"%",101/G.J+"%",c.a),h=ea(b/G.K*100+"%",a/G.J*100+"%",101/G.K+"%",101/G.J+"%",c.a);h.style.boxSizing=
"border-box";ia(h);f=Oa("0%","0%","100%","100%",f);g=Oa("0%","0%","100%","100%",g);Si[a][b].a=h;Si[a][b].canvas=g;Si[a][b].xd=f;F(h,w(function(k,p){k=G.R[p][k];p=void 0;if(0!=k.index){if(Q(k))p=Ti(k,Vf[k.index-16],!1);else if(k.index==zg||k.index==Ag)return"ethereal tree";return p}},b,a,h),!0);h.onclick=w(function(k,p,n,r){n=G.R[p][k];n.index==zg||n.index==Ag?Ui(k,p):0==n.index?r.shiftKey?0<=G.Hb?(X.push({type:Zi,x:k,y:p,Sb:Vf[G.Hb],Jd:!0}),W()):S("shift+click repeats last planted plant, but no last plant is set, plant the regular way first",
"#fee","#400"):Ui(k,p):Q(n)&&(r.shiftKey?G.fb?(X.push({type:Vi,x:k,y:p}),W()):S("shift+click to delete must be enabled in the settings before it is allowed","#fee","#400"):Ui(k,p))},b,a,h);h=Math.round(d/16);4>h&&(h=4);h=ea((b+.2)/G.K*100+"%",(a+.9)/G.J*100+"%",100/G.K*.6+"%",100/G.J*.05+"%",c.a);la(h);Si[a][b].progress=h}}
function $i(a,b){var c=G.R[b][a],d=Si[b][a],f=1<=c.o?4:Math.min(Math.floor(4*c.o),3);if(d.index!=c.index||d.Ed!=f||4!=d.Id||G.Qa!=d.Qa||0!=d.Cd){b=u.ge(a,b,55555);a=$a[4];b=.25>b?a[0]:.5>b?a[1]:.75>b?a[2]:a[3];if(c.index==Ag||c.index==zg)b=a[4];Pa(b,d.xd);d.Id=4;d.Qa=G.Qa;d.Cd=0;d.index=c.index;d.Ed=f;Q(c)?(Pa(Vf[c.index-16].image[f],d.canvas),1<=c.o&&ma(d.progress,-1,void 0)):c.index==zg?Pa(Hb[xg(G.Qa)][1][4],d.canvas):c.index==Ag?(Pa(Hb[xg(G.Qa)][2][4],d.canvas),0<G.Qa&&Qi(d.canvas,G.Qa)):(ma(d.progress,
-1,void 0),d.a.innerText="",Ra(d.canvas))}Q(c)&&1>c.o&&ma(d.progress,c.o,"#f00")};function aj(a,b,c,d,f,g){var h=void 0;void 0!=f&&void 0!=g&&(h=G.B[g][f]);b=new D(d,.33*b+.01,[0,.33*c+.01,.5],[.33*(b+1)-.01],[0,.33*(c+1)-.01,.5],.75);b.a.style.border="1px solid black";c=new D(b,0,[.5,-.35],[0,.7],[.5,.35]);c=Oa("0%","0%","100%","100%",c.a);Pa(a.image[4],c);c=new D(b,[0,.7],0,1,[0,1]);d="<b>"+a.name+"</b><br>";d+="<b>cost:</b>"+a.G().toString()+"<br>";a.type==O&&(d+='<b><i><font color="#040">can leech</font></i></b><br>');f=a.ic(h,!0);f.empty()||(d+="<b>prod:</b>"+f.toString());
h=a.Va(h);Zb(h,0)&&(d+="<b>boost:</b>"+h.h(100).toString()+"%");c.a.innerHTML=d;G.l.Y(a.G())&&(c.a.style.color="#666");return b}
function Ii(a,b,c){for(var d=0,f=0;f<Ud.length;f++)G.ra[Ud[f]].m&&d++;for(f=d=0;f<Ud.length;f++)G.ra[Ud[f]].m&&d++;var g=C(12<=d?1:0);g.a.style.backgroundColor="#efec";var h=d=0,k=new D(g,.01,.01,.99,.05,.7);c?(ja(k.a),k.a.g.innerHTML="Unlocked crops..."):k.a.innerHTML="Choose a crop to plant<br>Tip: use SHIFT key on the field to plant last plant type, or CTRL for watercress.";k=new D(g,0,.1,1,.85);for(f=0;f<Ud.length;f++)if(G.ra[Ud[f]].m){var p=Ud[f],n=aj(Vd[p],d,h,k,a,b);d++;3<=d&&(d=0,h++);var r=
w(function(t){var x=Vd[t];t=c?u.T(x.name):"Plant "+x.name;t+=".<br><br>Crop type: "+nd(x.type);var v=od(x.type);v&&(t+=".<br>"+v);x.type==O&&(t+=".<br><br>Leech ability: if this plant has resource-producing long-lived neighbors, the watercress will leech (in a good way): it adds all their production to its own, no matter how high their tier! This has diminishing returns if there are multiple watercress plants in the entire field, max 1 or 2 watercress makes sense. A badly placed watercress can even negatively affect the leeching of all others. If you have no other crop types this is not yet relevant, plant as many watercress as you want then!");
t+="<br><br>Planting cost: "+x.G().toString();t=x.type==O?t+(".<br><br>Living time: "+u.F(x.oa())):t+(".<br><br>Growing time: "+u.F(x.oa()));t+=".<br><br>Production/sec:"+x.ic(G.B[b][a],!0).toString();return t+"."},p);F(n.a,r);c?n.a.onclick=w(function(t){t=t();var x=C(350>t.length?0:1);(new D(x,.01,.01,.99,.8,.4)).a.innerHTML=t},r):(n.a.onclick=w(function(t){X.push({type:Ni,x:a,y:b,Sb:Vd[t]});G.Gb=t;g.Ja();W()},p),ka(n.a))}};function bj(a,b,c,d){b=new D(d,.33*b+.01,[0,.33*c+.01,.5],[.33*(b+1)-.01],[0,.33*(c+1)-.01,.5],.8);c=b.a;c.style.border="1px solid black";c.style.backgroundColor="#9df";c=new D(b,0,[.5,-.35],[0,.7],[.5,.35]);c=Oa("0%","0%","100%","100%",c.a);Pa(a.image[4],c);c=new D(b,[0,.7],0,1,[0,1]);d="<b>"+a.name+"</b><br>";d+="<b>cost:</b>"+a.G().toString()+"<br>";a.Tb&&(d+="<b>effect:</b>"+a.Tb+"<br>");a=a.Va();Zb(a,0)&&(d+="<b>boost here:</b>"+a.h(100).toString()+"%");c.a.innerHTML=d;return b}
function Wi(a,b,c){for(var d=0,f=0;f<Wf.length;f++)G.da[Wf[f]].m&&d++;var g=C(),h=d=0,k=new D(g,0,0,1,.05,.5);g.a.style.backgroundColor="#eefc";ja(k.a);c?k.a.g.innerText="Unlocked ethereal crops...":k.a.g.innerHTML="Choose an ethereal crop to plant.<br>They cost resin, so choose wisely.<br>Ethereal crops give various bonuses to the basic field";k=new D(g,0,.1,1,.85);for(f=0;f<Wf.length;f++)if(G.da[Wf[f]].m){var p=Wf[f],n=bj(Vf[p],d,h,k);d++;3<=d&&(d=0,h++);F(n.a,w(function(r){var t=Vf[r];r=c?u.T(t.name):
"Plant ethereal "+t.name;r+="<br><br> Cost: "+t.G().toString();r+="<br><br> Plant time: "+u.F(t.bb);t.Sc?r+="<br><br>Effect: "+t.Sc:t.Tb&&(r+="<br><br>Effect: "+t.Tb);return r},p));c||(n.a.onclick=w(function(r){X.push({type:Zi,x:a,y:b,Sb:Vf[r]});G.Hb=r;g.Ja();W()},p),ka(n.a))}};var Z,cj,dj="",ej="",fj="",gj="";function hj(a,b){b||(G.mb=a);for(b=0;b<cj.length;b++)cj[b].a.style.visibility=a==b?"visible":"hidden";for(b=0;b<Z.length;b++)if(Z[b]){var c=Z[b],d=a==b?1:2;0==d?(c.color=c.Ud,c.Ad=c.Vd):1==d?(c.color=c.ze,c.Ad=c.Ae):2==d&&(c.color=c.Be,c.Ad=c.Ce);2==c.cf?c.style.color=c.color:c.style.backgroundColor=c.color}a==ij&&jj();a==kj&&(G.Wc=!0,lj=null,mj());a==nj&&oj();a==pj&&qj();rj()}
function sj(){if(G.mb==ij&&G.wd){for(var a=0;a<R.length;a++){var b=G.c[R[a]];b.m&&!b.S&&(b.S=!0)}Mg(G)}if(G.mb==nj&&G.ld){for(a=0;a<nf.length;a++);Mg(G)}if(G.mb==pj&&G.vd){for(a=0;a<ig.length;a++)b=G.P[ig[a]],b.m&&!b.S&&(b.S=!0);Mg(G)}b=ij;if(Z[b]){var c="upgrades<br/>("+G.Od+"/"+G.Qd+")";G.wd&&(c='<b><font color="red">'+c+"</font></b>");c!=dj&&(Z[b].style.lineHeight="",dj=Z[b].g.innerHTML=c)}b=kj;if(Z[b]){c="fruit<br/>("+(G.L.length+G.M.length+G.H.length)+")";G.Wc||(c='<b><font color="red">'+c+"</font></b>");
var d=0,f=0;for(a=0;a<G.L.length;a++)d=Math.max(d,G.L[a].O);for(a=0;a<G.M.length;a++)d=Math.max(d,G.M[a].O);for(a=0;a<G.H.length;a++)f=Math.max(f,G.H[a].O);f>d&&(c='<b><font color="red">'+c+"</font></b>");c!=ej&&(Z[b].style.lineHeight="",ej=Z[b].g.innerHTML=c)}b=pj;Z[b]&&(c="ethereal upgrades<br/>("+G.Ld+"/"+G.Nd+")",G.vd&&(c='<b><font color="red">'+c+"</font></b>"),c!=fj&&(Z[b].style.lineHeight="",fj=Z[b].g.innerHTML=c));b=nj;Z[b]&&(c="achievements<br/>("+G.kd+")",G.ld&&(c='<b><font color="red">'+
c+"</font></b>"),c!=gj&&(gj=Z[b].g.innerHTML=c,Z[b].style.lineHeight=""))}
function rj(){var a=[];a[tj]=!0;a[ij]=0<G.Pd;a[kj]=0<G.Ua;a[uj]=0<G.V;a[pj]=0<G.Md;a[nj]=0<G.kd;for(var b=0,c=0;c<a.length;c++)a[c]&&b++;if(1==b)for(c=0;c<a.length;c++)a[c]&&(a[c]=!1);var d=!0;for(c=0;c<a.length;c++)if(a[c]!=!!Z[c]){d=!1;break}d?sj():(Z=[],vj.a.innerHTML="",c=0,d=tj,a[d]&&(Z[d]=ea(100/b*c+"%","0%",100/b+"%","100%",vj.a),z(Z[d]),Z[d].onclick=w(function(f){hj(f)},d),Z[d].g.innerText="field",c++),d=ij,a[d]&&(Z[d]=ea(100/b*c+"%","0%",100/b+"%","100%",vj.a),z(Z[d]),Z[d].onclick=w(function(f){hj(f)},
d),Z[d].g.innerText="upgrades",dj="",c++),d=kj,a[d]&&(Z[d]=ea(100/b*c+"%","0%",100/b+"%","100%",vj.a),z(Z[d]),Z[d].onclick=w(function(f){hj(f)},d),Z[d].g.innerText="fruit",ej="",c++),d=uj,a[d]&&(Z[d]=ea(100/b*c+"%","0%",100/b+"%","100%",vj.a),z(Z[d]),Z[d].onclick=w(function(f){hj(f)},d),Z[d].g.innerText="ethereal field",Z[d].g.style.textShadow="0px 0px 5px #ff8",c++),d=pj,a[d]&&(Z[d]=ea(100/b*c+"%","0%",100/b+"%","100%",vj.a),z(Z[d]),Z[d].onclick=w(function(f){hj(f)},d),Z[d].g.innerText="ethereal upgrades",
Z[d].g.style.textShadow="0px 0px 5px #ff8",fj="",c++),d=nj,a[d]&&(Z[d]=ea(100/b*c+"%","0%",100/b+"%","100%",vj.a),z(Z[d]),Z[d].onclick=w(function(f){hj(f)},d),Z[d].g.innerText="achievements",gj="",c++),sj(),hj(G.mb,!0))};var wj=100,xj="",yj=1,zj=void 0,Aj=[],Bj=[];function S(a,b,c,d,f){if(f)Bj.push([a,b,c,d]);else{f=u.zb(G&&G.W?G.W:u.getTime());var g=Cj.a;a=u.T(a);!d&&a==xj&&zj?(yj++,a=xj+" ("+yj+"x)",zj.innerHTML=a,zj.title=f):(xj=a,yj=1,d=u.Cc("span",g),Aj.push(d),d.style.display="block",d.innerHTML=a,d.style.color=b||"white",c&&(d.style.backgroundColor=c),d.style.margin="4px",zj=d,zj.title=f,100<g.childNodes.length&&u.Pa(g.childNodes[0]),g.scrollTop=g.scrollHeight,Aj.length>wj&&(u.Pa(Aj[0]),Aj.shift(0)))}}
function Dj(){for(var a=0;a<Bj.length;a++){var b=Bj[a];S(b[0],b[1],b[2],b[3])}Bj=[]};var Li=N(),Ej=N(),Fj=N(),Gj=N(),Hj=N(),Ij=N(),Jj;function Kj(a){for(var b={},c=0;c<G.v;c++)for(var d=0;d<G.u;d++){var f=G.B[c][d],g=Qd[c][d];if(Q(f)){var h=Kd(f);Cg(f)&&(f=h.index,b[f]||(b[f]=J(0)),b[f].j(Nc(g.qc)[a]))}}a=[];for(var k in b)a.push(k);a.sort(function(p,n){return p<n});c="";for(d=0;d<a.length;d++)k=a[d],Pb(b[k],0)||(c+="\u2022 "+Vd[k].name+": "+b[k].toString()+"/s<br/>");return c}
function Lj(){Li=N();Ej=N();Fj=N();Gj=N();Hj=N();Ij=N();for(var a=0;a<G.v;a++)for(var b=0;b<G.u;b++){var c=Qd[a][b];Q(G.B[a][b])&&(Li.j(c.Na),Ej.j(Wc(c.Oa,new N)),Fj.j(Uc(c.Oa)),Gj.j(c.qc),Hj.j(Wc(c.qc,new N)),Ij.j(Uc(c.qc)))}}var Mj=["#dbecc8","#c3e4bc","#d3be9c","#eef"];
function Nj(){function a(p,n,r,t,x,v,l){var m=Lc[n];r=r[n];if(p){if(2==n)var q=G.s;7==n&&(q=Rg().D)}var y=Jj[f];f++;var A=!1;var B="";if(p)if(2==n){var E=Math.floor(G.f/wg);1>E&&(E=1);var I=1<E?" "+u.la(E):"",L=J(E),ha=q.qa(L);B=m+"<br>"+r.toString()+"<br>(\u2192 +"+ha.toString()+")"}else B=m+"<br>"+r.toString(),q&&(B+="<br>(\u2192 +"+q.toString()+")");else{var Aa=t[n];var Ma=x[n];var Ia=v[n];var Ta=l[n];A=!cc(Aa,Ia);B=m+"<br>"+r.toString()+"<br>"+Aa.toString()+"/s";A&&(B+=' <font color="#888">('+
Ia.toString()+"/s)</font>")}y.g.innerHTML=B;B="";p?(2==n&&(B="<b>"+u.T(m)+"</b><br/><br/>",B+="Current amount: "+r.toString()+"<br/><br/>",1<E&&(B+="Collected upcoming resin: "+q.toString()+"<br/><br/>",B+="Upcoming resin bonus for Transcension "+I+": "+L.toString()+"x<br/><br/>"),B+="Total upcoming amount: "+ha.toString()+"<br/><br/>"),7==n&&(B="<b>Fruit essence</b><br/><br/>Current amount: "+(r.toString()+"<br/><br/>"),B+="Amount from next sacrificed fruits: "+q.toString()+"<br/><br/>",B+="Using this to level up fruit abilities does not consume the global essence. Every fruit can use all the essence.<br/><br/>")):
(B="<b>"+u.T(m)+"</b><br/><br/>",B+="Current amount: "+r.toString()+"<br/><br/>",1==n&&(B+="Spores aren't used for crops but will automatically level up the tree, which increases the tree progress<br><br>"),Aa.pb(Ma)?(B=B+("Production ("+m+"/s):<br/>\u2022 Total: ")+(Ma.toString()+"/s<br/>"),B+="\u2022 To stacks: "+Aa.toString()+"/s<br/>",B+="\u2022 To consumers: "+Ma.sub(Aa).toString()+"/s<br/>"):(B+="\u2022 Production: "+Aa.toString()+"/s<br/>",B+="\u2022 Consumption: 0/s<br/>"),B+="<br/>",A&&(B=
B+("Potential production ("+m+"/s):<br/>\u2022 Total: ")+(Ta.toString()+"/s<br/>"),B+="\u2022 To stacks: "+Ia.toString()+"/s<br/>",B+="\u2022 To consumers: "+Ta.sub(Ia).toString()+"/s<br/>",B+="<br/>Potential production means: if mushrooms could consume as many seed as it needs, even if more than neighbor berries can produce<br/><br/>"));y.ud=B;y.Ke||(y.Ke=!0,F(y,function(){return y.ud},!0,!0),y.style.cursor="pointer",y.onclick=function(){var Y=C(p?0:1);Y.a.style.backgroundColor="#cccd";var K=Kj(n);
Y=new D(Y,.01,.01,.99,.8,.3);var ac=void 0;na=w(function(Rc,Lk){if(Rc.ud!=ac){var ei=Rc.ud;p||(ei+="Breakdown per crop type (as potential production/s): <br/>"+K);Lk.a.innerHTML=ei;ac=Rc.ud}},y,Y);na()})}var b=Oj.a;b.style.backgroundColor=Mj[Jd()];if(!Jj.length)for(var c=0;2>c;c++)for(var d=0;4>d;d++){var f=4*c+d,g=ea(25*d+"%",50*c+"%","25%","50%",b);g.style.border="1px solid black";ja(g);g.style.textOverflow="hidden";g.style.whiteSpace="nowrap";Jj[f]=g;g.style.lineHeight="90%"}b=["\ud83c\udf31 spring \ud83c\udf31",
"\u2600\ufe0f summer \u2600\ufe0f","\ud83c\udf42 autumn \ud83c\udf42","\u2744\ufe0f winter \u2744\ufe0f"][Jd()];c=0<G.f?"level "+G.f:"time";var h=Math.min(1,G.l.A.a(ef(G.f+1).A).valueOf());0<G.f&&(c+=" ("+Math.floor(100*h)+"%)");G.f>=wg&&(c='<span style="text-shadow:0px 0px 5px #ff0">'+c+"</span>");Jj[0].g.innerHTML=c+"<br>"+u.F(G.ya,!0,4,!0)+"<br>"+b;Jj[0].style.cursor="pointer";Jj[0].onclick=function(){function p(){var t="";if(0<G.f){t+="<b>Level:</b> "+G.f;if(G.f>=wg){var x="";G.f>=2*wg&&(x=" "+
u.la(Math.floor(G.f/wg)));t+=". Transcension"+x+" available, click the tree."}t=t+"<br><br><b>Progress to next level:</b> "+(Math.floor(100*h)+"%<br><br>")}t+="<b>Time in this field:</b> "+u.F(G.ya,!0,4,!0)+"<br><br>";t+="<b>Time since beginning:</b> "+u.F(G.hc,!0,4,!0)+"<br><br>";t+="<b>Current season:</b> "+u.T(ed[Jd()]);x=Jd();0==x&&(t+=". This boosts flowers.");1==x&&(t+=". Berries love this!");2==x&&(t+=". Mushrooms love this!");3==x&&(t+=". It brings harsh conditions.");return t=t+"<br><br><b>Season change in:</b> "+
(u.F(Pj(),!0)+".<br>")}var n=C(0),r=new D(n,.01,.01,.99,.8,.35);r.a.innerHTML=p();na=function(){r.a.innerHTML=p()}};F(Jj[0],function(){var p="Season change in: "+u.F(Pj(),!0)+".<br>";if(1<=G.f){var n=ef(G.f+1).A.sub(G.l.A).a(Li.A);p+="<br>Next tree level requires: "+ef(G.f+1).toString()+"<br>("+u.F(n.valueOf(),!0)+")"}return p},!0);f=1;Lj();b=Nc(G.l);c=Nc(Li);d=Nc(Ej);g=Nc(Gj);var k=Nc(Hj);Pb(G.fa.i,0)||a(!1,0,b,c,d,g,k);Pb(G.fa.A,0)||a(!1,1,b,c,d,g,k);(Zb(G.fa.s,0)||Zb(G.s,0))&&a(!0,2,b,c,d,g,k);
Pb(G.fa.ba,0)||a(!1,3,b,c,d,g,k);Pb(G.fa.N,0)||a(!1,4,b,c,d,g,k);Pb(G.fa.ca,0)||a(!1,5,b,c,d,g,k);Pb(G.fa.aa,0)||a(!1,6,b,c,d,g,k);Pb(G.fa.D,0)||a(!0,7,b,c,d,g,k)};var Qj=[],Rj=[],Sj=[],Tj=[],Uj=void 0,Vj,Wj;
function oj(){Uj!=Xj&&(Uj=Xj,Qj=[],Rj=[],Sj=[],Tj=[],Wj=new D(Xj,.02,.02,1,.05,1.2),Vj=new D(Xj,.02,.15,.9,2),Xj.a.style.overflowY="scroll",Xj.a.style.overflowX="hidden");var a="Achievement production bonus: +"+Qb(G.Dc).h(100).toString()+"%";Wj.a.innerHTML=a;a=nf.length;for(var b=-1,c=0;c<a;c++){var d=of[nf[c]],f=G.Ma[nf[c]],g=!1;f.ea&&(g=!0);void 0!=d.hint&&G.Ma[d.hint].ea&&(g=!0);if(g){b++;g=d.icon;f.ea||(g=Jb[mf(d)]);if(Tj[b]){var h=Tj[b];if(h.icon==g&&h.S==f.S&&h.index==c&&h.ea==f.ef)continue}Tj[b]=
{icon:g,S:f.S,index:c,ea:f.ea};h=b%10;var k=Math.floor(b/10);Qj[b]?h=Qj[b]:(h=new D(Vj,[0,h/10],[0,k/10],[(h+1)/10-.005],[0,(k+1)/10-.005]),Qj[b]=h);h=h.a;Rj[b]?k=Rj[b]:(k=Oa("0%","0%","100%","100%",h),Rj[b]=k);h=Qj[b];k=Rj[b];h=h.a;Pa(g,k);h.style.border=f.ea?"3px solid "+lf[mf(d)]:"";h.style.backgroundColor=f.ea?u.Ee(lf[mf(d)]):"#8888";g=Sj[b];!f.ea||f.S||Sj[b]||(g=Oa("0","0","25%","25%",h),Rj[b]=k,Sj[b]=g,Pa(ab,g));!f.S&&f.ea||!Sj[b]||(u.Pa(g),Sj[b]=void 0);d=w(function(p,n,r,t,x){n.ea&&!n.S&&
(n.S=!0,r.style.border="3px solid black",u.Pa(t),Sj[x]=void 0);r=mf(p);return n.ea?u.T(p.name)+"<br><br>"+u.T(p.description)+"<br><br>Production bonus: +"+p.ua.h(100).toString()+"%<br>Tier "+u.la(r)+": "+u.T(kf[r]):u.T(p.name)+'<br><br>Not yet earned. Unearned achievements are normally hidden, except hinted ones like this shown as "?"<br><br>Production bonus: +'+p.ua.h(100).toString()+"%<br>Tier "+u.la(r)+": "+kf[r]},d,f,h,g,b);F(h,d);h.onclick=w(function(p){var n=C(0);(new D(n,.05,.05,.95,.9,.5)).a.innerHTML=
p()},d)}}};function Yj(a,b,c){function d(){p=h;p+="<br><br>Cost: "+g.toString();if(!c&&Zb(g.i,0)){var n=g.i.a(G.l.i).h(100);$b(n,.001)&&(n=J(0));n.ja(J(100))?(n=g.i.sub(G.l.i).a(Li.i),p+=" ("+u.F(n.valueOf(),!0)+")"):p+=" ("+n.toString()+"% of stacks)"}else!c&&Zb(g.A,0)&&(n=g.A.a(G.l.A).h(100),$b(n,.001)&&(n=J(0)),n.ja(J(100))?(n=g.A.sub(G.l.A).a(Li.A),p+=" ("+u.F(n.valueOf(),!0)+")"):p+=" ("+n.toString()+"% of stacks)");void 0!=a.ha&&(p+="<br><br>have of this crop: "+G.Ya[a.ha]);a.description&&(p+="<br><br>"+
a.description);a.zc&&c&&(p+="<br><br>chosen: "+(1==G.c[a.index].count?a.yd:a.zd))}var f=b.a;f.style.border="1px solid black";f.style.backgroundColor="#ffe";var g=a.G(c?-1:0);f=new D(b,[0,.8],.05,1,.3,1);var h=c?a.Za():a.Dd();f.a.innerHTML=h;f.a.style.whiteSpace="nowrap";f=new D(b,.01,[.5,-.35],[0,.7],[.5,.35]);f.a.style.backgroundColor="#ccc";f.a.style.border="1px solid black";a.rb&&(f.a.style.backgroundColor=a.rb);a.sb&&(f.a.style.border="1px solid "+a.sb);if(a.Fb){var k=Oa("0%","0%","100%","100%",
f.a);Pa(a.Fb,k)}a.jc&&(k=Oa("0%","0%","100%","100%",f.a),Pa(a.jc,k));k=new D(b,[0,.8],.4,.9,[.5,.35],.9);var p="";d();c?k.a.innerText="Cost: "+g.toString():(k.a.innerText=(a.zc?"Choice: ":"Buy: ")+g.toString(),Ca(k),k.a.style.border="1px solid black",k.a.style.backgroundColor="#ccc",ka(k.a),G.l.Y(g)&&(k.a.style.color="#aaa"),k.a.onclick=w(function(n,r){if(a.zc){var t=C(void 0,function(){X.push({type:Zj,rc:a.index,shift:!1,Td:1});t.Ja()},a.yd,void 0,function(){X.push({type:Zj,rc:a.index,shift:!1,Td:2});
t.Ja()},a.zd);(new D(t,.01,.01,.99,.8,.3)).a.innerHTML=a.description}else X.push({type:Zj,rc:a.index,shift:r.shiftKey}),W()},T));F(b.a,function(){d();return p},!0);ka(f.a);f.a.onclick=function(){d();var n=C(0);(new D(n,[0,.01],[0,.01],.99,.9,.3)).a.innerHTML=p}}var ak=null,bk=!1,ck=[];
function dk(){ck=[];var a=[];for(var b=0;b<R.length;b++){var c=P[R[b]];1==c.pa&&Zb(c.I.A,0)&&a.push(R[b])}a=a.sort(function(h,k){h=P[h];k=P[k];return h.I.A.Y(k.I.A)?1:-1});for(b=0;b<a.length;b++)ck.push(a[b]);a=[];for(b=0;b<R.length;b++)c=P[R[b]],1==c.pa&&Pb(c.I.A,0)&&a.push(R[b]);a=a.sort(function(h,k){h=P[h];k=P[k];return h.I.i.Y(k.I.i)?1:-1});for(b=0;b<a.length;b++)ck.push(a[b]);a=[];for(b=0;b<R.length;b++)c=P[R[b]],1<c.pa&&a.push(R[b]);a=a.sort(function(h,k){h=P[h];k=P[k];return h.I.i.Y(k.I.i)?
1:-1});for(b=0;b<a.length;b++)ck.push(a[b]);a=[];var d=J(0);for(b=0;b<R.length;b++)if(c=P[R[b]],0==c.pa){var f=!bk||void 0==c.ha||!!G.Ya[c.ha]||Vd[c.ha].type==O;f&&(a.push(R[b]),c.I&&G.c[R[b]].m&&(d=bc(c.I.i,d)))}var g=d.uc(2);a=a.sort(function(h,k){h=P[h];k=P[k];var p=h.I.i,n=k.I.i;void 0!=h.ha&&Vd[h.ha].type==O&&(p=g);void 0!=k.ha&&Vd[k.ha].type==O&&(n=g);return p.Y(n)?1:-1});for(b=0;b<a.length;b++)ck.push(a[b]);if(bk){a=[];for(b=0;b<R.length;b++)c=P[R[b]],0==c.pa&&((f=!c.ha||!!G.Ya[c.ha]||Vd[c.ha].type==
O)||a.push(R[b]));a=a.sort(function(h,k){h=P[h];k=P[k];return h.I.i.Y(k.I.i)?1:-1});for(b=0;b<a.length;b++)ck.push(a[b])}}var ek=[];
function jj(){0==ck.length&&dk();fk=[];var a=0;ak&&(a=ak.a.scrollTop);gk.clear();var b=new D(gk,0,.01,1,1);ak=b;b.a.style.overflowY="scroll";b.a.style.overflowX="visible";b.a.style.border="5px solid #ccc";(new D(b,.01,.02,.95,.15,.3)).a.innerHTML="Hold shift to buy as many as possible<br>Click icon or see tooltip for more info";for(var c=[0,0],d=[],f=0;f<ck.length;f++){var g=ck[f];P[g].xb()&&d.push(g)}for(f=0;f<d.length;f++){g=P[d[f]];var h=f&1,k=f>>1,p=.45;h=new D(b,h*p+.01,[.15,k*p+.01,.27],[(h+
1)*p-.01],[.15,(k+1)*p-.01,.27],.75);Yj(g,h,!1)}var n=[];for(f=0;f<ck.length;f++)g=ck[f],G.c[g].count&&n.push(g);0<n.length&&(h=0,k=(d.length+1>>1)+.33,p=.45,b=new D(b,0*p+.01,[.15,k*p+.01,.27],[1*p-.01],[.15,(k+1)*p-.01,.27],.6),z(b.a),b.a.innerText="See Completed Upgrades",Ca(b),b.a.onclick=function(){var r=C();new D(r,[0,.01],[0,.01],.99,.9,.3);r=new D(r,0,.1,1,.9);r.a.innerText="";r.a.style.overflowY="scroll";for(var t=0;t<n.length;t++){var x=P[n[t]];ea(c[0],c[1],200,20,r.a);var v=t&1,l=t>>1;
v=new D(r,.45*v+.01,[0,.45*l+.01,.27],[.45*(v+1)-.01],[0,.45*(l+1)-.01,.27],.75);Yj(x,v,!0);v.a.style.color="#2a2";v.a.style.borderColor="#2a2"}});ak.a.scrollTop=a}var fk=[];
function hk(){for(var a=[],b=0;b<Ud.length;b++)a[b]=!!G.Ya[Ud[b]];var c=!0;for(b=0;b<a.length;b++)if(b>=ek||ek[b]!=a[b]){c=!1;break}c||(ek=a,dk());b=[];for(a=0;a<ck.length;a++)c=ck[a],P[c].xb()&&b.push(c);c=[];for(a=0;a<b.length;a++){var d=P[b[a]].G(0);G.l.Y(d)?c[a]=!0:c[a]=!1}b=!1;if(fk.length==c.length)for(b=!0,a=0;a<c.length;a++)if(c[a]!=fk[a]){b=!1;break}b||(jj(),fk=c)};function ik(a,b,c){var d=b.a;d.style.border="1px solid yellow";d.style.backgroundColor="#9df";d=a.G(c?-1:0);var f=new D(b,[0,.8],.05,1,.3,1),g=c?a.Za():a.Dd();f.a.innerHTML=g;f.a.style.whiteSpace="nowrap";f=new D(b,.01,[.5,-.35],[0,.7],[.5,.35]);a.rb&&(f.a.style.backgroundColor=a.rb);a.sb&&(f.a.style.border="1px solid "+a.sb);if(a.Fb){var h=Oa("0%","0%","100%","100%",f.a);Pa(a.Fb,h)}a.jc&&(h=Oa("0%","0%","100%","100%",f.a),Pa(a.jc,h));h=new D(b,[0,.8],.4,.9,[.5,.35],.8);var k=u.T(g);k+="<br><br>Cost: "+
d.toString();a.description&&(k+="<br><br>"+a.description);k+="<br><br>Non-refundable and permanent. Lasts through transcensions.";c?h.a.innerText="Cost: "+d.toString():(h.a.innerText="Cost: "+d.toString(),Ca(h),h.a.style.border="1px solid black",h.a.style.backgroundColor="#ccc",ka(h.a),G.l.Y(d)&&(h.a.style.color="#aaa"),h.a.onclick=w(function(){X.push({type:jk,rc:a.index});W()},T));F(b.a,k);ka(f.a);f.a.onclick=function(){var p=C(0);(new D(p,[0,.01],[0,.01],.99,.9,.3)).a.innerHTML=k}}var kk=null;
function qj(){var a=0;kk&&(a=kk.a.scrollTop);lk.clear();var b=new D(lk,0,.01,1,1);kk=b;b.a.style.overflowY="scroll";b.a.style.overflowX="visible";b.a.style.border="5px solid #ccc";for(var c=new D(b,.01,0,.99,.2,.25),d=[],f=0;f<ig.length;f++){var g=ig[f];jg[g].xb()&&d.push(g)}f="Ethereal upgrades are permanent and the resin is not refundable. You can also spend resin on plants in the ethereal field instead.<br><br>";f=0==d.length?f+"<i>No further ethereal upgrades are available for now.</i>":f+"Click the icon of an upgrade or see its tooltip for a more detailed description.";
c.a.innerHTML=f;var h=[0,0];for(f=0;f<d.length;f++){c=jg[d[f]];g=f&1;var k=f>>1,p=.45;g=new D(b,g*p+.01,[.25,k*p+.01,.25],[(g+1)*p-.01],[.25,(k+1)*p-.01,.25],.75);ik(c,g,!1)}var n=[];for(f=0;f<ig.length;f++)g=ig[f],G.P[g].count&&n.push(g);0<n.length&&(g=0,k=(d.length+1>>1)+.33,p=.45,b=new D(b,0*p+.01,[.25,k*p+.01,.27],[1*p-.01],[.25,(k+1)*p-.01,.27],.6),z(b.a),b.a.innerText="See Completed Upgrades",Ca(b),b.a.onclick=function(){var r=C();new D(r,[0,.01],[0,.01],.99,.9,.3);r=new D(r,0,.1,1,.85);r.a.innerText=
"";r.a.style.overflowY="scroll";r.a.style.overflowX="visible";for(var t=0;t<n.length;t++){var x=jg[n[t]];ea(h[0],h[1],200,20,r.a);var v=t&1,l=t>>1;v=new D(r,.45*v+.01,[0,.45*l+.01,.27],[.45*(v+1)-.01],[0,.45*(l+1)-.01,.27],.75);ik(x,v,!0);v.a.style.color="#2a2";v.a.style.borderColor="#2a2"}});kk.a.scrollTop=a}var mk=[];
function nk(){for(var a=[],b=0;b<ig.length;b++){var c=ig[b];jg[c].xb()&&a.push(c)}c=[];for(b=0;b<a.length;b++){var d=jg[a[b]].G(0);G.l.Y(d)?c[b]=!0:c[b]=!1}a=!1;if(mk.length==c.length)for(a=!0,b=0;b<c.length;b++)if(c[b]!=mk[b]){a=!1;break}a||(qj(),mk=c)};function Gd(a){switch(a){case Fd:return"berry boost";case Hd:return"mushroom boost";case Id:return"mushroom economy";case Sd:return"flower boost";case Bd:return"growing speed";case sd:return"weather cooldown";case Td:return"leech";case tg:return"fern"}return"unknown"}
function ok(a){switch(a){case Fd:return"boosts berry production";case Hd:return"boosts mushroom production but also consumption";case Id:return"reduces mushroom consumption";case Sd:return"boosts flowers effect";case Bd:return"reduces plants growing time";case sd:return"reduces weather ability cooldown time";case Td:return"increases the leech effect of watercress";case tg:return"increases the contents of ferns"}return"unknown"}var lj=null;
function pk(a,b){function c(){for(var v=0;v<n.length;v++)v==p?(n[v].a.style.boxShadow="0px 0px 5px #000",n[v].a.style.border="",n[v].a.style.backgroundColor="#afa"):(n[v].a.style.boxShadow="",n[v].a.style.border="1px solid #000",n[v].a.style.backgroundColor="#8d8");if(0>p)x.a.innerHTML="click ability to view or level up",k.style.visibility="hidden";else{k.style.visibility="";v=a.$[p];var l=a.ga[p];r+=t;h=u.T(Gd(v))+" "+u.la(l);h+="<br>";h+=u.T(ok(v));h+="<br>";h+="Current level: "+td(v,l,a.O).h(100).toString()+
"%";h+="<br>";h+="Next level: "+td(v,l+1,a.O).h(100).toString()+"%";x.a.innerHTML=h;v=vg(l,a.O);k.g.innerText="Level up: "+v.toString();G.l.D.sub(a.D).Y(v.D)?k.g.style.color="#666":k.g.style.color="";F(k,"Levels up this ability. Does not permanently use up essence, only for this fruit: all essence can be used in all fruits. Hold shift to level up multiple times but with only up to 25% of available essence");k.onclick=function(m){X.push({type:qk,Ub:a,index:p,shift:m.shiftKey});W();ua();pk(a,p)}}}lj=
a;mj();var d=C();d.a.style.backgroundColor="#efec";var f=new D(d,[0,.01],[0,.01],[0,.15],[0,.15],.3),g=Oa("0%","0%","100%","100%",f.a);Pa(gb[a.O],g);rk(f,a);f=new D(d,[.01,.15],.01,.99,.15,.3);var h=u.T(a.toString());h+="<br>";h+="Tier "+u.la(a.O)+": "+kf[a.O];h+="<br><br>";h+="Fruit essence available: "+G.l.D.sub(a.D).toString()+" of "+G.l.D.toString();h+="<br>";h+="Fruit essence used: "+a.D.toString();h+="<br>";h+="Get on sacrifice: "+N({D:10*ug(a.O)}).toString();f.a.innerHTML=h;var k=(new D(d,
[.01,.15],.16,.3,.19,1.5)).a;z(k);k.g.innerText="help";k.g.onclick=function(){var v=C(),l=(new D(v,.01,.01,.99,.1,.4)).a;ja(l);l.g.innerText="Fruit help";v=(new D(v,.01,.11,.99,.85,.3)).a;v.style.overflowY="scroll";v.style.backgroundColor="#aca";v.innerHTML="Fruits have one or more abilities from a random set.<br/><br/>You can move fruits between the active, stored and sacrificial slots with the buttons in the fruit dialog. You can only have one active fruit and only the abilities of the active fruit have an effect. You can switch the active fruit at any time.<br/><br/>Fruit essence can be used to level up abilities, increasing their effect. If the fruit has mutliple abilities, click the ability you want to upgrade first.<br/><br/>All fruit essence is available for all fruits, leveling up an ability in one fruit does not consume any fruit essence for other fruits. Example: if you have 50 fruit essence and 3 fruits, then you can use 50 essence in fruit 1, you can also use 50 essence in fruit 2, and you can also use 50 essence in fruit 3, and in any future fruits as well. If you now sacrifice a fruit that gives 10 essence, you have 10 more essence available for all the others.<br/><br/>Leveling up abilities permanently affects this fruit, you cannot undo it. This only matters if this fruit has more than one ability so that you have to choose which ones to level up. And if unhappy with this fruit, you can always wait for a next one and sacrifice this one.<br/><br/>To get more fruit essence, sacrifice fruits by putting them in the sacrificial pool and transcending (available at high enough tree level). The amount of fruit essence of sacrificed fruits depends on their tier (zinc, bronze, ...), the ability levels or how much essence you've used to level them up don't matter for this.<br/><br/>The active and stored fruits do not get sacrificed and stay after transcension.<br/><br/>Higher tier fruits may have more abilities, and abilities provide more boost.<br/><br/>Click the fruit logo in the fruit dialog to mark as favorite and alter color effects (visual effect only)."};
var p=void 0==b?1<a.$.length?-1:0:b,n=[],r=.22,t=.04;for(b=0;b<a.$.length;b++)f=new D(d,[.01,.15],r,.7,r+t,.5),r+=1.1*t,h=u.T(Gd(a.$[b]))+" "+u.la(a.ga[b]),f.a.innerHTML=h,F(f.a,"current boost: "+td(a.$[b],a.ga[b],a.O).h(100).toString()+"%"),ia(f.a),n[b]=f,f.a.style.backgroundColor="#fff",ka(f.a),f.a.onclick=w(function(v){p=v;c()},b);r+=.02;t=.15;b=new D(d,[.01,.15],r,.7,r+t);b.a.style.backgroundColor="#0f02";b.a.style.border="1px solid black";r+=t;var x=new D(b,.01,0,.99,.5,.4);k=(new D(b,.01,.7,
.5,.95,.7)).a;z(k);r+=.05;t=.05;10>a.slot||(b=(new D(d,[.01,.15],r,.45,r+t,.8)).a,r+=1.1*t,z(b),b.g.innerText="to active slot",10>a.slot&&(b.g.style.color="#666"),b.onclick=function(){X.push({type:sk,Ub:a,slot:0});W();ua()});10<=a.slot&&20>a.slot||(b=(new D(d,[.01,.15],r,.45,r+t,.8)).a,r+=1.1*t,z(b),b.g.innerText="to storage slot",10<=a.slot&&20>a.slot&&(b.g.style.color="#666"),G.M.length>=G.Sa&&(b.g.style.color="#666"),b.onclick=function(){X.push({type:sk,Ub:a,slot:1});W();ua()});20<=a.slot||(d=
(new D(d,[.01,.15],r,.45,r+t,.8)).a,r+=1.1*t,z(d),d.g.innerText="to sacrificial pool",20<=a.slot&&(d.g.style.color="#666"),d.onclick=function(){X.push({type:sk,Ub:a,slot:2});W();ua()});ka(g);g.onclick=function(){a.mark=((a.mark||0)+1)%5;mj();ua();pk(a,p)};F(g,"click to mark as favorite and toggle color style. This is a visual effect only.");c()}
function rk(a,b){for(var c=0,d=0;d<b.ga.length;d++)c=Math.max(c,b.ga[d]);c=rg(c,20);var f=Ea([192*c,255,32,112]);c=Math.floor(f[0]).toString(16);d=Math.floor(f[1]).toString(16);var g=Math.floor(f[2]).toString(16);f=Math.floor(f[3]).toString(16);1==c.length&&(c="0"+c);1==d.length&&(d="0"+d);1==g.length&&(g="0"+g);1==f.length&&(f="0"+f);a.a.style.backgroundColor="#"+c+d+g+f;b.mark?(c=1==b.mark?"#f008":2==b.mark?"#fe08":3==b.mark?"#4c48":"#06c8",a.a.style.border="3px solid "+c):a.a.style.border="1px solid black";
a.a.style.boxShadow=lj==b?"0px 0px 16px #000":""}function tk(a,b){var c=Oa("0%","0%","100%","100%",a.a);Pa(gb[b.O],c);c=u.T(b.toString());c+="<br>Fruit tier "+u.la(b.O);for(var d=0;d<b.$.length;d++)c+="<br>",c+="Ability: "+u.T(Gd(b.$[d]))+" "+u.la(b.ga[d]);rk(a,b);F(a.a,c);a.a.onclick=function(){pk(b)}}
function mj(){uk.clear();var a=new D(uk,0,.01,1,1);a.a.style.overflowY="scroll";a.a.style.overflowX="visible";a.a.style.border="5px solid #ccc";var b=new D(a,.01,.02,.95,.15,.3);b.a.innerText="Fruit collection";var c=.1;b=new D(a,.01,[0,c+.1/3],.33,[0,c+.1],.66);c+=.1;b.a.innerText="active fruit";var d="Only the fruit in the active slot will grant the abilities. The fruit in the active slot is kept after transcensions, just like those in storage. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to the active slot.";
F(b.a,d);b=new D(a,[.01,0],[0,c],[.01,.1],[0,c+.1]);c+=.1;b.a.style.border="1px solid black";G.L.length?tk(b,G.L[0]):(b.a.style.backgroundColor="#ccc",F(b.a,"No active fruit present in this slot. "+d),b.a.onclick=w(function(p){lj=null;mj();S("No active fruit present in this slot. "+p)},d));b=new D(a,.01,[0,c+.1/3],.33,[0,c+.1],.66);c+=.1;b.a.innerText="stored fruits";d="Fruits in storage slots are kept after transcension, unlike those in the sacrificial pool. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to storage.";
F(b.a,d);for(var f=G.Sa,g=0,h=0;h<f;h++){b=new D(a,[.01,g],[0,c],[.01,g+.1],[0,c+.1]);g+=.1;b.a.style.border="1px solid black";var k=h<G.M.length?G.M[h]:void 0;k?tk(b,k):(b.a.style.backgroundColor="#ccc",F(b.a,"No stored fruit present in this slot. "+d),b.a.onclick=w(function(p){lj=null;mj();S("No stored fruit present in this slot. "+p)},d))}c+=.1;b=new D(a,.01,[0,c+.1/3],.33,[0,c+.1],.66);c+=.1;b.a.innerText="sacrificial fruit pool";d="Fruits in here will be turned into fruit essense on the next transcension. To get a fruit in here, click a fruit elsewhere and use its dialog to move it to the sacrificial pool.";
F(b.a,d);f=Math.max(4,G.H.length);for(h=g=0;h<f;h++)b=new D(a,[.01,g],[0,c],[.01,g+.1],[0,c+.1]),g+=.1,1<g&&(g=0,c+=.1),b.a.style.border="1px solid black",(k=h<G.H.length?G.H[h]:void 0)?tk(b,k):(0==h?(b.a.style.border="1px solid #000",b.a.style.backgroundColor="#ccc"):1==h?(b.a.style.border="1px solid #0008",b.a.style.backgroundColor="#ccc8"):2==h?(b.a.style.border="1px solid #0004",b.a.style.backgroundColor="#ccc4"):3==h&&(b.a.style.border="1px solid #0002",b.a.style.backgroundColor="#ccc2"),F(b.a,
"No fruit present in this sacrificial pool slot. "+d),b.a.onclick=w(function(p){lj=null;mj();S("No fruit present in this sacrificial pool slot. "+p)},d));c+=.1};var Ji,gk,uk,Yi,lk,zi,Oj,vj,vk,Cj,Xj,sa=null;window.onresize=function(){sa&&sa.update()};var tj,ij,kj,nj,uj,pj;function oi(){vk.clear();vj.clear();Z=[];cj=[];var a=0;tj=a++;ij=a++;kj=a++;uj=a++;pj=a++;nj=a++;for(var b=0;b<a;b++)cj[b]=new D(vk,0,0,1,1);Ji=cj[tj];Ji.a.style.userSelect="none";gk=cj[ij];uk=cj[kj];Xj=cj[nj];Yi=cj[uj];Yi.a.style.userSelect="none";lk=cj[pj];rj();pg();Jj=[];Oj.clear();Xi();wk();G?hj(G.mb):hj(0,!0)}function wk(){jj();rj();qj()}document.body.style.fontFamily="Arial, sans-serif";
document.body.style.backgroundColor="#def";var G=Lg();sa&&ta(sa);sa=new D(null,[0,.01,.75],.01,[0,.99,.75],.99);zi=new D(sa,0,0,1,.05);Oj=new D(sa,0,.05,1,.18,.25);vj=new D(sa,0,.18,1,.28,.25);vk=new D(sa,0,.285,1,.79);Cj=new D(sa,0,.8,1,1,.25);sa.update();var xk=Cj.a;xk.innerText="";xk.style.overflowY="scroll";zj=void 0;xj="";yj=1;xk.style.backgroundColor="#000";
(function(){var a=(new D(zi,[0,.1],[0,.1],[0,.9],[0,.9])).a;a.style.cursor="pointer";a.style.userSelect="none";a.title="Settings";a.style.background="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABwUlEQVR4Ac3Xs7tfQRDG8Y2ddLHtPvb/ESdlbLsNythsYtu27VSx8eZbz3P3nLn4ofhs/a7mmQnTp08viik4hft4iNOYiwD4FTXAGci4ls0ATyDjXUkGqIItGI8A6xtk/EU5BGMIdqCGN0BdXIYgLEN5BATUgiKaIiCgLJZAEG6gYVqAKrgMGSfQA+vwDYr4jk3oiYOQcRM1kgJshjJsV1KAgVCGjbYBrMVQhqzyPMKyOAA5/MFvyOEkKni/YWco4jPmoC1KoxRaYQY+QhH93HUAqyELj9ASIaIJ7kAWtnkD1McXyPiCVggpmuADZPxEU5SyAabgAl7iFxSxAMFpGhTxG69wEXMDy1HIoSOCU3PI4WKI3ZnxD+UQnErhO5TieWC57QxQPgMBnuXFFUzDJbzC70w/QvzBa1zBvIKOrkHkG351fsOm+Bj5hs1QGkUuRA8zU4iKXopLZaIUl8V+yOE3fkEOJ1DeE2ARlCEr0wIMgDJsZFKATVCG7UxrSi8lNKVrHU3pxpSmtLoNYNUxnfFy08nUhiKaJ7TlN9EQ7sFkG0aVwGAy3D+Y+D3O6GjmcDrXw+k0nMYDPMIZzEMA/P4DcB3trAqvUhUAAAAASUVORK5CYII=)";a.style.backgroundSize=
"cover";a.classList.add("pixelated");fa(a,"onmouseover",function(){a.style.filter="brightness(0.4)"});fa(a,"onmouseout",function(){a.style.filter=""});a.onclick=function(){var c=C();ni(c)};var b=(new D(zi,[1,-.9],[0,.1],[1,-.1],[0,.9])).a;b.style.cursor="pointer";b.style.userSelect="none";b.title="About";b.classList.add("pixelated");b.classList.add("changelogbutton");b.onclick=function(){gi()};b=new D(zi,[0,1.6],[0,.15],[0,3.3],[0,.85],2);z(b.a);b.a.g.innerText="Undo";b.a.onclick=function(c){c.shiftKey?
(S("held shift key while pressing undo button, so saving undo instad."),yk(G)):(zk(),W());ra()};F(b.a,"Undo your last action(s). Press again to redo.<br><br>Undo is saved when doing an action, but with at least a minute in-between, so multiple actions in quick succession may all be undone.<br><br>No matter how long ago the undo was saved, you still get the correct produced resources now for that timespan.")})();var li=!1;function fi(a){Yh(G,function(b){u.cb(b,Xc);a&&a(b)})}
function ki(){var a=[],b=u.Ea($c);b&&a.push(["last from older game version",b]);(b=u.Ea(ad))&&a.push(["last from second-older game version",b]);(b=u.Ea(bd))&&a.push(["last manual save",b]);(b=u.Ea(dd))&&a.push(["last transcend",b]);(b=u.Ea(cd))&&a.push(["last save for undo feature",b]);(b=u.Ea(Zc))&&a.push(["last known good",b]);var c=u.Ea(Yc);c&&a.push(["last known attempted",c]);c=u.Ea(Xc);b&&a.push(["last",c]);return a}
function Ak(){Yh(u.clone(G),function(d){u.cb(d,dd)});u.Xa(Yc);li=!1;var a=G.s,b=Math.floor(G.f/wg);1>b&&(b=1);a=a.h(b);b=Rg();var c="Transcended! Got resin: "+a.toString();G.H.length&&(c+=". Sacrificed "+G.H.length+" fruits and got "+b.toString());S(c,"#40f","#ffd");0==G.V&&S("This is your first transcension. Check the new ethereal field tab, spend resin on ethereal plants for bonuses to your basic field. Get more resin by transcending again.","#0ff","#044");G.da[bg].m=!0;G.da[dg].m=!0;G.da[fg].m=
!0;G.da[$f].m=!0;G.da[hg].m=!0;G.time=u.getTime();G.W=G.time;G.va.push(G.f);100<G.va.length&&(G.va=G.va.shift());G.Mc=G.kb;G.Lc=G.ya;G.qd=G.Rb;G.pc=G.xa;G.oc=G.ab;G.nc=G.$a;G.Fc=G.tb;G.Ic=G.jb;G.pd=G.ib;G.Hc=G.hb;G.Jc=G.ub;G.Kc=G.vb;G.rd=G.wb;G.nd=G.gb;G.od=G.Pb;G.Gc=G.Gc;0==G.Eb?(G.Wb=G.ya,G.Eb=G.ya):(G.Wb=Math.min(G.Wb,G.ya),G.Eb=Math.max(G.Eb,G.ya));G.kb=G.time;G.ya=0;G.Rb=0;G.xa=N();G.ab=N();G.$a=N();G.tb=0;G.jb=0;G.ib=0;G.hb=0;G.ub=0;G.vb=0;G.wb=0;G.gb=0;G.Pb=0;G.Qb=0;G.ob=Math.max(G.f,G.ob);
G.Nc=G.f;G.V++;G.Gb=-1;G.Hb=-1;G.l.i=J(0);G.l.A=J(0);c=yg();G.l.j(c);G.ia.j(c);G.xa.j(c);G.l.s.j(a);G.ia.s.j(a);G.xa.s.j(a);G.Db.j(a);G.s=J(0);G.l.j(b);G.ia.j(b);G.xa.j(b);G.H=[];7==G.u&&7==G.v&&(a=G.P[qg].count?6:5,G.u=a,G.v=a,pg());Jg(G);for(a=0;a<G.J;a++)for(b=0;b<G.K;b++)G.R[a][b].lc=!1;G.f=0;G.Vb=new N;G.Z=!1;Li=new N;G.Ca=0;G.Ha=0;G.Ga=0;G.ra=[];for(a=0;a<Ud.length;a++)G.ra[Ud[a]]=new Dg;G.ra[Be].m=!0;G.c=[];for(a=0;a<R.length;a++)G.c[R[a]]=new Fg;hj(0);Bk();Jj=[];Oj.clear()}
function Ki(){this.progress=this.a=void 0}var X=[],Ck=0,Mi=Ck++,Ni=Ck++,Hi=Ck++,Zj=Ck++,Zi=Ck++,Vi=Ck++,jk=Ck++,Ai=Ck++,Di=Ck++,sk=Ck++,qk=Ck++,Dk=u.getTime();function Ek(a){return!a||!0}function Bk(){}var pi="",qi=0;function yk(a){qi=u.getTime();Yh(a,function(b){pi=b;u.cb(pi,cd)},function(){pi=""})}
function zk(){""!=pi&&pi?(Yh(G,function(a){Zh(pi,function(){S("Undone","#f8a");oi();W();pi=a;u.cb(pi,cd)},function(){S("Not undone, failed to load undo-save")})},function(){S("Not undone, failed to save redo save")}),qi=0):S("No undo present. Undo is stored when performing an action.","#fee","#400")}
function Fk(){var a=G.md;if(2>a){a=Math.floor(Math.random()*G.u);var b=Math.floor(Math.random()*G.v),c=G.B[b][a];c.index!=zg&&c.index!=Ag||a++;return[a,b]}var d=Math.floor(Math.random()*a),f=0;for(b=0;b<G.v;b++)for(a=0;a<G.u;a++)if(c=G.B[b][a],0==c.index||c.index==Bg){if(f==d)return[a,b];f++}}function Jd(){return Math.floor((G.time-G.ta)/86400)%4}function Pj(){var a=G.time-G.ta;a/=86400;a-=Math.floor(a);return 86400-86400*a}
function Gk(a){this.Ub=a;this.x=a.x;this.y=a.y;this.wa=J(0);this.qb=N();this.qc=N();this.Wa=N();this.Na=N();this.Oa=N();this.Xd=[];this.Oc=[];this.hd=J(0);this.Ob=[];this.Qc=[];this.ae=-1;this.be=0}var Qd=[];
function Hk(){var a=G.u,b=G.v;Qd=[];for(var c=0;c<b;c++){Qd[c]=[];for(var d=0;d<a;d++)Qd[c][d]=new Gk(G.B[c][d])}for(c=0;c<b;c++)for(d=0;d<a;d++){var f=G.B[c][d],g=Kd(f);if(g){var h=Qd[c][d];if(g.type==id||g.type==jd)h.wa=g.Va(f,h.Ob)}}for(c=0;c<b;c++)for(d=0;d<a;d++)if(f=G.B[c][d],(g=Kd(f))&&g.type==O)for(var k=Pd(g),p=0;4>p;p++){f=d+(1==p?1:3==p?-1:0);var n=c+(2==p?1:0==p?-1:0);0>f||f>=a||0>n||n>=b||Qd[n][f].hd.j(k)}for(c=0;c<b;c++)for(d=0;d<a;d++)f=G.B[c][d],(g=Kd(f))&&g.type!=id&&g.type!=jd&&
(h=Qd[c][d],f=g.ic(f,!1,h.Ob),h.qb=f,h.qc=N(f),h.Wa=N(f),$b(h.Wa.i,0)&&h.Wa.i.C(h.hd.U(1)));for(c=0;c<b;c++)for(d=0;d<a;d++)if(f=G.B[c][d],(g=Kd(f))&&(g.type==gd||g.type==hd))for(h=Qd[c][d],p=0;4>p;p++)if(f=d+(1==p?1:3==p?-1:0),n=c+(2==p?1:0==p?-1:0),!(0>f||f>=a||0>n||n>=b)){var r=G.B[n][f];if(r=Kd(r))f=Qd[n][f],g.type==gd&&r.type==hd&&h.Xd.push(f),g.type==hd&&r.type==gd&&h.Oc.push(f)}for(k=0;4>k;k++){p=4==k+1;for(var t=!1,x=0;x<b;x++)for(n=0;n<a;n++)if(c=x,d=n,k&1&&(c=b-x-1,d=a-n-1),f=G.B[c][d],
(g=Kd(f))&&g.type==hd&&(h=Qd[c][d],0!=h.Oc.length))for(c=Rb(h.Wa.i).uc(h.Oc.length),d=0;d<h.Oc.length;d++)f=h.Oc[d],f.ae!=k&&(f.Na=N(f.Wa),f.ae=k),r=f.Na.i.uc(f.Xd.length),p&&(c=Rb(h.Wa.i).qa(h.hd.U(1)),r=f.Wa.i),g=c,g=J(g.Y(r)?g:r),g.Fd(0)&&(t=!0,h.Wa.i.j(g),f.Wa.i.X(g));if(!t)break}for(c=0;c<b;c++)for(d=0;d<a;d++)if(f=G.B[c][d],g=Kd(f))h=Qd[c][d],h.Na=N(h.Wa),h.Oa=N(h.qb),g.type==hd&&(f=Rb(h.qb.i).qa(h.hd.U(1)),Pb(f,0)||(f=f.add(h.Wa.i).a(f),h.Na.A.C(f),h.Na.i=J(0),h.Oa.A.C(f),h.Oa.i.C(f)));for(c=
0;c<b;c++)for(d=0;d<a;d++)if(f=G.B[c][d],(g=Kd(f))&&g.type==O){k=Pd(g);h=Qd[c][d];t=N();for(p=x=0;4>p;p++)if(f=d+(1==p?1:3==p?-1:0),n=c+(2==p?1:0==p?-1:0),!(0>f||f>=a||0>n||n>=b)&&(r=G.B[n][f],r=Kd(r)))if(f=Qd[n][f],r.type==gd||r.type==hd)n=f.qb.qa(k),r=f.Na.qa(k),f=f.Oa.qa(k),h.Na.j(r),h.Oa.j(f),h.qc.j(n),t.j(f),x++;h.be=x;t.empty()?h.Ob.push(["no neighbors, not leeching",!1,t,h.Oa.clone()]):(h.Ob.push(['<b><i><font color="#040">leeching neighbors ('+x+")</font></i></b>",!1,t,h.Oa.clone()]),Pd(g,
h.Qc))}}function Ng(a){a=a||G;0>a.Da&&(a.Da=Math.floor(281474976710656*Math.random()));var b=a.Da,c=b&16777215;b=(16777216*(1502*c+15525485*Math.floor(b/16777216)&16777215)+15525485*c+11)%281474976710656;a.Da=b;return b/281474976710656}
function Ik(){var a=Ng();var b=15<=G.f?.75<a?2:1:.75<a?1:0;a=new Og;a.O=b;var c=1;1<=b&&(c=2);3<=b&&(c=3);5<=b&&(c=4);7<=b&&(c=5);b=c;c=[Fd,Hd,Id,Sd,Td,Bd,sd,tg];for(var d=0;d<b;d++){var f=Math.floor(Ng()*c.length);var g=c[f];c.splice(f,1);f=1+Math.floor(4*Ng());a.$.push(g);a.ga.push(f)}0==G.L.length?Qg(0,a):G.M.length<G.Sa?Qg(10+G.M.length,a):Qg(20+G.H.length,a);G.Pb++;G.Ua++;1==G.Ua&&S('You received your first fruit! Fruits provide boosts and can be upgraded. See the "fruit" tab.',"#0ff","#044");
mj();return a}function Jk(){function a(h){b=Math.min(b,h)}var b=Pj();G.time-G.Ca<wd()&&a(wd()-G.time+G.Ca);G.time-G.Ha<vd()&&a(vd()-G.time+G.Ha);G.time-G.Ga<xd()&&a(xd()-G.time+G.Ga);for(var c=0;c<G.v;c++)for(var d=0;d<G.u;d++){var f=G.B[c][d],g=Kd(f);g&&(g.type==O?a(g.oa()*f.o):1>f.o&&a(g.oa()*(1-f.o)))}return b}
function W(a){var b=void 0;0<X.length&&60<u.getTime()-qi&&(b=u.clone(G));var c=!1,d=0,f=0;if(Ek(a)){0==G.W&&(G.W=u.getTime());a=void 0;for(var g=N(G.l),h=G.W,k=!1,p=0;!(k||365<p++);){var n=G.W,r=u.getTime();G.time=G.W;var t=0==G.W||G.W>r?0:r-G.W;k=0;1<t&&(k=Jk()+.5);t>k&&2<k?(t=k,r=G.W+t,k=!1,G.time=r-2):(k=!0,G.time=r);G.W=r;Math.floor((n-G.ta)/86400)%4!=Math.floor((r-G.ta)/86400)%4&&(Li&&(a=N(Li)),d++);t*=G.Je;G.hc+=t;G.ya+=t;n=new N;0==G.cc&&S("You need to gather some resources. Click a fern to get some.",
"#0ff","#044");for(var x=!1,v=0;v<X.length;v++){var l=X[v],m=l.type;if(m==Zj){m=P[l.rc];for(var q=l.shift&&1!=m.pa,y=0,A=N(G.l);;){var B=m.G();if(G.l.Y(B)){q&&0<y||S("not enough resources for upgrade: need "+B.toString()+", have: "+Vc(B).toString(),"#fee","#400");break}else if(m.xb())G.l.X(B),m.vc(l.Td),y++,q||S("upgraded: "+m.Za()+", consumed: "+B.toString(),"#ff0","#000"),c=!0,G.vb++,G.ec++;else{q&&0<y||S("this upgrade is not currently available","#fee","#400");break}if(!q)break;if(q&&m.kc())break;
if(1E3<y)break}q&&y&&(q=A.sub(G.l),1==y?S("upgraded: "+m.Za()+", consumed: "+q.toString(),"#ff0","#000"):S("upgraded "+m.name+" "+y+" times to "+m.Za()+", consumed: "+q.toString(),"#ff0","#000"));y&&(wk(),l.rc==Oe&&(S("You unlocked your first permanent type of plant. Plants like this stay on the field forever and have much more powerful production upgrades too.","#0ff","#044"),S('If you plant watercress next to permanent plants, the watercress will add all its neighbors production to its own ("leech"), so watercress remains relevant if you like to use it. If there is more than 1 watercress in the entire field this gives diminishing returns.',
"#4ff","#088")))}else if(m==jk)m=jg[l.rc],B=m.G(),G.l.Y(B)?S("not enough resources for ethereal upgrade: need "+B.toString()+", have: "+Vc(B).toString(),"#fee","#400"):m.xb()?(G.l.X(B),m.vc(),S("Ethereal upgrade applied: "+m.Za()+", consumed: "+B.toString(),"#ffc","#640"),c=!0,G.yc++):S("this ethereal upgrade is not currently available","#fee","#400"),wk();else if(m==Ni)m=G.B[l.y][l.x],q=l.Sb,B=q.G(),Q(m)?S("field already has crop","#fee","#400"):0!=m.index&&m.index!=Bg?S("field already has something",
"#fee","#400"):G.ra[q.index].m?G.l.Y(B)?S("not enough resources to plant "+q.name+": need "+B.toString()+", have: "+Vc(B).toString(),"#fee","#400"):(S("planted "+q.name+". Consumed: "+B.toString()+". Next costs: "+q.G(1)),q.type==O?(G.bc++,G.jb++,1==G.jb&&0==G.ib&&(S("you planted your first plant! It's producing seeds. This one (unlike most later ones) is short-lived so will need to be replanted soon. Watercress will remain useful later on as well since it can leech.","#0ff","#044"),S("TIP: hold SHIFT to plant last crop type, CTRL to plant watercress",
"#0ff","#044"))):(G.ac++,G.ib++),G.l.X(B),m.index=q.index+16,m.o=0,q.type==O&&(m.o=1),Mg(G),c=!0):l.Jd&&(G.Gb=-1,S("shift+click repeats last planted plant, but no last plant is set, plant the regular way first","#fee","#400"));else if(m==Zi)m=G.R[l.y][l.x],q=l.Sb,B=q.G(),Q(m)?S("field already has crop","#fee","#400"):0!=m.index?S("field already has something","#fee","#400"):G.da[q.index].m?G.l.Y(B)?S("not enough resources to plant "+q.name+": need "+B.toString()+", have: "+Vc(B).toString(),"#fee",
"#400"):(S("planted ethereal "+q.name+". Consumed: "+B.toString()+". Next costs: "+q.G(1)),G.Cb++,G.l.X(B),m.index=q.index+16,m.o=0,m.lc=!0,m.index-16==$f&&(c=yg(1).sub(yg(0)),G.l.j(c),G.ia.j(c),G.xa.j(c)),Mg(G),c=!0):l.Jd&&(G.Hb=-1,S("shift+click repeats last planted plant, but no last plant is set, plant the regular way first","#fee","#400"));else if(m==Hi)m=G.B[l.y][l.x],Q(m)&&(q=Kd(m),c=q.G(-1).h(.33),1>m.o&&q.type!=O?(c=q.G(-1),S("plant was still growing, full refund given","#f8a"),G.ac--,G.ib--):
(G.xc++,G.ub++),m.index=0,m.o=0,Mg(G),q.type==O?S("deleted "+q.name+". Since this is a short-lived plant, nothing is refunded"):(G.l.j(c),S("deleted "+q.name+", got back: "+c.toString())),c=!0);else if(m==Vi)m=G.R[l.y][l.x],l=null,m.index-16==$f&&(l=yg(0).sub(yg(-1))),0>=G.za&&Q(m)&&1<=m.o?S("cannot delete: must have ethereal deletion tokens to delete ethereal crops. You get 2 new such tokens per season (a season lasts 1 real-life day)","#fee","#400"):m.lc&&(1<=m.o||2>=Vf[m.index-16].bb)?S("cannot delete: this ethereal crop was planted during this transcension. Must transcend at least once."):
m.index-16==$f&&G.l.Y(l)?S("cannot delete: must have at least the starter seeds which this crop gave to delete it, they will be forfeited.","#fee","#400"):Q(m)&&(q=Vf[m.index-16],c=q.G(-1).h(1),m.index-16==$f&&(G.l.X(l),G.ia.X(l),G.xa.X(l)),1>m.o?(c=q.G(-1),S("plant was still growing, resin refunded and no delete token used","#f8a"),G.Cb--):(G.dc++,0<G.za&&G.za--,S("deleted ethereal "+q.name+", got back "+c.toString()+", used 1 ethereal deletion token, "+G.za+" tokens left")),m.index=0,m.o=0,Mg(G),
G.l.j(c),c=!0);else if(m==Mi)G.Z&&G.Aa==l.x&&G.Ba==l.y&&(G.Ta++,G.tb++,m=G.Vb,1==G.Z?S("That fern gave: "+m.toString(),"#4a0","#120",!0):(m=m.h(5),S("This fern is extra bushy! It gave "+m.toString(),"#4a0","#120",!0)),n.j(m),G.Bc=G.time,G.Z=0,x=!0,0==G.Gd&&G.l.add(m).i.gd(10)&&S("You have enough resources to plant. Click an empty field to plant","#4ff","#088"),c=!0);else if(m==Ai){q=l.Mb;m=G.time-G.Ca;l=G.time-G.Ha;y=G.time-G.Ga;B=!1;if(m<wd()||l<vd()||y<xd())B=!0;0==q?G.c[Md].count&&(m<pd(1080)?
S(m<wd()?"fog is already active":"fog is not ready yet","#fee","#400"):B?S("there already is an active weather ability","#fee","#400"):(G.Ca=G.time,S("fog activated, mushrooms produce more spores, consume less seeds, and aren't affected by winter"),c=!0,G.gb++,G.Zb++)):1==q?G.c[Nd].count&&(l<pd(720)?S(l<vd()?"sun is already active":"sun is not ready yet","#fee","#400"):B?S("there already is an active weather ability","#fee","#400"):(G.Ha=G.time,S("sun activated, berries get a boost and aren't affected by winter"),
c=!0,G.gb++,G.Zb++)):2==q&&G.c[Rd].count&&(y<pd(1440)?S(y<xd()?"rainbow is already active":"rainbow is not ready yet","#fee","#400"):B?S("there already is an active weather ability","#fee","#400"):(G.Ga=G.time,S("rainbow activated, flowers get a boost and aren't affected by winter"),c=!0,G.gb++,G.Zb++))}else if(m==sk)m=l.Ub,q=l.slot,q!=(10>m.slot?0:20>m.slot?1:2)&&(0==q?(Qg(m.slot,Pg(l.slot)),Qg(l.slot,m)):1==q?G.M.length>=G.Sa?S("stored slots already full","#fee","#400"):(l=10+G.M.length,Qg(m.slot,
void 0),Qg(l,m)):2==q&&(l=20+G.H.length,Qg(m.slot,void 0),Qg(l,m))),mj();else if(m==qk){m=l.Ub;A=l.index;q=m.$[A];y=m.ga[A];B=vg(y,m.O).D;var E=G.l.D.sub(m.D);if(l.shift){E.ka(.25);for(y=0;E.$d(B)&&!(m.D.j(B),m.ga[A]++,c=!0,G.Qb++,G.wc++,E.X(B),B=vg(m.ga[A],m.O).D,y++,1E3<y););0<y&&S("Fruit ability "+Gd(q)+" leveled up "+y+" times to level "+m.ga[A])}else E.Y(B)?S("not enough essence for fruit upgrade: need "+B.toString()+", available for this fruit: "+E.toString(),"#fee","#400"):(m.D.j(B),m.ga[A]++,
S("Fruit ability "+Gd(q)+" leveled up to level "+m.ga[A]),c=!0,G.Qb++,G.wc++);mj()}else m==Di&&G.f>=wg&&(Ak(),c=!0)}X=[];c&&b&&yk(b);Hk();Li=N();for(v=0;v<G.v;v++)for(l=0;l<G.u;l++)m=G.B[v][l],Q(m)&&(y=Qd[v][l],q=Kd(m),B=N(),q.type==O?(q=t/q.oa(),m.o-=q,0>=m.o&&(m.o=0,m.index=2<=y.be?Bg:0),B=y.Na):1>m.o?0==q.oa()?m.o=1:(q=t/q.oa(),m.o+=q,1<=m.o&&(m.o=1,G.$b++,G.hb++,1==G.hb&&(S("your first permanent (non-withering) plant has fully grown! Click plants for details and extra actions.","#4ff","#088"),
S("plant watercress next to blackberry to leech for extra production! This gets less effective with more watercress, 1-2 max in world is advisable, placed in best spot between multiple berries.","#4ff","#088")))):B=y.Na,Li.j(B),n.j(B.h(t))),Ri(l,v);for(v=0;v<G.J;v++)for(l=0;l<G.K;l++)m=G.R[v][l],Q(m)&&(q=Vf[m.index-16],1>m.o&&(0==q.oa()?m.o=1:(q=t/q.oa(),m.o+=q,1<=m.o&&(m.o=1,G.ad++,1==G.Ne&&S("your first ethereal plant has fullgrown! It provides a bonus to your basic field.","#4ff","#088"))))),$i(l,
v);t=!1;v=0;G.Z||x||(x=G.l.i,v=0,v=Pb(x,0)&&Li.empty()?0:$b(x,15)?3:$b(x,150)?10:$b(x,1500)?60:120,1==G.c[ff].count&&(v+=420),G.time>G.Bc+v&&(t=!0),v*=.25);t&&(t=Fk())&&(x=v*(Math.random()+.5),2==G.c[ff].count&&(x*=1.25),q=Li.h(x),$b(q.i,2)&&(q.i=Math.max(q.i,J(2*Math.random()+1))),m=new N({i:q.i,A:q.A}),y=rd(tg),0<y&&(x=J(1).add(td(tg,y,ud())),m.C(x)),G.Vb=m,G.Z=1,G.Aa=t[0],G.Ba=t[1],6==G.Ta||10<G.Ta&&.1>Math.random())&&(G.Z=2);t=ef(G.f+1);G.l.na(t)&&(G.f++,f++,x=Wb(1.14,J(G.f)).h(.5),G.s.j(x),G.l.X(t),
G.ob=Math.max(G.f,G.ob),t="Tree leveled up to: "+Hb[xg(G.f)][0]+", level "+G.f+". Consumed: "+t.toString()+". Tree boost: "+J(G.f*Ld*100).toString(2,pc)+"%. Resin added: "+x.toString()+". Total resin ready: "+G.s.toString(),9==G.f&&(t+=". The tree is so close to becoming an adult tree now."),S(t,"#2f2"),2==G.f?S("The tree discovered a new ability!","#cfc","#800"):3==G.f?S('The tree is providing a choice, choose one of the two choices under "upgrades"',"#cfc","#800"):4==G.f?S("The tree discovered another ability",
"#cfc","#800"):5==G.f?(t=Ik(),S("The tree is halfway to adulthood. The tree dropped a fruit! "+u.T(t.toString())+": "+t.Rd(),"#800","#cfc")):6==G.f?S("The tree discovered another new ability!","#cfc","#800"):8==G.f?S('The tree is providing a choice again, under "upgrades"',"#cfc","#800"):15==G.f&&(t=Ik(),S("The tree dropped another fruit! "+u.T(t.toString())+": "+t.Rd(),"#800","#cfc")),1==G.f?S("Thanks to spores, the tree completely rejuvenated and is now a "+Hb[xg(G.f)][0]+", level "+G.f+". More spores will level up the tree more. The tree can unlock abilities and more at higher levels. Click the tree for more info.",
"#0ff","#044"):G.f==wg&&S("The tree reached adulthood, and is now able to transcend! Click the tree to view the transcension dialog.","#0ff","#044"));5<=G.f&&0==G.Ua&&-1==G.Da&&(S('Your tree level is higher than 5 but you didn\'t get a random fruit yet! Must have come from a previous version of the game before the "Fruit Update". One random fruit added now to get you started with this new feature.',"#ff0"),G.Da=Math.floor(G.ta)&4294967295,Ik(),G.Da=-1,Ng());G.l.j(n);for(v=0;v<R.length;v++)t=R[v],
!G.c[t].m&&P[t].sd()&&(G.c[t].m?S('Received: "'+P[t].Za()+'". '+P[t].description,"#cfc","#800"):(G.c[t].m=!0,G.wb++,G.ed++,1==G.wb&&S('You unlocked your first upgrade! Check the "upgrades" tab to view it.',"#0ff","#044"),S('Upgrade available: "'+P[t].Za()+'"',"#ffc","#008")));if(0<G.V&&0<G.Cb){x=0==G.fc;for(v=m=0;v<ig.length;v++)t=ig[v],!G.P[t].m&&jg[t].sd()&&(G.P[t].m=!0,G.fc++,m++,S('Ethereal upgrade available: "'+jg[t].Za()+'"',"#44f","#ff8"));m&&x&&S('You unlocked your first ethereal upgrade! Check the "ethereal upgrades" tab to view it. Ethereal upgrades cost resin, just like ethereal plants do, but ethereal upgrades are permanent and non-refundable',
"#0ff","#044")}for(v=0;v<nf.length;v++)t=nf[v],!G.Ma[t].ea&&of[t].Wd()&&(G.Bb++,G.Ma[t].ea=!0,S("Achievement unlocked: "+of[t].name,"#fe0","#430"),oj(),t==rf&&S("The field is full. If more room is needed, old crops can be deleted, click a crop to see its delete button. Ferns will still appear safely on top of crops, no need to make room for them.","#0ff","#044"),1==G.Bb&&S("You got your first achievement! Achievements give a slight production boost.","#0ff","#044"));G.ia.j(n);G.xa.j(n);G.fa=Wc(G.fa,
G.l);G.ab=Wc(G.ab,G.l);G.Ab=Wc(G.Ab,Li);G.$a=Wc(G.$a,Li);G.cc++;G.Rb++;Mg(G)}r=u.getTime();r>Dk+180&&Kk()&&(G.Zc++,fi(function(){r>Math.max(G.Ac,Math.max(G.Xb,G.Yb))+172800?(S('Auto-saved state locally. Reminder: make a manual savegame backup or risk losing everything. Use "export save" under settings.',"#000","#ff0"),G.Ac=u.getTime()):S("Auto-saved state locally","#888")}),Dk=r);b=G.W-h;300<b&&(g=G.l.sub(g),h="",1<d&&(h=". The season changed "+d+" times"),p="",0<f&&(p=". The tree leveled up "+f+
" times"),S("Large time delta: "+u.F(b,!0,4,!0)+", gained at once: "+g.toString()+h+p,"#999"));1==d&&(f="",a&&(f=". Income before: "+a.toString()+". Income now: "+Li.toString()),S("The season changed, it is now "+ed[Jd()]+f,"#fff","#260"));0<d&&(G.fd++,d*=2,8<G.za+d&&(d=8-G.za),G.za+=d,G.Yc+=d,0<d&&0<G.V&&S("Received "+d+" ethereal deletion tokens","#45d","#9de"));Nj();hk();nk();rj();yi();wa&&wa();na&&na();Dj();Bk()}};function Mk(a){for(var b=[],c=0;c<a.length;c++)b[c]=Sg[a[c]];for(c=0;3>c;c++){a=b;var d=c,f=a.length,g=f>>1,h=f+1>>1;d++;for(var k=0;k<f;k++)a[k]^=d&63,d>>=1;for(k=1;k<a.length;k++)a[k]=a[k]+a[k-1]&63;for(k=a.length-1;0<k;k--)a[k-1]=a[k-1]+a[k]&63;for(k=0;k<f;k++)a[k]=(a[k]<<1|a[k]>>5)&63;d=[];for(k=0;k<g;k++)d[2*k]=a[k],d[2*k+1]=a[k+g];f&1&&(d[f-1]=a[f-1]);for(k=0;k<f;k++)a[k]=d[k];for(k=0;k<h;k++){g=2*k;if(g>=f)break;d=(2*k+1)%f;if((a[g]&1)==(a[d]&1)){var p=a[g];a[g]=a[d];a[d]=p}}}a="";for(c=0;c<
b.length;c++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b[c]];return a}var Nk=Uh;Uh=function(a){a=Mk(a);return Mk(Nk(a))};function Ok(a,b){if(!a&&!b)return!0;if(void 0!=a.i){if(a.Ka(b))return!0;a=Nc(a);b=Nc(b);if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(!Ok(a[c],b[c]))return!1}else if(void 0!=a.b){if(!Ok(a.b,b.b)||!Ok(a.e,b.e))return!1}else return isNaN(a)&&isNaN(b)?!0:a==b;return!0}
function Pk(a,b){return Ok(a.l,b.l)&&Ok(a.u,b.u)&&Ok(a.v,b.v)&&Ok(a.W,b.W)&&Ok(a.Da,b.Da)&&Ok(a.Sa,b.Sa)?!0:!1}function Qk(a,b){b.l=u.clone(a.l);b.u=a.u;b.v=a.v;b.W=a.W;b.Da=a.Da;b.Sa=a.Sa}var Rk,Sk;Ek=function(){Pk(G,Rk)&&Pk(G,Sk)||Pk(Rk,Sk)&&Qk(Rk,G);return!0};Bk=function(){Mg(G);Rk={};Qk(G,Rk);Sk={};Qk(G,Sk)};function Tk(a){Uk?a():window.setTimeout(a)}var Vk=Xh;Xh=function(a){Rk={};Qk(a,Rk);Sk={};Qk(a,Sk);Vk(a)};function Wk(a,b,c){a?b&&b(a):c&&c()}function Xk(a,b,c){a=Sh(a);Tk(w(Wk,a,b,c))}
Yh=function(a,b,c){a.mc=qc;a.precision=rc;Tk(w(Xk,a,b,c))};function Yk(a,b,c){a&&!a.he?(Xh(a),b&&b(a)):c&&c(a)}function Zk(a,b,c){a=Vh(a);Tk(w(Yk,a,b,c))}Zh=function(a,b,c){Tk(w(Zk,a,b,c))};window.onbeforeunload=function(){Tk=function(a){a()};fi()};var Th=4114;function hi(){var a=""+(Th>>12)/10;1==a.length&&(a+=".0");return a+"."+(Th&4095)}document.title="Ethereal Farm v"+hi();S("Welcome to Ethereal Farm v"+hi(),"yellow","gray");function $k(){oi();W();u.Ie(function(){W(!0)})}
(function(a,b){var c=u.Ea(Xc);if(c){var d=Th;4<c.length&&Ug(c)&&(d=4096*Sg[c[2]]+64*Sg[c[3]]+Sg[c[4]],d<Th&&((d=u.Ea($c))&&u.cb(d,ad),u.cb(c,$c)));Zh(c,function(f){oi();W();a(f);f=u.Ea(Zc);(!f||!f.length||Sg[c[5]]>=Sg[f[5]])&&u.cb(c,Zc)},function(f){if(22<c.length&&Ug(c)&&"E"==c[0]&&"F"==c[1]){u.Ea(Yc)||u.cb(c,Yc);for(var g=ki(),h=0;h<g.length;h++)S(g[h][0]+" : "+g[h][1],"#f00","#ff0");0==g.length&&S("current: "+c,"#f00","#ff0");g="Loading failed. Copy the saves in the dialog for recovery, or else you may lose it forever. If the dialog got closed, refresh to see it again, or copypaste the saves printed above instead, they are the same recovery saves, make sure to copy all (it is scrolled up and to the right).";
f&&4==f.Ra&&(g+=" Loading fail reason: parsing format");f&&5==f.Ra&&(g+=" Loading fail reason: decompression");f&&6==f.Ra&&(g+=" Loading fail reason: checksum mismatch");f&&7==f.Ra&&(g+=" Loading fail reason: savegame is of later version than current game version");S(g,"#f00","#ff0");ji(!0);li=!0}b(f)})}else b&&b(void 0)})(function(){S("Loaded local save","#888");$k()},function(){Xh(Lg());$k()});pi=u.Ea(cd,"");function Kk(){return li?0<G.ec:0<G.V||0<G.Ta||0<G.Bb||0<G.ac||0<G.bc?!0:!1}var Uk=!1;
window.onbeforeunload=function(){Uk=!0;G.Lb&&Kk()&&fi()};
